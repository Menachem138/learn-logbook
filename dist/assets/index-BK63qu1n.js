var xv=t=>{throw TypeError(t)};var xh=(t,e,n)=>e.has(t)||xv("Cannot "+n);var T=(t,e,n)=>(xh(t,e,"read from private field"),n?n.call(t):e.get(t)),ie=(t,e,n)=>e.has(t)?xv("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),G=(t,e,n,r)=>(xh(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),fe=(t,e,n)=>(xh(t,e,"access private method"),n);var nu=(t,e,n,r)=>({set _(s){G(t,e,s,n)},get _(){return T(t,e,r)}});function YN(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Nn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function XN(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var Ib={exports:{}},pf={},Db={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jc=Symbol.for("react.element"),ZN=Symbol.for("react.portal"),eM=Symbol.for("react.fragment"),tM=Symbol.for("react.strict_mode"),nM=Symbol.for("react.profiler"),rM=Symbol.for("react.provider"),sM=Symbol.for("react.context"),iM=Symbol.for("react.forward_ref"),oM=Symbol.for("react.suspense"),aM=Symbol.for("react.memo"),lM=Symbol.for("react.lazy"),bv=Symbol.iterator;function cM(t){return t===null||typeof t!="object"?null:(t=bv&&t[bv]||t["@@iterator"],typeof t=="function"?t:null)}var jb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Lb=Object.assign,$b={};function za(t,e,n){this.props=t,this.context=e,this.refs=$b,this.updater=n||jb}za.prototype.isReactComponent={};za.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};za.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Fb(){}Fb.prototype=za.prototype;function Hg(t,e,n){this.props=t,this.context=e,this.refs=$b,this.updater=n||jb}var Wg=Hg.prototype=new Fb;Wg.constructor=Hg;Lb(Wg,za.prototype);Wg.isPureReactComponent=!0;var Sv=Array.isArray,zb=Object.prototype.hasOwnProperty,Kg={current:null},Bb={key:!0,ref:!0,__self:!0,__source:!0};function Vb(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)zb.call(e,r)&&!Bb.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:jc,type:t,key:i,ref:o,props:s,_owner:Kg.current}}function uM(t,e){return{$$typeof:jc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function qg(t){return typeof t=="object"&&t!==null&&t.$$typeof===jc}function dM(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var kv=/\/+/g;function bh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?dM(""+t.key):e.toString(36)}function Fu(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case jc:case ZN:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+bh(o,0):r,Sv(s)?(n="",t!=null&&(n=t.replace(kv,"$&/")+"/"),Fu(s,e,n,"",function(c){return c})):s!=null&&(qg(s)&&(s=uM(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(kv,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Sv(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+bh(i,a);o+=Fu(i,e,n,l,s)}else if(l=cM(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+bh(i,a++),o+=Fu(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ru(t,e,n){if(t==null)return t;var r=[],s=0;return Fu(t,r,"","",function(i){return e.call(n,i,s++)}),r}function fM(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ut={current:null},zu={transition:null},hM={ReactCurrentDispatcher:Ut,ReactCurrentBatchConfig:zu,ReactCurrentOwner:Kg};function Ub(){throw Error("act(...) is not supported in production builds of React.")}ve.Children={map:ru,forEach:function(t,e,n){ru(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ru(t,function(){e++}),e},toArray:function(t){return ru(t,function(e){return e})||[]},only:function(t){if(!qg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ve.Component=za;ve.Fragment=eM;ve.Profiler=nM;ve.PureComponent=Hg;ve.StrictMode=tM;ve.Suspense=oM;ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hM;ve.act=Ub;ve.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Lb({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Kg.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)zb.call(e,l)&&!Bb.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:jc,type:t.type,key:s,ref:i,props:r,_owner:o}};ve.createContext=function(t){return t={$$typeof:sM,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:rM,_context:t},t.Consumer=t};ve.createElement=Vb;ve.createFactory=function(t){var e=Vb.bind(null,t);return e.type=t,e};ve.createRef=function(){return{current:null}};ve.forwardRef=function(t){return{$$typeof:iM,render:t}};ve.isValidElement=qg;ve.lazy=function(t){return{$$typeof:lM,_payload:{_status:-1,_result:t},_init:fM}};ve.memo=function(t,e){return{$$typeof:aM,type:t,compare:e===void 0?null:e}};ve.startTransition=function(t){var e=zu.transition;zu.transition={};try{t()}finally{zu.transition=e}};ve.unstable_act=Ub;ve.useCallback=function(t,e){return Ut.current.useCallback(t,e)};ve.useContext=function(t){return Ut.current.useContext(t)};ve.useDebugValue=function(){};ve.useDeferredValue=function(t){return Ut.current.useDeferredValue(t)};ve.useEffect=function(t,e){return Ut.current.useEffect(t,e)};ve.useId=function(){return Ut.current.useId()};ve.useImperativeHandle=function(t,e,n){return Ut.current.useImperativeHandle(t,e,n)};ve.useInsertionEffect=function(t,e){return Ut.current.useInsertionEffect(t,e)};ve.useLayoutEffect=function(t,e){return Ut.current.useLayoutEffect(t,e)};ve.useMemo=function(t,e){return Ut.current.useMemo(t,e)};ve.useReducer=function(t,e,n){return Ut.current.useReducer(t,e,n)};ve.useRef=function(t){return Ut.current.useRef(t)};ve.useState=function(t){return Ut.current.useState(t)};ve.useSyncExternalStore=function(t,e,n){return Ut.current.useSyncExternalStore(t,e,n)};ve.useTransition=function(){return Ut.current.useTransition()};ve.version="18.3.1";Db.exports=ve;var y=Db.exports;const E=Rb(y),Hb=YN({__proto__:null,default:E},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pM=y,mM=Symbol.for("react.element"),gM=Symbol.for("react.fragment"),yM=Object.prototype.hasOwnProperty,vM=pM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,wM={key:!0,ref:!0,__self:!0,__source:!0};function Wb(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)yM.call(e,r)&&!wM.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:mM,type:t,key:i,ref:o,props:s,_owner:vM.current}}pf.Fragment=gM;pf.jsx=Wb;pf.jsxs=Wb;Ib.exports=pf;var m=Ib.exports,Kb={exports:{}},pn={},qb={exports:{}},Gb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,j){var W=R.length;R.push(j);e:for(;0<W;){var te=W-1>>>1,pe=R[te];if(0<s(pe,j))R[te]=j,R[W]=pe,W=te;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var j=R[0],W=R.pop();if(W!==j){R[0]=W;e:for(var te=0,pe=R.length,ht=pe>>>1;te<ht;){var Ye=2*(te+1)-1,Xn=R[Ye],Xe=Ye+1,pt=R[Xe];if(0>s(Xn,W))Xe<pe&&0>s(pt,Xn)?(R[te]=pt,R[Xe]=W,te=Xe):(R[te]=Xn,R[Ye]=W,te=Ye);else if(Xe<pe&&0>s(pt,W))R[te]=pt,R[Xe]=W,te=Xe;else break e}}return j}function s(R,j){var W=R.sortIndex-j.sortIndex;return W!==0?W:R.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,f=3,h=!1,p=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(R){for(var j=n(c);j!==null;){if(j.callback===null)r(c);else if(j.startTime<=R)r(c),j.sortIndex=j.expirationTime,e(l,j);else break;j=n(c)}}function S(R){if(g=!1,b(R),!p)if(n(l)!==null)p=!0,U(k);else{var j=n(c);j!==null&&ne(S,j.startTime-R)}}function k(R,j){p=!1,g&&(g=!1,v(M),M=-1),h=!0;var W=f;try{for(b(j),d=n(l);d!==null&&(!(d.expirationTime>j)||R&&!L());){var te=d.callback;if(typeof te=="function"){d.callback=null,f=d.priorityLevel;var pe=te(d.expirationTime<=j);j=t.unstable_now(),typeof pe=="function"?d.callback=pe:d===n(l)&&r(l),b(j)}else r(l);d=n(l)}if(d!==null)var ht=!0;else{var Ye=n(c);Ye!==null&&ne(S,Ye.startTime-j),ht=!1}return ht}finally{d=null,f=W,h=!1}}var C=!1,_=null,M=-1,O=5,P=-1;function L(){return!(t.unstable_now()-P<O)}function I(){if(_!==null){var R=t.unstable_now();P=R;var j=!0;try{j=_(!0,R)}finally{j?V():(C=!1,_=null)}}else C=!1}var V;if(typeof x=="function")V=function(){x(I)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,J=F.port2;F.port1.onmessage=I,V=function(){J.postMessage(null)}}else V=function(){w(I,0)};function U(R){_=R,C||(C=!0,V())}function ne(R,j){M=w(function(){R(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){p||h||(p=!0,U(k))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(R){switch(f){case 1:case 2:case 3:var j=3;break;default:j=f}var W=f;f=j;try{return R()}finally{f=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,j){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var W=f;f=R;try{return j()}finally{f=W}},t.unstable_scheduleCallback=function(R,j,W){var te=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?te+W:te):W=te,R){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=W+pe,R={id:u++,callback:j,priorityLevel:R,startTime:W,expirationTime:pe,sortIndex:-1},W>te?(R.sortIndex=W,e(c,R),n(l)===null&&R===n(c)&&(g?(v(M),M=-1):g=!0,ne(S,W-te))):(R.sortIndex=pe,e(l,R),p||h||(p=!0,U(k))),R},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(R){var j=f;return function(){var W=f;f=j;try{return R.apply(this,arguments)}finally{f=W}}}})(Gb);qb.exports=Gb;var xM=qb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bM=y,hn=xM;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Jb=new Set,Kl={};function oo(t,e){xa(t,e),xa(t+"Capture",e)}function xa(t,e){for(Kl[t]=e,t=0;t<e.length;t++)Jb.add(e[t])}var zr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vp=Object.prototype.hasOwnProperty,SM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Cv={},Ev={};function kM(t){return Vp.call(Ev,t)?!0:Vp.call(Cv,t)?!1:SM.test(t)?Ev[t]=!0:(Cv[t]=!0,!1)}function CM(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function EM(t,e,n,r){if(e===null||typeof e>"u"||CM(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ht(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var xt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){xt[t]=new Ht(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];xt[e]=new Ht(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){xt[t]=new Ht(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){xt[t]=new Ht(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){xt[t]=new Ht(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){xt[t]=new Ht(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){xt[t]=new Ht(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){xt[t]=new Ht(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){xt[t]=new Ht(t,5,!1,t.toLowerCase(),null,!1,!1)});var Gg=/[\-:]([a-z])/g;function Jg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Gg,Jg);xt[e]=new Ht(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Gg,Jg);xt[e]=new Ht(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Gg,Jg);xt[e]=new Ht(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){xt[t]=new Ht(t,1,!1,t.toLowerCase(),null,!1,!1)});xt.xlinkHref=new Ht("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){xt[t]=new Ht(t,1,!1,t.toLowerCase(),null,!0,!0)});function Qg(t,e,n,r){var s=xt.hasOwnProperty(e)?xt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(EM(e,n,s,r)&&(n=null),r||s===null?kM(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Gr=bM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,su=Symbol.for("react.element"),Oo=Symbol.for("react.portal"),Po=Symbol.for("react.fragment"),Yg=Symbol.for("react.strict_mode"),Up=Symbol.for("react.profiler"),Qb=Symbol.for("react.provider"),Yb=Symbol.for("react.context"),Xg=Symbol.for("react.forward_ref"),Hp=Symbol.for("react.suspense"),Wp=Symbol.for("react.suspense_list"),Zg=Symbol.for("react.memo"),cs=Symbol.for("react.lazy"),Xb=Symbol.for("react.offscreen"),_v=Symbol.iterator;function nl(t){return t===null||typeof t!="object"?null:(t=_v&&t[_v]||t["@@iterator"],typeof t=="function"?t:null)}var Le=Object.assign,Sh;function vl(t){if(Sh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Sh=e&&e[1]||""}return`
`+Sh+t}var kh=!1;function Ch(t,e){if(!t||kh)return"";kh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{kh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?vl(t):""}function _M(t){switch(t.tag){case 5:return vl(t.type);case 16:return vl("Lazy");case 13:return vl("Suspense");case 19:return vl("SuspenseList");case 0:case 2:case 15:return t=Ch(t.type,!1),t;case 11:return t=Ch(t.type.render,!1),t;case 1:return t=Ch(t.type,!0),t;default:return""}}function Kp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Po:return"Fragment";case Oo:return"Portal";case Up:return"Profiler";case Yg:return"StrictMode";case Hp:return"Suspense";case Wp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Yb:return(t.displayName||"Context")+".Consumer";case Qb:return(t._context.displayName||"Context")+".Provider";case Xg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Zg:return e=t.displayName||null,e!==null?e:Kp(t.type)||"Memo";case cs:e=t._payload,t=t._init;try{return Kp(t(e))}catch{}}return null}function TM(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Kp(e);case 8:return e===Yg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Xs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Zb(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function NM(t){var e=Zb(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function iu(t){t._valueTracker||(t._valueTracker=NM(t))}function eS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Zb(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function dd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function qp(t,e){var n=e.checked;return Le({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Tv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Xs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function tS(t,e){e=e.checked,e!=null&&Qg(t,"checked",e,!1)}function Gp(t,e){tS(t,e);var n=Xs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Jp(t,e.type,n):e.hasOwnProperty("defaultValue")&&Jp(t,e.type,Xs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Nv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Jp(t,e,n){(e!=="number"||dd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var wl=Array.isArray;function Ko(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Xs(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Qp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return Le({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Mv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(wl(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Xs(n)}}function nS(t,e){var n=Xs(e.value),r=Xs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Ov(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function rS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?rS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ou,sS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ou=ou||document.createElement("div"),ou.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ou.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ql(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ml={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},MM=["Webkit","ms","Moz","O"];Object.keys(Ml).forEach(function(t){MM.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ml[e]=Ml[t]})});function iS(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ml.hasOwnProperty(t)&&Ml[t]?(""+e).trim():e+"px"}function oS(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=iS(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var OM=Le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xp(t,e){if(e){if(OM[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function Zp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var em=null;function e0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var tm=null,qo=null,Go=null;function Pv(t){if(t=Fc(t)){if(typeof tm!="function")throw Error(z(280));var e=t.stateNode;e&&(e=wf(e),tm(t.stateNode,t.type,e))}}function aS(t){qo?Go?Go.push(t):Go=[t]:qo=t}function lS(){if(qo){var t=qo,e=Go;if(Go=qo=null,Pv(t),e)for(t=0;t<e.length;t++)Pv(e[t])}}function cS(t,e){return t(e)}function uS(){}var Eh=!1;function dS(t,e,n){if(Eh)return t(e,n);Eh=!0;try{return cS(t,e,n)}finally{Eh=!1,(qo!==null||Go!==null)&&(uS(),lS())}}function Gl(t,e){var n=t.stateNode;if(n===null)return null;var r=wf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var nm=!1;if(zr)try{var rl={};Object.defineProperty(rl,"passive",{get:function(){nm=!0}}),window.addEventListener("test",rl,rl),window.removeEventListener("test",rl,rl)}catch{nm=!1}function PM(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Ol=!1,fd=null,hd=!1,rm=null,AM={onError:function(t){Ol=!0,fd=t}};function RM(t,e,n,r,s,i,o,a,l){Ol=!1,fd=null,PM.apply(AM,arguments)}function IM(t,e,n,r,s,i,o,a,l){if(RM.apply(this,arguments),Ol){if(Ol){var c=fd;Ol=!1,fd=null}else throw Error(z(198));hd||(hd=!0,rm=c)}}function ao(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function fS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Av(t){if(ao(t)!==t)throw Error(z(188))}function DM(t){var e=t.alternate;if(!e){if(e=ao(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Av(s),t;if(i===r)return Av(s),e;i=i.sibling}throw Error(z(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function hS(t){return t=DM(t),t!==null?pS(t):null}function pS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=pS(t);if(e!==null)return e;t=t.sibling}return null}var mS=hn.unstable_scheduleCallback,Rv=hn.unstable_cancelCallback,jM=hn.unstable_shouldYield,LM=hn.unstable_requestPaint,He=hn.unstable_now,$M=hn.unstable_getCurrentPriorityLevel,t0=hn.unstable_ImmediatePriority,gS=hn.unstable_UserBlockingPriority,pd=hn.unstable_NormalPriority,FM=hn.unstable_LowPriority,yS=hn.unstable_IdlePriority,mf=null,dr=null;function zM(t){if(dr&&typeof dr.onCommitFiberRoot=="function")try{dr.onCommitFiberRoot(mf,t,void 0,(t.current.flags&128)===128)}catch{}}var Hn=Math.clz32?Math.clz32:UM,BM=Math.log,VM=Math.LN2;function UM(t){return t>>>=0,t===0?32:31-(BM(t)/VM|0)|0}var au=64,lu=4194304;function xl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function md(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=xl(a):(i&=o,i!==0&&(r=xl(i)))}else o=n&~s,o!==0?r=xl(o):i!==0&&(r=xl(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Hn(e),s=1<<n,r|=t[n],e&=~s;return r}function HM(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function WM(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Hn(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=HM(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function sm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function vS(){var t=au;return au<<=1,!(au&4194240)&&(au=64),t}function _h(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Lc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Hn(e),t[e]=n}function KM(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Hn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function n0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Hn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Ce=0;function wS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var xS,r0,bS,SS,kS,im=!1,cu=[],Ds=null,js=null,Ls=null,Jl=new Map,Ql=new Map,ps=[],qM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Iv(t,e){switch(t){case"focusin":case"focusout":Ds=null;break;case"dragenter":case"dragleave":js=null;break;case"mouseover":case"mouseout":Ls=null;break;case"pointerover":case"pointerout":Jl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ql.delete(e.pointerId)}}function sl(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Fc(e),e!==null&&r0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function GM(t,e,n,r,s){switch(e){case"focusin":return Ds=sl(Ds,t,e,n,r,s),!0;case"dragenter":return js=sl(js,t,e,n,r,s),!0;case"mouseover":return Ls=sl(Ls,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Jl.set(i,sl(Jl.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ql.set(i,sl(Ql.get(i)||null,t,e,n,r,s)),!0}return!1}function CS(t){var e=xi(t.target);if(e!==null){var n=ao(e);if(n!==null){if(e=n.tag,e===13){if(e=fS(n),e!==null){t.blockedOn=e,kS(t.priority,function(){bS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Bu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=om(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);em=r,n.target.dispatchEvent(r),em=null}else return e=Fc(n),e!==null&&r0(e),t.blockedOn=n,!1;e.shift()}return!0}function Dv(t,e,n){Bu(t)&&n.delete(e)}function JM(){im=!1,Ds!==null&&Bu(Ds)&&(Ds=null),js!==null&&Bu(js)&&(js=null),Ls!==null&&Bu(Ls)&&(Ls=null),Jl.forEach(Dv),Ql.forEach(Dv)}function il(t,e){t.blockedOn===e&&(t.blockedOn=null,im||(im=!0,hn.unstable_scheduleCallback(hn.unstable_NormalPriority,JM)))}function Yl(t){function e(s){return il(s,t)}if(0<cu.length){il(cu[0],t);for(var n=1;n<cu.length;n++){var r=cu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ds!==null&&il(Ds,t),js!==null&&il(js,t),Ls!==null&&il(Ls,t),Jl.forEach(e),Ql.forEach(e),n=0;n<ps.length;n++)r=ps[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ps.length&&(n=ps[0],n.blockedOn===null);)CS(n),n.blockedOn===null&&ps.shift()}var Jo=Gr.ReactCurrentBatchConfig,gd=!0;function QM(t,e,n,r){var s=Ce,i=Jo.transition;Jo.transition=null;try{Ce=1,s0(t,e,n,r)}finally{Ce=s,Jo.transition=i}}function YM(t,e,n,r){var s=Ce,i=Jo.transition;Jo.transition=null;try{Ce=4,s0(t,e,n,r)}finally{Ce=s,Jo.transition=i}}function s0(t,e,n,r){if(gd){var s=om(t,e,n,r);if(s===null)jh(t,e,r,yd,n),Iv(t,r);else if(GM(s,t,e,n,r))r.stopPropagation();else if(Iv(t,r),e&4&&-1<qM.indexOf(t)){for(;s!==null;){var i=Fc(s);if(i!==null&&xS(i),i=om(t,e,n,r),i===null&&jh(t,e,r,yd,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else jh(t,e,r,null,n)}}var yd=null;function om(t,e,n,r){if(yd=null,t=e0(r),t=xi(t),t!==null)if(e=ao(t),e===null)t=null;else if(n=e.tag,n===13){if(t=fS(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return yd=t,null}function ES(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($M()){case t0:return 1;case gS:return 4;case pd:case FM:return 16;case yS:return 536870912;default:return 16}default:return 16}}var Ns=null,i0=null,Vu=null;function _S(){if(Vu)return Vu;var t,e=i0,n=e.length,r,s="value"in Ns?Ns.value:Ns.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Vu=s.slice(t,1<r?1-r:void 0)}function Uu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function uu(){return!0}function jv(){return!1}function mn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?uu:jv,this.isPropagationStopped=jv,this}return Le(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=uu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=uu)},persist:function(){},isPersistent:uu}),e}var Ba={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},o0=mn(Ba),$c=Le({},Ba,{view:0,detail:0}),XM=mn($c),Th,Nh,ol,gf=Le({},$c,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:a0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ol&&(ol&&t.type==="mousemove"?(Th=t.screenX-ol.screenX,Nh=t.screenY-ol.screenY):Nh=Th=0,ol=t),Th)},movementY:function(t){return"movementY"in t?t.movementY:Nh}}),Lv=mn(gf),ZM=Le({},gf,{dataTransfer:0}),e4=mn(ZM),t4=Le({},$c,{relatedTarget:0}),Mh=mn(t4),n4=Le({},Ba,{animationName:0,elapsedTime:0,pseudoElement:0}),r4=mn(n4),s4=Le({},Ba,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),i4=mn(s4),o4=Le({},Ba,{data:0}),$v=mn(o4),a4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},l4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},c4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function u4(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=c4[t])?!!e[t]:!1}function a0(){return u4}var d4=Le({},$c,{key:function(t){if(t.key){var e=a4[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Uu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?l4[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:a0,charCode:function(t){return t.type==="keypress"?Uu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Uu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),f4=mn(d4),h4=Le({},gf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fv=mn(h4),p4=Le({},$c,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:a0}),m4=mn(p4),g4=Le({},Ba,{propertyName:0,elapsedTime:0,pseudoElement:0}),y4=mn(g4),v4=Le({},gf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),w4=mn(v4),x4=[9,13,27,32],l0=zr&&"CompositionEvent"in window,Pl=null;zr&&"documentMode"in document&&(Pl=document.documentMode);var b4=zr&&"TextEvent"in window&&!Pl,TS=zr&&(!l0||Pl&&8<Pl&&11>=Pl),zv=" ",Bv=!1;function NS(t,e){switch(t){case"keyup":return x4.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function MS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ao=!1;function S4(t,e){switch(t){case"compositionend":return MS(e);case"keypress":return e.which!==32?null:(Bv=!0,zv);case"textInput":return t=e.data,t===zv&&Bv?null:t;default:return null}}function k4(t,e){if(Ao)return t==="compositionend"||!l0&&NS(t,e)?(t=_S(),Vu=i0=Ns=null,Ao=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return TS&&e.locale!=="ko"?null:e.data;default:return null}}var C4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!C4[t.type]:e==="textarea"}function OS(t,e,n,r){aS(r),e=vd(e,"onChange"),0<e.length&&(n=new o0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Al=null,Xl=null;function E4(t){BS(t,0)}function yf(t){var e=Do(t);if(eS(e))return t}function _4(t,e){if(t==="change")return e}var PS=!1;if(zr){var Oh;if(zr){var Ph="oninput"in document;if(!Ph){var Uv=document.createElement("div");Uv.setAttribute("oninput","return;"),Ph=typeof Uv.oninput=="function"}Oh=Ph}else Oh=!1;PS=Oh&&(!document.documentMode||9<document.documentMode)}function Hv(){Al&&(Al.detachEvent("onpropertychange",AS),Xl=Al=null)}function AS(t){if(t.propertyName==="value"&&yf(Xl)){var e=[];OS(e,Xl,t,e0(t)),dS(E4,e)}}function T4(t,e,n){t==="focusin"?(Hv(),Al=e,Xl=n,Al.attachEvent("onpropertychange",AS)):t==="focusout"&&Hv()}function N4(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return yf(Xl)}function M4(t,e){if(t==="click")return yf(e)}function O4(t,e){if(t==="input"||t==="change")return yf(e)}function P4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var qn=typeof Object.is=="function"?Object.is:P4;function Zl(t,e){if(qn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Vp.call(e,s)||!qn(t[s],e[s]))return!1}return!0}function Wv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Kv(t,e){var n=Wv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Wv(n)}}function RS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?RS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function IS(){for(var t=window,e=dd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=dd(t.document)}return e}function c0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function A4(t){var e=IS(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&RS(n.ownerDocument.documentElement,n)){if(r!==null&&c0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Kv(n,i);var o=Kv(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var R4=zr&&"documentMode"in document&&11>=document.documentMode,Ro=null,am=null,Rl=null,lm=!1;function qv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;lm||Ro==null||Ro!==dd(r)||(r=Ro,"selectionStart"in r&&c0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Rl&&Zl(Rl,r)||(Rl=r,r=vd(am,"onSelect"),0<r.length&&(e=new o0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ro)))}function du(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Io={animationend:du("Animation","AnimationEnd"),animationiteration:du("Animation","AnimationIteration"),animationstart:du("Animation","AnimationStart"),transitionend:du("Transition","TransitionEnd")},Ah={},DS={};zr&&(DS=document.createElement("div").style,"AnimationEvent"in window||(delete Io.animationend.animation,delete Io.animationiteration.animation,delete Io.animationstart.animation),"TransitionEvent"in window||delete Io.transitionend.transition);function vf(t){if(Ah[t])return Ah[t];if(!Io[t])return t;var e=Io[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in DS)return Ah[t]=e[n];return t}var jS=vf("animationend"),LS=vf("animationiteration"),$S=vf("animationstart"),FS=vf("transitionend"),zS=new Map,Gv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ii(t,e){zS.set(t,e),oo(e,[t])}for(var Rh=0;Rh<Gv.length;Rh++){var Ih=Gv[Rh],I4=Ih.toLowerCase(),D4=Ih[0].toUpperCase()+Ih.slice(1);ii(I4,"on"+D4)}ii(jS,"onAnimationEnd");ii(LS,"onAnimationIteration");ii($S,"onAnimationStart");ii("dblclick","onDoubleClick");ii("focusin","onFocus");ii("focusout","onBlur");ii(FS,"onTransitionEnd");xa("onMouseEnter",["mouseout","mouseover"]);xa("onMouseLeave",["mouseout","mouseover"]);xa("onPointerEnter",["pointerout","pointerover"]);xa("onPointerLeave",["pointerout","pointerover"]);oo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));oo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));oo("onBeforeInput",["compositionend","keypress","textInput","paste"]);oo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));oo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));oo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),j4=new Set("cancel close invalid load scroll toggle".split(" ").concat(bl));function Jv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,IM(r,e,void 0,t),t.currentTarget=null}function BS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Jv(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Jv(s,a,c),i=l}}}if(hd)throw t=rm,hd=!1,rm=null,t}function Pe(t,e){var n=e[hm];n===void 0&&(n=e[hm]=new Set);var r=t+"__bubble";n.has(r)||(VS(e,t,2,!1),n.add(r))}function Dh(t,e,n){var r=0;e&&(r|=4),VS(n,t,r,e)}var fu="_reactListening"+Math.random().toString(36).slice(2);function ec(t){if(!t[fu]){t[fu]=!0,Jb.forEach(function(n){n!=="selectionchange"&&(j4.has(n)||Dh(n,!1,t),Dh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[fu]||(e[fu]=!0,Dh("selectionchange",!1,e))}}function VS(t,e,n,r){switch(ES(e)){case 1:var s=QM;break;case 4:s=YM;break;default:s=s0}n=s.bind(null,e,n,t),s=void 0,!nm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function jh(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=xi(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}dS(function(){var c=i,u=e0(n),d=[];e:{var f=zS.get(t);if(f!==void 0){var h=o0,p=t;switch(t){case"keypress":if(Uu(n)===0)break e;case"keydown":case"keyup":h=f4;break;case"focusin":p="focus",h=Mh;break;case"focusout":p="blur",h=Mh;break;case"beforeblur":case"afterblur":h=Mh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Lv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=e4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=m4;break;case jS:case LS:case $S:h=r4;break;case FS:h=y4;break;case"scroll":h=XM;break;case"wheel":h=w4;break;case"copy":case"cut":case"paste":h=i4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Fv}var g=(e&4)!==0,w=!g&&t==="scroll",v=g?f!==null?f+"Capture":null:f;g=[];for(var x=c,b;x!==null;){b=x;var S=b.stateNode;if(b.tag===5&&S!==null&&(b=S,v!==null&&(S=Gl(x,v),S!=null&&g.push(tc(x,S,b)))),w)break;x=x.return}0<g.length&&(f=new h(f,p,null,n,u),d.push({event:f,listeners:g}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",f&&n!==em&&(p=n.relatedTarget||n.fromElement)&&(xi(p)||p[Br]))break e;if((h||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=c,p=p?xi(p):null,p!==null&&(w=ao(p),p!==w||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=c),h!==p)){if(g=Lv,S="onMouseLeave",v="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(g=Fv,S="onPointerLeave",v="onPointerEnter",x="pointer"),w=h==null?f:Do(h),b=p==null?f:Do(p),f=new g(S,x+"leave",h,n,u),f.target=w,f.relatedTarget=b,S=null,xi(u)===c&&(g=new g(v,x+"enter",p,n,u),g.target=b,g.relatedTarget=w,S=g),w=S,h&&p)t:{for(g=h,v=p,x=0,b=g;b;b=yo(b))x++;for(b=0,S=v;S;S=yo(S))b++;for(;0<x-b;)g=yo(g),x--;for(;0<b-x;)v=yo(v),b--;for(;x--;){if(g===v||v!==null&&g===v.alternate)break t;g=yo(g),v=yo(v)}g=null}else g=null;h!==null&&Qv(d,f,h,g,!1),p!==null&&w!==null&&Qv(d,w,p,g,!0)}}e:{if(f=c?Do(c):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var k=_4;else if(Vv(f))if(PS)k=O4;else{k=N4;var C=T4}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=M4);if(k&&(k=k(t,c))){OS(d,k,n,u);break e}C&&C(t,f,c),t==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&Jp(f,"number",f.value)}switch(C=c?Do(c):window,t){case"focusin":(Vv(C)||C.contentEditable==="true")&&(Ro=C,am=c,Rl=null);break;case"focusout":Rl=am=Ro=null;break;case"mousedown":lm=!0;break;case"contextmenu":case"mouseup":case"dragend":lm=!1,qv(d,n,u);break;case"selectionchange":if(R4)break;case"keydown":case"keyup":qv(d,n,u)}var _;if(l0)e:{switch(t){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else Ao?NS(t,n)&&(M="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(TS&&n.locale!=="ko"&&(Ao||M!=="onCompositionStart"?M==="onCompositionEnd"&&Ao&&(_=_S()):(Ns=u,i0="value"in Ns?Ns.value:Ns.textContent,Ao=!0)),C=vd(c,M),0<C.length&&(M=new $v(M,t,null,n,u),d.push({event:M,listeners:C}),_?M.data=_:(_=MS(n),_!==null&&(M.data=_)))),(_=b4?S4(t,n):k4(t,n))&&(c=vd(c,"onBeforeInput"),0<c.length&&(u=new $v("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=_))}BS(d,e)})}function tc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function vd(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Gl(t,n),i!=null&&r.unshift(tc(t,i,s)),i=Gl(t,e),i!=null&&r.push(tc(t,i,s))),t=t.return}return r}function yo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Qv(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Gl(n,i),l!=null&&o.unshift(tc(n,l,a))):s||(l=Gl(n,i),l!=null&&o.push(tc(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var L4=/\r\n?/g,$4=/\u0000|\uFFFD/g;function Yv(t){return(typeof t=="string"?t:""+t).replace(L4,`
`).replace($4,"")}function hu(t,e,n){if(e=Yv(e),Yv(t)!==e&&n)throw Error(z(425))}function wd(){}var cm=null,um=null;function dm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var fm=typeof setTimeout=="function"?setTimeout:void 0,F4=typeof clearTimeout=="function"?clearTimeout:void 0,Xv=typeof Promise=="function"?Promise:void 0,z4=typeof queueMicrotask=="function"?queueMicrotask:typeof Xv<"u"?function(t){return Xv.resolve(null).then(t).catch(B4)}:fm;function B4(t){setTimeout(function(){throw t})}function Lh(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Yl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Yl(e)}function $s(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Zv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Va=Math.random().toString(36).slice(2),ar="__reactFiber$"+Va,nc="__reactProps$"+Va,Br="__reactContainer$"+Va,hm="__reactEvents$"+Va,V4="__reactListeners$"+Va,U4="__reactHandles$"+Va;function xi(t){var e=t[ar];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Br]||n[ar]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Zv(t);t!==null;){if(n=t[ar])return n;t=Zv(t)}return e}t=n,n=t.parentNode}return null}function Fc(t){return t=t[ar]||t[Br],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Do(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function wf(t){return t[nc]||null}var pm=[],jo=-1;function oi(t){return{current:t}}function Re(t){0>jo||(t.current=pm[jo],pm[jo]=null,jo--)}function Me(t,e){jo++,pm[jo]=t.current,t.current=e}var Zs={},Mt=oi(Zs),Zt=oi(!1),Ki=Zs;function ba(t,e){var n=t.type.contextTypes;if(!n)return Zs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function en(t){return t=t.childContextTypes,t!=null}function xd(){Re(Zt),Re(Mt)}function e1(t,e,n){if(Mt.current!==Zs)throw Error(z(168));Me(Mt,e),Me(Zt,n)}function US(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(z(108,TM(t)||"Unknown",s));return Le({},n,r)}function bd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Zs,Ki=Mt.current,Me(Mt,t),Me(Zt,Zt.current),!0}function t1(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=US(t,e,Ki),r.__reactInternalMemoizedMergedChildContext=t,Re(Zt),Re(Mt),Me(Mt,t)):Re(Zt),Me(Zt,n)}var Or=null,xf=!1,$h=!1;function HS(t){Or===null?Or=[t]:Or.push(t)}function H4(t){xf=!0,HS(t)}function ai(){if(!$h&&Or!==null){$h=!0;var t=0,e=Ce;try{var n=Or;for(Ce=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Or=null,xf=!1}catch(s){throw Or!==null&&(Or=Or.slice(t+1)),mS(t0,ai),s}finally{Ce=e,$h=!1}}return null}var Lo=[],$o=0,Sd=null,kd=0,xn=[],bn=0,qi=null,Ar=1,Rr="";function pi(t,e){Lo[$o++]=kd,Lo[$o++]=Sd,Sd=t,kd=e}function WS(t,e,n){xn[bn++]=Ar,xn[bn++]=Rr,xn[bn++]=qi,qi=t;var r=Ar;t=Rr;var s=32-Hn(r)-1;r&=~(1<<s),n+=1;var i=32-Hn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Ar=1<<32-Hn(e)+s|n<<s|r,Rr=i+t}else Ar=1<<i|n<<s|r,Rr=t}function u0(t){t.return!==null&&(pi(t,1),WS(t,1,0))}function d0(t){for(;t===Sd;)Sd=Lo[--$o],Lo[$o]=null,kd=Lo[--$o],Lo[$o]=null;for(;t===qi;)qi=xn[--bn],xn[bn]=null,Rr=xn[--bn],xn[bn]=null,Ar=xn[--bn],xn[bn]=null}var dn=null,un=null,Ie=!1,zn=null;function KS(t,e){var n=kn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function n1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,dn=t,un=$s(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,dn=t,un=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=qi!==null?{id:Ar,overflow:Rr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=kn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,dn=t,un=null,!0):!1;default:return!1}}function mm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function gm(t){if(Ie){var e=un;if(e){var n=e;if(!n1(t,e)){if(mm(t))throw Error(z(418));e=$s(n.nextSibling);var r=dn;e&&n1(t,e)?KS(r,n):(t.flags=t.flags&-4097|2,Ie=!1,dn=t)}}else{if(mm(t))throw Error(z(418));t.flags=t.flags&-4097|2,Ie=!1,dn=t}}}function r1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;dn=t}function pu(t){if(t!==dn)return!1;if(!Ie)return r1(t),Ie=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!dm(t.type,t.memoizedProps)),e&&(e=un)){if(mm(t))throw qS(),Error(z(418));for(;e;)KS(t,e),e=$s(e.nextSibling)}if(r1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){un=$s(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}un=null}}else un=dn?$s(t.stateNode.nextSibling):null;return!0}function qS(){for(var t=un;t;)t=$s(t.nextSibling)}function Sa(){un=dn=null,Ie=!1}function f0(t){zn===null?zn=[t]:zn.push(t)}var W4=Gr.ReactCurrentBatchConfig;function al(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function mu(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function s1(t){var e=t._init;return e(t._payload)}function GS(t){function e(v,x){if(t){var b=v.deletions;b===null?(v.deletions=[x],v.flags|=16):b.push(x)}}function n(v,x){if(!t)return null;for(;x!==null;)e(v,x),x=x.sibling;return null}function r(v,x){for(v=new Map;x!==null;)x.key!==null?v.set(x.key,x):v.set(x.index,x),x=x.sibling;return v}function s(v,x){return v=Vs(v,x),v.index=0,v.sibling=null,v}function i(v,x,b){return v.index=b,t?(b=v.alternate,b!==null?(b=b.index,b<x?(v.flags|=2,x):b):(v.flags|=2,x)):(v.flags|=1048576,x)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,x,b,S){return x===null||x.tag!==6?(x=Wh(b,v.mode,S),x.return=v,x):(x=s(x,b),x.return=v,x)}function l(v,x,b,S){var k=b.type;return k===Po?u(v,x,b.props.children,S,b.key):x!==null&&(x.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===cs&&s1(k)===x.type)?(S=s(x,b.props),S.ref=al(v,x,b),S.return=v,S):(S=Qu(b.type,b.key,b.props,null,v.mode,S),S.ref=al(v,x,b),S.return=v,S)}function c(v,x,b,S){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=Kh(b,v.mode,S),x.return=v,x):(x=s(x,b.children||[]),x.return=v,x)}function u(v,x,b,S,k){return x===null||x.tag!==7?(x=$i(b,v.mode,S,k),x.return=v,x):(x=s(x,b),x.return=v,x)}function d(v,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Wh(""+x,v.mode,b),x.return=v,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case su:return b=Qu(x.type,x.key,x.props,null,v.mode,b),b.ref=al(v,null,x),b.return=v,b;case Oo:return x=Kh(x,v.mode,b),x.return=v,x;case cs:var S=x._init;return d(v,S(x._payload),b)}if(wl(x)||nl(x))return x=$i(x,v.mode,b,null),x.return=v,x;mu(v,x)}return null}function f(v,x,b,S){var k=x!==null?x.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return k!==null?null:a(v,x,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case su:return b.key===k?l(v,x,b,S):null;case Oo:return b.key===k?c(v,x,b,S):null;case cs:return k=b._init,f(v,x,k(b._payload),S)}if(wl(b)||nl(b))return k!==null?null:u(v,x,b,S,null);mu(v,b)}return null}function h(v,x,b,S,k){if(typeof S=="string"&&S!==""||typeof S=="number")return v=v.get(b)||null,a(x,v,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case su:return v=v.get(S.key===null?b:S.key)||null,l(x,v,S,k);case Oo:return v=v.get(S.key===null?b:S.key)||null,c(x,v,S,k);case cs:var C=S._init;return h(v,x,b,C(S._payload),k)}if(wl(S)||nl(S))return v=v.get(b)||null,u(x,v,S,k,null);mu(x,S)}return null}function p(v,x,b,S){for(var k=null,C=null,_=x,M=x=0,O=null;_!==null&&M<b.length;M++){_.index>M?(O=_,_=null):O=_.sibling;var P=f(v,_,b[M],S);if(P===null){_===null&&(_=O);break}t&&_&&P.alternate===null&&e(v,_),x=i(P,x,M),C===null?k=P:C.sibling=P,C=P,_=O}if(M===b.length)return n(v,_),Ie&&pi(v,M),k;if(_===null){for(;M<b.length;M++)_=d(v,b[M],S),_!==null&&(x=i(_,x,M),C===null?k=_:C.sibling=_,C=_);return Ie&&pi(v,M),k}for(_=r(v,_);M<b.length;M++)O=h(_,v,M,b[M],S),O!==null&&(t&&O.alternate!==null&&_.delete(O.key===null?M:O.key),x=i(O,x,M),C===null?k=O:C.sibling=O,C=O);return t&&_.forEach(function(L){return e(v,L)}),Ie&&pi(v,M),k}function g(v,x,b,S){var k=nl(b);if(typeof k!="function")throw Error(z(150));if(b=k.call(b),b==null)throw Error(z(151));for(var C=k=null,_=x,M=x=0,O=null,P=b.next();_!==null&&!P.done;M++,P=b.next()){_.index>M?(O=_,_=null):O=_.sibling;var L=f(v,_,P.value,S);if(L===null){_===null&&(_=O);break}t&&_&&L.alternate===null&&e(v,_),x=i(L,x,M),C===null?k=L:C.sibling=L,C=L,_=O}if(P.done)return n(v,_),Ie&&pi(v,M),k;if(_===null){for(;!P.done;M++,P=b.next())P=d(v,P.value,S),P!==null&&(x=i(P,x,M),C===null?k=P:C.sibling=P,C=P);return Ie&&pi(v,M),k}for(_=r(v,_);!P.done;M++,P=b.next())P=h(_,v,M,P.value,S),P!==null&&(t&&P.alternate!==null&&_.delete(P.key===null?M:P.key),x=i(P,x,M),C===null?k=P:C.sibling=P,C=P);return t&&_.forEach(function(I){return e(v,I)}),Ie&&pi(v,M),k}function w(v,x,b,S){if(typeof b=="object"&&b!==null&&b.type===Po&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case su:e:{for(var k=b.key,C=x;C!==null;){if(C.key===k){if(k=b.type,k===Po){if(C.tag===7){n(v,C.sibling),x=s(C,b.props.children),x.return=v,v=x;break e}}else if(C.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===cs&&s1(k)===C.type){n(v,C.sibling),x=s(C,b.props),x.ref=al(v,C,b),x.return=v,v=x;break e}n(v,C);break}else e(v,C);C=C.sibling}b.type===Po?(x=$i(b.props.children,v.mode,S,b.key),x.return=v,v=x):(S=Qu(b.type,b.key,b.props,null,v.mode,S),S.ref=al(v,x,b),S.return=v,v=S)}return o(v);case Oo:e:{for(C=b.key;x!==null;){if(x.key===C)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){n(v,x.sibling),x=s(x,b.children||[]),x.return=v,v=x;break e}else{n(v,x);break}else e(v,x);x=x.sibling}x=Kh(b,v.mode,S),x.return=v,v=x}return o(v);case cs:return C=b._init,w(v,x,C(b._payload),S)}if(wl(b))return p(v,x,b,S);if(nl(b))return g(v,x,b,S);mu(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,x!==null&&x.tag===6?(n(v,x.sibling),x=s(x,b),x.return=v,v=x):(n(v,x),x=Wh(b,v.mode,S),x.return=v,v=x),o(v)):n(v,x)}return w}var ka=GS(!0),JS=GS(!1),Cd=oi(null),Ed=null,Fo=null,h0=null;function p0(){h0=Fo=Ed=null}function m0(t){var e=Cd.current;Re(Cd),t._currentValue=e}function ym(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Qo(t,e){Ed=t,h0=Fo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Xt=!0),t.firstContext=null)}function Mn(t){var e=t._currentValue;if(h0!==t)if(t={context:t,memoizedValue:e,next:null},Fo===null){if(Ed===null)throw Error(z(308));Fo=t,Ed.dependencies={lanes:0,firstContext:t}}else Fo=Fo.next=t;return e}var bi=null;function g0(t){bi===null?bi=[t]:bi.push(t)}function QS(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,g0(e)):(n.next=s.next,s.next=n),e.interleaved=n,Vr(t,r)}function Vr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var us=!1;function y0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function YS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function jr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Fs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,be&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Vr(t,n)}return s=r.interleaved,s===null?(e.next=e,g0(r)):(e.next=s.next,s.next=e),r.interleaved=e,Vr(t,n)}function Hu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,n0(t,n)}}function i1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function _d(t,e,n,r){var s=t.updateQueue;us=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;o=0,u=c=l=null,a=i;do{var f=a.lane,h=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,g=a;switch(f=e,h=n,g.tag){case 1:if(p=g.payload,typeof p=="function"){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,f=typeof p=="function"?p.call(h,d,f):p,f==null)break e;d=Le({},d,f);break e;case 2:us=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else h={eventTime:h,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=h,l=d):u=u.next=h,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(u===null&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Ji|=o,t.lanes=o,t.memoizedState=d}}function o1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(z(191,s));s.call(r)}}}var zc={},fr=oi(zc),rc=oi(zc),sc=oi(zc);function Si(t){if(t===zc)throw Error(z(174));return t}function v0(t,e){switch(Me(sc,e),Me(rc,t),Me(fr,zc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Yp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Yp(e,t)}Re(fr),Me(fr,e)}function Ca(){Re(fr),Re(rc),Re(sc)}function XS(t){Si(sc.current);var e=Si(fr.current),n=Yp(e,t.type);e!==n&&(Me(rc,t),Me(fr,n))}function w0(t){rc.current===t&&(Re(fr),Re(rc))}var De=oi(0);function Td(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Fh=[];function x0(){for(var t=0;t<Fh.length;t++)Fh[t]._workInProgressVersionPrimary=null;Fh.length=0}var Wu=Gr.ReactCurrentDispatcher,zh=Gr.ReactCurrentBatchConfig,Gi=0,je=null,et=null,at=null,Nd=!1,Il=!1,ic=0,K4=0;function kt(){throw Error(z(321))}function b0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!qn(t[n],e[n]))return!1;return!0}function S0(t,e,n,r,s,i){if(Gi=i,je=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Wu.current=t===null||t.memoizedState===null?Q4:Y4,t=n(r,s),Il){i=0;do{if(Il=!1,ic=0,25<=i)throw Error(z(301));i+=1,at=et=null,e.updateQueue=null,Wu.current=X4,t=n(r,s)}while(Il)}if(Wu.current=Md,e=et!==null&&et.next!==null,Gi=0,at=et=je=null,Nd=!1,e)throw Error(z(300));return t}function k0(){var t=ic!==0;return ic=0,t}function er(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return at===null?je.memoizedState=at=t:at=at.next=t,at}function On(){if(et===null){var t=je.alternate;t=t!==null?t.memoizedState:null}else t=et.next;var e=at===null?je.memoizedState:at.next;if(e!==null)at=e,et=t;else{if(t===null)throw Error(z(310));et=t,t={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},at===null?je.memoizedState=at=t:at=at.next=t}return at}function oc(t,e){return typeof e=="function"?e(t):e}function Bh(t){var e=On(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=et,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var u=c.lane;if((Gi&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,je.lanes|=u,Ji|=u}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,qn(r,e.memoizedState)||(Xt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,je.lanes|=i,Ji|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Vh(t){var e=On(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);qn(i,e.memoizedState)||(Xt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function ZS(){}function ek(t,e){var n=je,r=On(),s=e(),i=!qn(r.memoizedState,s);if(i&&(r.memoizedState=s,Xt=!0),r=r.queue,C0(rk.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||at!==null&&at.memoizedState.tag&1){if(n.flags|=2048,ac(9,nk.bind(null,n,r,s,e),void 0,null),ct===null)throw Error(z(349));Gi&30||tk(n,e,s)}return s}function tk(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=je.updateQueue,e===null?(e={lastEffect:null,stores:null},je.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function nk(t,e,n,r){e.value=n,e.getSnapshot=r,sk(e)&&ik(t)}function rk(t,e,n){return n(function(){sk(e)&&ik(t)})}function sk(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!qn(t,n)}catch{return!0}}function ik(t){var e=Vr(t,1);e!==null&&Wn(e,t,1,-1)}function a1(t){var e=er();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:oc,lastRenderedState:t},e.queue=t,t=t.dispatch=J4.bind(null,je,t),[e.memoizedState,t]}function ac(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=je.updateQueue,e===null?(e={lastEffect:null,stores:null},je.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function ok(){return On().memoizedState}function Ku(t,e,n,r){var s=er();je.flags|=t,s.memoizedState=ac(1|e,n,void 0,r===void 0?null:r)}function bf(t,e,n,r){var s=On();r=r===void 0?null:r;var i=void 0;if(et!==null){var o=et.memoizedState;if(i=o.destroy,r!==null&&b0(r,o.deps)){s.memoizedState=ac(e,n,i,r);return}}je.flags|=t,s.memoizedState=ac(1|e,n,i,r)}function l1(t,e){return Ku(8390656,8,t,e)}function C0(t,e){return bf(2048,8,t,e)}function ak(t,e){return bf(4,2,t,e)}function lk(t,e){return bf(4,4,t,e)}function ck(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function uk(t,e,n){return n=n!=null?n.concat([t]):null,bf(4,4,ck.bind(null,e,t),n)}function E0(){}function dk(t,e){var n=On();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&b0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function fk(t,e){var n=On();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&b0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function hk(t,e,n){return Gi&21?(qn(n,e)||(n=vS(),je.lanes|=n,Ji|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Xt=!0),t.memoizedState=n)}function q4(t,e){var n=Ce;Ce=n!==0&&4>n?n:4,t(!0);var r=zh.transition;zh.transition={};try{t(!1),e()}finally{Ce=n,zh.transition=r}}function pk(){return On().memoizedState}function G4(t,e,n){var r=Bs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},mk(t))gk(e,n);else if(n=QS(t,e,n,r),n!==null){var s=Ft();Wn(n,t,r,s),yk(n,e,r)}}function J4(t,e,n){var r=Bs(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(mk(t))gk(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,qn(a,o)){var l=e.interleaved;l===null?(s.next=s,g0(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=QS(t,e,s,r),n!==null&&(s=Ft(),Wn(n,t,r,s),yk(n,e,r))}}function mk(t){var e=t.alternate;return t===je||e!==null&&e===je}function gk(t,e){Il=Nd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function yk(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,n0(t,n)}}var Md={readContext:Mn,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useInsertionEffect:kt,useLayoutEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useMutableSource:kt,useSyncExternalStore:kt,useId:kt,unstable_isNewReconciler:!1},Q4={readContext:Mn,useCallback:function(t,e){return er().memoizedState=[t,e===void 0?null:e],t},useContext:Mn,useEffect:l1,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ku(4194308,4,ck.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ku(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ku(4,2,t,e)},useMemo:function(t,e){var n=er();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=er();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=G4.bind(null,je,t),[r.memoizedState,t]},useRef:function(t){var e=er();return t={current:t},e.memoizedState=t},useState:a1,useDebugValue:E0,useDeferredValue:function(t){return er().memoizedState=t},useTransition:function(){var t=a1(!1),e=t[0];return t=q4.bind(null,t[1]),er().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=je,s=er();if(Ie){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),ct===null)throw Error(z(349));Gi&30||tk(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,l1(rk.bind(null,r,i,t),[t]),r.flags|=2048,ac(9,nk.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=er(),e=ct.identifierPrefix;if(Ie){var n=Rr,r=Ar;n=(r&~(1<<32-Hn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ic++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=K4++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Y4={readContext:Mn,useCallback:dk,useContext:Mn,useEffect:C0,useImperativeHandle:uk,useInsertionEffect:ak,useLayoutEffect:lk,useMemo:fk,useReducer:Bh,useRef:ok,useState:function(){return Bh(oc)},useDebugValue:E0,useDeferredValue:function(t){var e=On();return hk(e,et.memoizedState,t)},useTransition:function(){var t=Bh(oc)[0],e=On().memoizedState;return[t,e]},useMutableSource:ZS,useSyncExternalStore:ek,useId:pk,unstable_isNewReconciler:!1},X4={readContext:Mn,useCallback:dk,useContext:Mn,useEffect:C0,useImperativeHandle:uk,useInsertionEffect:ak,useLayoutEffect:lk,useMemo:fk,useReducer:Vh,useRef:ok,useState:function(){return Vh(oc)},useDebugValue:E0,useDeferredValue:function(t){var e=On();return et===null?e.memoizedState=t:hk(e,et.memoizedState,t)},useTransition:function(){var t=Vh(oc)[0],e=On().memoizedState;return[t,e]},useMutableSource:ZS,useSyncExternalStore:ek,useId:pk,unstable_isNewReconciler:!1};function jn(t,e){if(t&&t.defaultProps){e=Le({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function vm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Le({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Sf={isMounted:function(t){return(t=t._reactInternals)?ao(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ft(),s=Bs(t),i=jr(r,s);i.payload=e,n!=null&&(i.callback=n),e=Fs(t,i,s),e!==null&&(Wn(e,t,s,r),Hu(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ft(),s=Bs(t),i=jr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Fs(t,i,s),e!==null&&(Wn(e,t,s,r),Hu(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ft(),r=Bs(t),s=jr(n,r);s.tag=2,e!=null&&(s.callback=e),e=Fs(t,s,r),e!==null&&(Wn(e,t,r,n),Hu(e,t,r))}};function c1(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Zl(n,r)||!Zl(s,i):!0}function vk(t,e,n){var r=!1,s=Zs,i=e.contextType;return typeof i=="object"&&i!==null?i=Mn(i):(s=en(e)?Ki:Mt.current,r=e.contextTypes,i=(r=r!=null)?ba(t,s):Zs),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Sf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function u1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Sf.enqueueReplaceState(e,e.state,null)}function wm(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},y0(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Mn(i):(i=en(e)?Ki:Mt.current,s.context=ba(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(vm(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Sf.enqueueReplaceState(s,s.state,null),_d(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Ea(t,e){try{var n="",r=e;do n+=_M(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Uh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function xm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Z4=typeof WeakMap=="function"?WeakMap:Map;function wk(t,e,n){n=jr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Pd||(Pd=!0,Om=r),xm(t,e)},n}function xk(t,e,n){n=jr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){xm(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){xm(t,e),typeof r!="function"&&(zs===null?zs=new Set([this]):zs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function d1(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Z4;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=hO.bind(null,t,e,n),e.then(t,t))}function f1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function h1(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=jr(-1,1),e.tag=2,Fs(n,e,1))),n.lanes|=1),t)}var eO=Gr.ReactCurrentOwner,Xt=!1;function Lt(t,e,n,r){e.child=t===null?JS(e,null,n,r):ka(e,t.child,n,r)}function p1(t,e,n,r,s){n=n.render;var i=e.ref;return Qo(e,s),r=S0(t,e,n,r,i,s),n=k0(),t!==null&&!Xt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ur(t,e,s)):(Ie&&n&&u0(e),e.flags|=1,Lt(t,e,r,s),e.child)}function m1(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!R0(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,bk(t,e,i,r,s)):(t=Qu(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Zl,n(o,r)&&t.ref===e.ref)return Ur(t,e,s)}return e.flags|=1,t=Vs(i,r),t.ref=e.ref,t.return=e,e.child=t}function bk(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Zl(i,r)&&t.ref===e.ref)if(Xt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Xt=!0);else return e.lanes=t.lanes,Ur(t,e,s)}return bm(t,e,n,r,s)}function Sk(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Me(Bo,an),an|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Me(Bo,an),an|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Me(Bo,an),an|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Me(Bo,an),an|=r;return Lt(t,e,s,n),e.child}function kk(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function bm(t,e,n,r,s){var i=en(n)?Ki:Mt.current;return i=ba(e,i),Qo(e,s),n=S0(t,e,n,r,i,s),r=k0(),t!==null&&!Xt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ur(t,e,s)):(Ie&&r&&u0(e),e.flags|=1,Lt(t,e,n,s),e.child)}function g1(t,e,n,r,s){if(en(n)){var i=!0;bd(e)}else i=!1;if(Qo(e,s),e.stateNode===null)qu(t,e),vk(e,n,r),wm(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Mn(c):(c=en(n)?Ki:Mt.current,c=ba(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&u1(e,o,r,c),us=!1;var f=e.memoizedState;o.state=f,_d(e,r,o,s),l=e.memoizedState,a!==r||f!==l||Zt.current||us?(typeof u=="function"&&(vm(e,n,u,r),l=e.memoizedState),(a=us||c1(e,n,a,r,f,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,YS(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:jn(e.type,a),o.props=c,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Mn(l):(l=en(n)?Ki:Mt.current,l=ba(e,l));var h=n.getDerivedStateFromProps;(u=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&u1(e,o,r,l),us=!1,f=e.memoizedState,o.state=f,_d(e,r,o,s);var p=e.memoizedState;a!==d||f!==p||Zt.current||us?(typeof h=="function"&&(vm(e,n,h,r),p=e.memoizedState),(c=us||c1(e,n,c,r,f,p,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Sm(t,e,n,r,i,s)}function Sm(t,e,n,r,s,i){kk(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&t1(e,n,!1),Ur(t,e,i);r=e.stateNode,eO.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ka(e,t.child,null,i),e.child=ka(e,null,a,i)):Lt(t,e,a,i),e.memoizedState=r.state,s&&t1(e,n,!0),e.child}function Ck(t){var e=t.stateNode;e.pendingContext?e1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&e1(t,e.context,!1),v0(t,e.containerInfo)}function y1(t,e,n,r,s){return Sa(),f0(s),e.flags|=256,Lt(t,e,n,r),e.child}var km={dehydrated:null,treeContext:null,retryLane:0};function Cm(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ek(t,e,n){var r=e.pendingProps,s=De.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Me(De,s&1),t===null)return gm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ef(o,r,0,null),t=$i(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Cm(n),e.memoizedState=km,t):_0(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return tO(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Vs(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Vs(a,i):(i=$i(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Cm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=km,r}return i=t.child,t=i.sibling,r=Vs(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function _0(t,e){return e=Ef({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function gu(t,e,n,r){return r!==null&&f0(r),ka(e,t.child,null,n),t=_0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function tO(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Uh(Error(z(422))),gu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Ef({mode:"visible",children:r.children},s,0,null),i=$i(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&ka(e,t.child,null,o),e.child.memoizedState=Cm(o),e.memoizedState=km,i);if(!(e.mode&1))return gu(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(z(419)),r=Uh(i,r,void 0),gu(t,e,o,r)}if(a=(o&t.childLanes)!==0,Xt||a){if(r=ct,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Vr(t,s),Wn(r,t,s,-1))}return A0(),r=Uh(Error(z(421))),gu(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=pO.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,un=$s(s.nextSibling),dn=e,Ie=!0,zn=null,t!==null&&(xn[bn++]=Ar,xn[bn++]=Rr,xn[bn++]=qi,Ar=t.id,Rr=t.overflow,qi=e),e=_0(e,r.children),e.flags|=4096,e)}function v1(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ym(t.return,e,n)}function Hh(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function _k(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Lt(t,e,r.children,n),r=De.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&v1(t,n,e);else if(t.tag===19)v1(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Me(De,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Td(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Hh(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Td(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Hh(e,!0,n,null,i);break;case"together":Hh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function qu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ur(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ji|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=Vs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Vs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function nO(t,e,n){switch(e.tag){case 3:Ck(e),Sa();break;case 5:XS(e);break;case 1:en(e.type)&&bd(e);break;case 4:v0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Me(Cd,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Me(De,De.current&1),e.flags|=128,null):n&e.child.childLanes?Ek(t,e,n):(Me(De,De.current&1),t=Ur(t,e,n),t!==null?t.sibling:null);Me(De,De.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return _k(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Me(De,De.current),r)break;return null;case 22:case 23:return e.lanes=0,Sk(t,e,n)}return Ur(t,e,n)}var Tk,Em,Nk,Mk;Tk=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Em=function(){};Nk=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Si(fr.current);var i=null;switch(n){case"input":s=qp(t,s),r=qp(t,r),i=[];break;case"select":s=Le({},s,{value:void 0}),r=Le({},r,{value:void 0}),i=[];break;case"textarea":s=Qp(t,s),r=Qp(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=wd)}Xp(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Kl.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Kl.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Pe("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};Mk=function(t,e,n,r){n!==r&&(e.flags|=4)};function ll(t,e){if(!Ie)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ct(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function rO(t,e,n){var r=e.pendingProps;switch(d0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(e),null;case 1:return en(e.type)&&xd(),Ct(e),null;case 3:return r=e.stateNode,Ca(),Re(Zt),Re(Mt),x0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(pu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,zn!==null&&(Rm(zn),zn=null))),Em(t,e),Ct(e),null;case 5:w0(e);var s=Si(sc.current);if(n=e.type,t!==null&&e.stateNode!=null)Nk(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return Ct(e),null}if(t=Si(fr.current),pu(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[ar]=e,r[nc]=i,t=(e.mode&1)!==0,n){case"dialog":Pe("cancel",r),Pe("close",r);break;case"iframe":case"object":case"embed":Pe("load",r);break;case"video":case"audio":for(s=0;s<bl.length;s++)Pe(bl[s],r);break;case"source":Pe("error",r);break;case"img":case"image":case"link":Pe("error",r),Pe("load",r);break;case"details":Pe("toggle",r);break;case"input":Tv(r,i),Pe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Pe("invalid",r);break;case"textarea":Mv(r,i),Pe("invalid",r)}Xp(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&hu(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&hu(r.textContent,a,t),s=["children",""+a]):Kl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Pe("scroll",r)}switch(n){case"input":iu(r),Nv(r,i,!0);break;case"textarea":iu(r),Ov(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=wd)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=rS(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ar]=e,t[nc]=r,Tk(t,e,!1,!1),e.stateNode=t;e:{switch(o=Zp(n,r),n){case"dialog":Pe("cancel",t),Pe("close",t),s=r;break;case"iframe":case"object":case"embed":Pe("load",t),s=r;break;case"video":case"audio":for(s=0;s<bl.length;s++)Pe(bl[s],t);s=r;break;case"source":Pe("error",t),s=r;break;case"img":case"image":case"link":Pe("error",t),Pe("load",t),s=r;break;case"details":Pe("toggle",t),s=r;break;case"input":Tv(t,r),s=qp(t,r),Pe("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Le({},r,{value:void 0}),Pe("invalid",t);break;case"textarea":Mv(t,r),s=Qp(t,r),Pe("invalid",t);break;default:s=r}Xp(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?oS(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&sS(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ql(t,l):typeof l=="number"&&ql(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Kl.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Pe("scroll",t):l!=null&&Qg(t,i,l,o))}switch(n){case"input":iu(t),Nv(t,r,!1);break;case"textarea":iu(t),Ov(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Xs(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Ko(t,!!r.multiple,i,!1):r.defaultValue!=null&&Ko(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=wd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ct(e),null;case 6:if(t&&e.stateNode!=null)Mk(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(n=Si(sc.current),Si(fr.current),pu(e)){if(r=e.stateNode,n=e.memoizedProps,r[ar]=e,(i=r.nodeValue!==n)&&(t=dn,t!==null))switch(t.tag){case 3:hu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&hu(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ar]=e,e.stateNode=r}return Ct(e),null;case 13:if(Re(De),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ie&&un!==null&&e.mode&1&&!(e.flags&128))qS(),Sa(),e.flags|=98560,i=!1;else if(i=pu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(z(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(z(317));i[ar]=e}else Sa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ct(e),i=!1}else zn!==null&&(Rm(zn),zn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||De.current&1?rt===0&&(rt=3):A0())),e.updateQueue!==null&&(e.flags|=4),Ct(e),null);case 4:return Ca(),Em(t,e),t===null&&ec(e.stateNode.containerInfo),Ct(e),null;case 10:return m0(e.type._context),Ct(e),null;case 17:return en(e.type)&&xd(),Ct(e),null;case 19:if(Re(De),i=e.memoizedState,i===null)return Ct(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)ll(i,!1);else{if(rt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Td(t),o!==null){for(e.flags|=128,ll(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Me(De,De.current&1|2),e.child}t=t.sibling}i.tail!==null&&He()>_a&&(e.flags|=128,r=!0,ll(i,!1),e.lanes=4194304)}else{if(!r)if(t=Td(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ll(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ie)return Ct(e),null}else 2*He()-i.renderingStartTime>_a&&n!==1073741824&&(e.flags|=128,r=!0,ll(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=He(),e.sibling=null,n=De.current,Me(De,r?n&1|2:n&1),e):(Ct(e),null);case 22:case 23:return P0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?an&1073741824&&(Ct(e),e.subtreeFlags&6&&(e.flags|=8192)):Ct(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function sO(t,e){switch(d0(e),e.tag){case 1:return en(e.type)&&xd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ca(),Re(Zt),Re(Mt),x0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return w0(e),null;case 13:if(Re(De),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));Sa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Re(De),null;case 4:return Ca(),null;case 10:return m0(e.type._context),null;case 22:case 23:return P0(),null;case 24:return null;default:return null}}var yu=!1,Tt=!1,iO=typeof WeakSet=="function"?WeakSet:Set,Q=null;function zo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Fe(t,e,r)}else n.current=null}function _m(t,e,n){try{n()}catch(r){Fe(t,e,r)}}var w1=!1;function oO(t,e){if(cm=gd,t=IS(),c0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,f=null;t:for(;;){for(var h;d!==n||s!==0&&d.nodeType!==3||(a=o+s),d!==i||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===t)break t;if(f===n&&++c===s&&(a=o),f===i&&++u===r&&(l=o),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(um={focusedElem:t,selectionRange:n},gd=!1,Q=e;Q!==null;)if(e=Q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Q=t;else for(;Q!==null;){e=Q;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,w=p.memoizedState,v=e.stateNode,x=v.getSnapshotBeforeUpdate(e.elementType===e.type?g:jn(e.type,g),w);v.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(S){Fe(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}return p=w1,w1=!1,p}function Dl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&_m(e,n,i)}s=s.next}while(s!==r)}}function kf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Tm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Ok(t){var e=t.alternate;e!==null&&(t.alternate=null,Ok(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ar],delete e[nc],delete e[hm],delete e[V4],delete e[U4])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Pk(t){return t.tag===5||t.tag===3||t.tag===4}function x1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Pk(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Nm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=wd));else if(r!==4&&(t=t.child,t!==null))for(Nm(t,e,n),t=t.sibling;t!==null;)Nm(t,e,n),t=t.sibling}function Mm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Mm(t,e,n),t=t.sibling;t!==null;)Mm(t,e,n),t=t.sibling}var mt=null,$n=!1;function es(t,e,n){for(n=n.child;n!==null;)Ak(t,e,n),n=n.sibling}function Ak(t,e,n){if(dr&&typeof dr.onCommitFiberUnmount=="function")try{dr.onCommitFiberUnmount(mf,n)}catch{}switch(n.tag){case 5:Tt||zo(n,e);case 6:var r=mt,s=$n;mt=null,es(t,e,n),mt=r,$n=s,mt!==null&&($n?(t=mt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):mt.removeChild(n.stateNode));break;case 18:mt!==null&&($n?(t=mt,n=n.stateNode,t.nodeType===8?Lh(t.parentNode,n):t.nodeType===1&&Lh(t,n),Yl(t)):Lh(mt,n.stateNode));break;case 4:r=mt,s=$n,mt=n.stateNode.containerInfo,$n=!0,es(t,e,n),mt=r,$n=s;break;case 0:case 11:case 14:case 15:if(!Tt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&_m(n,e,o),s=s.next}while(s!==r)}es(t,e,n);break;case 1:if(!Tt&&(zo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Fe(n,e,a)}es(t,e,n);break;case 21:es(t,e,n);break;case 22:n.mode&1?(Tt=(r=Tt)||n.memoizedState!==null,es(t,e,n),Tt=r):es(t,e,n);break;default:es(t,e,n)}}function b1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new iO),e.forEach(function(r){var s=mO.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Rn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:mt=a.stateNode,$n=!1;break e;case 3:mt=a.stateNode.containerInfo,$n=!0;break e;case 4:mt=a.stateNode.containerInfo,$n=!0;break e}a=a.return}if(mt===null)throw Error(z(160));Ak(i,o,s),mt=null,$n=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Fe(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Rk(e,t),e=e.sibling}function Rk(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Rn(e,t),Zn(t),r&4){try{Dl(3,t,t.return),kf(3,t)}catch(g){Fe(t,t.return,g)}try{Dl(5,t,t.return)}catch(g){Fe(t,t.return,g)}}break;case 1:Rn(e,t),Zn(t),r&512&&n!==null&&zo(n,n.return);break;case 5:if(Rn(e,t),Zn(t),r&512&&n!==null&&zo(n,n.return),t.flags&32){var s=t.stateNode;try{ql(s,"")}catch(g){Fe(t,t.return,g)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&tS(s,i),Zp(a,o);var c=Zp(a,i);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?oS(s,d):u==="dangerouslySetInnerHTML"?sS(s,d):u==="children"?ql(s,d):Qg(s,u,d,c)}switch(a){case"input":Gp(s,i);break;case"textarea":nS(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?Ko(s,!!i.multiple,h,!1):f!==!!i.multiple&&(i.defaultValue!=null?Ko(s,!!i.multiple,i.defaultValue,!0):Ko(s,!!i.multiple,i.multiple?[]:"",!1))}s[nc]=i}catch(g){Fe(t,t.return,g)}}break;case 6:if(Rn(e,t),Zn(t),r&4){if(t.stateNode===null)throw Error(z(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(g){Fe(t,t.return,g)}}break;case 3:if(Rn(e,t),Zn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Yl(e.containerInfo)}catch(g){Fe(t,t.return,g)}break;case 4:Rn(e,t),Zn(t);break;case 13:Rn(e,t),Zn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(M0=He())),r&4&&b1(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Tt=(c=Tt)||u,Rn(e,t),Tt=c):Rn(e,t),Zn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Q=t,u=t.child;u!==null;){for(d=Q=u;Q!==null;){switch(f=Q,h=f.child,f.tag){case 0:case 11:case 14:case 15:Dl(4,f,f.return);break;case 1:zo(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(g){Fe(r,n,g)}}break;case 5:zo(f,f.return);break;case 22:if(f.memoizedState!==null){k1(d);continue}}h!==null?(h.return=f,Q=h):k1(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{s=d.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=iS("display",o))}catch(g){Fe(t,t.return,g)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){Fe(t,t.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Rn(e,t),Zn(t),r&4&&b1(t);break;case 21:break;default:Rn(e,t),Zn(t)}}function Zn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Pk(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ql(s,""),r.flags&=-33);var i=x1(t);Mm(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=x1(t);Nm(t,a,o);break;default:throw Error(z(161))}}catch(l){Fe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function aO(t,e,n){Q=t,Ik(t)}function Ik(t,e,n){for(var r=(t.mode&1)!==0;Q!==null;){var s=Q,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||yu;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Tt;a=yu;var c=Tt;if(yu=o,(Tt=l)&&!c)for(Q=s;Q!==null;)o=Q,l=o.child,o.tag===22&&o.memoizedState!==null?C1(s):l!==null?(l.return=o,Q=l):C1(s);for(;i!==null;)Q=i,Ik(i),i=i.sibling;Q=s,yu=a,Tt=c}S1(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Q=i):S1(t)}}function S1(t){for(;Q!==null;){var e=Q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Tt||kf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Tt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:jn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&o1(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}o1(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Yl(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}Tt||e.flags&512&&Tm(e)}catch(f){Fe(e,e.return,f)}}if(e===t){Q=null;break}if(n=e.sibling,n!==null){n.return=e.return,Q=n;break}Q=e.return}}function k1(t){for(;Q!==null;){var e=Q;if(e===t){Q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Q=n;break}Q=e.return}}function C1(t){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{kf(4,e)}catch(l){Fe(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Fe(e,s,l)}}var i=e.return;try{Tm(e)}catch(l){Fe(e,i,l)}break;case 5:var o=e.return;try{Tm(e)}catch(l){Fe(e,o,l)}}}catch(l){Fe(e,e.return,l)}if(e===t){Q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Q=a;break}Q=e.return}}var lO=Math.ceil,Od=Gr.ReactCurrentDispatcher,T0=Gr.ReactCurrentOwner,En=Gr.ReactCurrentBatchConfig,be=0,ct=null,qe=null,wt=0,an=0,Bo=oi(0),rt=0,lc=null,Ji=0,Cf=0,N0=0,jl=null,Qt=null,M0=0,_a=1/0,Tr=null,Pd=!1,Om=null,zs=null,vu=!1,Ms=null,Ad=0,Ll=0,Pm=null,Gu=-1,Ju=0;function Ft(){return be&6?He():Gu!==-1?Gu:Gu=He()}function Bs(t){return t.mode&1?be&2&&wt!==0?wt&-wt:W4.transition!==null?(Ju===0&&(Ju=vS()),Ju):(t=Ce,t!==0||(t=window.event,t=t===void 0?16:ES(t.type)),t):1}function Wn(t,e,n,r){if(50<Ll)throw Ll=0,Pm=null,Error(z(185));Lc(t,n,r),(!(be&2)||t!==ct)&&(t===ct&&(!(be&2)&&(Cf|=n),rt===4&&ms(t,wt)),tn(t,r),n===1&&be===0&&!(e.mode&1)&&(_a=He()+500,xf&&ai()))}function tn(t,e){var n=t.callbackNode;WM(t,e);var r=md(t,t===ct?wt:0);if(r===0)n!==null&&Rv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Rv(n),e===1)t.tag===0?H4(E1.bind(null,t)):HS(E1.bind(null,t)),z4(function(){!(be&6)&&ai()}),n=null;else{switch(wS(r)){case 1:n=t0;break;case 4:n=gS;break;case 16:n=pd;break;case 536870912:n=yS;break;default:n=pd}n=Vk(n,Dk.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Dk(t,e){if(Gu=-1,Ju=0,be&6)throw Error(z(327));var n=t.callbackNode;if(Yo()&&t.callbackNode!==n)return null;var r=md(t,t===ct?wt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Rd(t,r);else{e=r;var s=be;be|=2;var i=Lk();(ct!==t||wt!==e)&&(Tr=null,_a=He()+500,Li(t,e));do try{dO();break}catch(a){jk(t,a)}while(!0);p0(),Od.current=i,be=s,qe!==null?e=0:(ct=null,wt=0,e=rt)}if(e!==0){if(e===2&&(s=sm(t),s!==0&&(r=s,e=Am(t,s))),e===1)throw n=lc,Li(t,0),ms(t,r),tn(t,He()),n;if(e===6)ms(t,r);else{if(s=t.current.alternate,!(r&30)&&!cO(s)&&(e=Rd(t,r),e===2&&(i=sm(t),i!==0&&(r=i,e=Am(t,i))),e===1))throw n=lc,Li(t,0),ms(t,r),tn(t,He()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:mi(t,Qt,Tr);break;case 3:if(ms(t,r),(r&130023424)===r&&(e=M0+500-He(),10<e)){if(md(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Ft(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=fm(mi.bind(null,t,Qt,Tr),e);break}mi(t,Qt,Tr);break;case 4:if(ms(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Hn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=He()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*lO(r/1960))-r,10<r){t.timeoutHandle=fm(mi.bind(null,t,Qt,Tr),r);break}mi(t,Qt,Tr);break;case 5:mi(t,Qt,Tr);break;default:throw Error(z(329))}}}return tn(t,He()),t.callbackNode===n?Dk.bind(null,t):null}function Am(t,e){var n=jl;return t.current.memoizedState.isDehydrated&&(Li(t,e).flags|=256),t=Rd(t,e),t!==2&&(e=Qt,Qt=n,e!==null&&Rm(e)),t}function Rm(t){Qt===null?Qt=t:Qt.push.apply(Qt,t)}function cO(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!qn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ms(t,e){for(e&=~N0,e&=~Cf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Hn(e),r=1<<n;t[n]=-1,e&=~r}}function E1(t){if(be&6)throw Error(z(327));Yo();var e=md(t,0);if(!(e&1))return tn(t,He()),null;var n=Rd(t,e);if(t.tag!==0&&n===2){var r=sm(t);r!==0&&(e=r,n=Am(t,r))}if(n===1)throw n=lc,Li(t,0),ms(t,e),tn(t,He()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,mi(t,Qt,Tr),tn(t,He()),null}function O0(t,e){var n=be;be|=1;try{return t(e)}finally{be=n,be===0&&(_a=He()+500,xf&&ai())}}function Qi(t){Ms!==null&&Ms.tag===0&&!(be&6)&&Yo();var e=be;be|=1;var n=En.transition,r=Ce;try{if(En.transition=null,Ce=1,t)return t()}finally{Ce=r,En.transition=n,be=e,!(be&6)&&ai()}}function P0(){an=Bo.current,Re(Bo)}function Li(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,F4(n)),qe!==null)for(n=qe.return;n!==null;){var r=n;switch(d0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&xd();break;case 3:Ca(),Re(Zt),Re(Mt),x0();break;case 5:w0(r);break;case 4:Ca();break;case 13:Re(De);break;case 19:Re(De);break;case 10:m0(r.type._context);break;case 22:case 23:P0()}n=n.return}if(ct=t,qe=t=Vs(t.current,null),wt=an=e,rt=0,lc=null,N0=Cf=Ji=0,Qt=jl=null,bi!==null){for(e=0;e<bi.length;e++)if(n=bi[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}bi=null}return t}function jk(t,e){do{var n=qe;try{if(p0(),Wu.current=Md,Nd){for(var r=je.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Nd=!1}if(Gi=0,at=et=je=null,Il=!1,ic=0,T0.current=null,n===null||n.return===null){rt=1,lc=e,qe=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=wt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=f1(o);if(h!==null){h.flags&=-257,h1(h,o,a,i,e),h.mode&1&&d1(i,c,e),e=h,l=c;var p=e.updateQueue;if(p===null){var g=new Set;g.add(l),e.updateQueue=g}else p.add(l);break e}else{if(!(e&1)){d1(i,c,e),A0();break e}l=Error(z(426))}}else if(Ie&&a.mode&1){var w=f1(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),h1(w,o,a,i,e),f0(Ea(l,a));break e}}i=l=Ea(l,a),rt!==4&&(rt=2),jl===null?jl=[i]:jl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=wk(i,l,e);i1(i,v);break e;case 1:a=l;var x=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(zs===null||!zs.has(b)))){i.flags|=65536,e&=-e,i.lanes|=e;var S=xk(i,a,e);i1(i,S);break e}}i=i.return}while(i!==null)}Fk(n)}catch(k){e=k,qe===n&&n!==null&&(qe=n=n.return);continue}break}while(!0)}function Lk(){var t=Od.current;return Od.current=Md,t===null?Md:t}function A0(){(rt===0||rt===3||rt===2)&&(rt=4),ct===null||!(Ji&268435455)&&!(Cf&268435455)||ms(ct,wt)}function Rd(t,e){var n=be;be|=2;var r=Lk();(ct!==t||wt!==e)&&(Tr=null,Li(t,e));do try{uO();break}catch(s){jk(t,s)}while(!0);if(p0(),be=n,Od.current=r,qe!==null)throw Error(z(261));return ct=null,wt=0,rt}function uO(){for(;qe!==null;)$k(qe)}function dO(){for(;qe!==null&&!jM();)$k(qe)}function $k(t){var e=Bk(t.alternate,t,an);t.memoizedProps=t.pendingProps,e===null?Fk(t):qe=e,T0.current=null}function Fk(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=sO(n,e),n!==null){n.flags&=32767,qe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{rt=6,qe=null;return}}else if(n=rO(n,e,an),n!==null){qe=n;return}if(e=e.sibling,e!==null){qe=e;return}qe=e=t}while(e!==null);rt===0&&(rt=5)}function mi(t,e,n){var r=Ce,s=En.transition;try{En.transition=null,Ce=1,fO(t,e,n,r)}finally{En.transition=s,Ce=r}return null}function fO(t,e,n,r){do Yo();while(Ms!==null);if(be&6)throw Error(z(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(KM(t,i),t===ct&&(qe=ct=null,wt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||vu||(vu=!0,Vk(pd,function(){return Yo(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=En.transition,En.transition=null;var o=Ce;Ce=1;var a=be;be|=4,T0.current=null,oO(t,n),Rk(n,t),A4(um),gd=!!cm,um=cm=null,t.current=n,aO(n),LM(),be=a,Ce=o,En.transition=i}else t.current=n;if(vu&&(vu=!1,Ms=t,Ad=s),i=t.pendingLanes,i===0&&(zs=null),zM(n.stateNode),tn(t,He()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Pd)throw Pd=!1,t=Om,Om=null,t;return Ad&1&&t.tag!==0&&Yo(),i=t.pendingLanes,i&1?t===Pm?Ll++:(Ll=0,Pm=t):Ll=0,ai(),null}function Yo(){if(Ms!==null){var t=wS(Ad),e=En.transition,n=Ce;try{if(En.transition=null,Ce=16>t?16:t,Ms===null)var r=!1;else{if(t=Ms,Ms=null,Ad=0,be&6)throw Error(z(331));var s=be;for(be|=4,Q=t.current;Q!==null;){var i=Q,o=i.child;if(Q.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Q=c;Q!==null;){var u=Q;switch(u.tag){case 0:case 11:case 15:Dl(8,u,i)}var d=u.child;if(d!==null)d.return=u,Q=d;else for(;Q!==null;){u=Q;var f=u.sibling,h=u.return;if(Ok(u),u===c){Q=null;break}if(f!==null){f.return=h,Q=f;break}Q=h}}}var p=i.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var w=g.sibling;g.sibling=null,g=w}while(g!==null)}}Q=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Q=o;else e:for(;Q!==null;){if(i=Q,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Dl(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,Q=v;break e}Q=i.return}}var x=t.current;for(Q=x;Q!==null;){o=Q;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,Q=b;else e:for(o=x;Q!==null;){if(a=Q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:kf(9,a)}}catch(k){Fe(a,a.return,k)}if(a===o){Q=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,Q=S;break e}Q=a.return}}if(be=s,ai(),dr&&typeof dr.onPostCommitFiberRoot=="function")try{dr.onPostCommitFiberRoot(mf,t)}catch{}r=!0}return r}finally{Ce=n,En.transition=e}}return!1}function _1(t,e,n){e=Ea(n,e),e=wk(t,e,1),t=Fs(t,e,1),e=Ft(),t!==null&&(Lc(t,1,e),tn(t,e))}function Fe(t,e,n){if(t.tag===3)_1(t,t,n);else for(;e!==null;){if(e.tag===3){_1(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(zs===null||!zs.has(r))){t=Ea(n,t),t=xk(e,t,1),e=Fs(e,t,1),t=Ft(),e!==null&&(Lc(e,1,t),tn(e,t));break}}e=e.return}}function hO(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ft(),t.pingedLanes|=t.suspendedLanes&n,ct===t&&(wt&n)===n&&(rt===4||rt===3&&(wt&130023424)===wt&&500>He()-M0?Li(t,0):N0|=n),tn(t,e)}function zk(t,e){e===0&&(t.mode&1?(e=lu,lu<<=1,!(lu&130023424)&&(lu=4194304)):e=1);var n=Ft();t=Vr(t,e),t!==null&&(Lc(t,e,n),tn(t,n))}function pO(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),zk(t,n)}function mO(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),zk(t,n)}var Bk;Bk=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Zt.current)Xt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Xt=!1,nO(t,e,n);Xt=!!(t.flags&131072)}else Xt=!1,Ie&&e.flags&1048576&&WS(e,kd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;qu(t,e),t=e.pendingProps;var s=ba(e,Mt.current);Qo(e,n),s=S0(null,e,r,t,s,n);var i=k0();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,en(r)?(i=!0,bd(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,y0(e),s.updater=Sf,e.stateNode=s,s._reactInternals=e,wm(e,r,t,n),e=Sm(null,e,r,!0,i,n)):(e.tag=0,Ie&&i&&u0(e),Lt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(qu(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=yO(r),t=jn(r,t),s){case 0:e=bm(null,e,r,t,n);break e;case 1:e=g1(null,e,r,t,n);break e;case 11:e=p1(null,e,r,t,n);break e;case 14:e=m1(null,e,r,jn(r.type,t),n);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:jn(r,s),bm(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:jn(r,s),g1(t,e,r,s,n);case 3:e:{if(Ck(e),t===null)throw Error(z(387));r=e.pendingProps,i=e.memoizedState,s=i.element,YS(t,e),_d(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Ea(Error(z(423)),e),e=y1(t,e,r,n,s);break e}else if(r!==s){s=Ea(Error(z(424)),e),e=y1(t,e,r,n,s);break e}else for(un=$s(e.stateNode.containerInfo.firstChild),dn=e,Ie=!0,zn=null,n=JS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Sa(),r===s){e=Ur(t,e,n);break e}Lt(t,e,r,n)}e=e.child}return e;case 5:return XS(e),t===null&&gm(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,dm(r,s)?o=null:i!==null&&dm(r,i)&&(e.flags|=32),kk(t,e),Lt(t,e,o,n),e.child;case 6:return t===null&&gm(e),null;case 13:return Ek(t,e,n);case 4:return v0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ka(e,null,r,n):Lt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:jn(r,s),p1(t,e,r,s,n);case 7:return Lt(t,e,e.pendingProps,n),e.child;case 8:return Lt(t,e,e.pendingProps.children,n),e.child;case 12:return Lt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Me(Cd,r._currentValue),r._currentValue=o,i!==null)if(qn(i.value,o)){if(i.children===s.children&&!Zt.current){e=Ur(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=jr(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),ym(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(z(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),ym(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Lt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Qo(e,n),s=Mn(s),r=r(s),e.flags|=1,Lt(t,e,r,n),e.child;case 14:return r=e.type,s=jn(r,e.pendingProps),s=jn(r.type,s),m1(t,e,r,s,n);case 15:return bk(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:jn(r,s),qu(t,e),e.tag=1,en(r)?(t=!0,bd(e)):t=!1,Qo(e,n),vk(e,r,s),wm(e,r,s,n),Sm(null,e,r,!0,t,n);case 19:return _k(t,e,n);case 22:return Sk(t,e,n)}throw Error(z(156,e.tag))};function Vk(t,e){return mS(t,e)}function gO(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(t,e,n,r){return new gO(t,e,n,r)}function R0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function yO(t){if(typeof t=="function")return R0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Xg)return 11;if(t===Zg)return 14}return 2}function Vs(t,e){var n=t.alternate;return n===null?(n=kn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Qu(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")R0(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Po:return $i(n.children,s,i,e);case Yg:o=8,s|=8;break;case Up:return t=kn(12,n,e,s|2),t.elementType=Up,t.lanes=i,t;case Hp:return t=kn(13,n,e,s),t.elementType=Hp,t.lanes=i,t;case Wp:return t=kn(19,n,e,s),t.elementType=Wp,t.lanes=i,t;case Xb:return Ef(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Qb:o=10;break e;case Yb:o=9;break e;case Xg:o=11;break e;case Zg:o=14;break e;case cs:o=16,r=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=kn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function $i(t,e,n,r){return t=kn(7,t,r,e),t.lanes=n,t}function Ef(t,e,n,r){return t=kn(22,t,r,e),t.elementType=Xb,t.lanes=n,t.stateNode={isHidden:!1},t}function Wh(t,e,n){return t=kn(6,t,null,e),t.lanes=n,t}function Kh(t,e,n){return e=kn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function vO(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_h(0),this.expirationTimes=_h(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_h(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function I0(t,e,n,r,s,i,o,a,l){return t=new vO(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=kn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},y0(i),t}function wO(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Oo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Uk(t){if(!t)return Zs;t=t._reactInternals;e:{if(ao(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(en(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(en(n))return US(t,n,e)}return e}function Hk(t,e,n,r,s,i,o,a,l){return t=I0(n,r,!0,t,s,i,o,a,l),t.context=Uk(null),n=t.current,r=Ft(),s=Bs(n),i=jr(r,s),i.callback=e??null,Fs(n,i,s),t.current.lanes=s,Lc(t,s,r),tn(t,r),t}function _f(t,e,n,r){var s=e.current,i=Ft(),o=Bs(s);return n=Uk(n),e.context===null?e.context=n:e.pendingContext=n,e=jr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Fs(s,e,o),t!==null&&(Wn(t,s,o,i),Hu(t,s,o)),o}function Id(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function T1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function D0(t,e){T1(t,e),(t=t.alternate)&&T1(t,e)}function xO(){return null}var Wk=typeof reportError=="function"?reportError:function(t){console.error(t)};function j0(t){this._internalRoot=t}Tf.prototype.render=j0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));_f(t,e,null,null)};Tf.prototype.unmount=j0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Qi(function(){_f(null,t,null,null)}),e[Br]=null}};function Tf(t){this._internalRoot=t}Tf.prototype.unstable_scheduleHydration=function(t){if(t){var e=SS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ps.length&&e!==0&&e<ps[n].priority;n++);ps.splice(n,0,t),n===0&&CS(t)}};function L0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Nf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function N1(){}function bO(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Id(o);i.call(c)}}var o=Hk(e,r,t,0,null,!1,!1,"",N1);return t._reactRootContainer=o,t[Br]=o.current,ec(t.nodeType===8?t.parentNode:t),Qi(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Id(l);a.call(c)}}var l=I0(t,0,!1,null,null,!1,!1,"",N1);return t._reactRootContainer=l,t[Br]=l.current,ec(t.nodeType===8?t.parentNode:t),Qi(function(){_f(e,l,n,r)}),l}function Mf(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Id(o);a.call(l)}}_f(e,o,t,s)}else o=bO(n,e,t,s,r);return Id(o)}xS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=xl(e.pendingLanes);n!==0&&(n0(e,n|1),tn(e,He()),!(be&6)&&(_a=He()+500,ai()))}break;case 13:Qi(function(){var r=Vr(t,1);if(r!==null){var s=Ft();Wn(r,t,1,s)}}),D0(t,1)}};r0=function(t){if(t.tag===13){var e=Vr(t,134217728);if(e!==null){var n=Ft();Wn(e,t,134217728,n)}D0(t,134217728)}};bS=function(t){if(t.tag===13){var e=Bs(t),n=Vr(t,e);if(n!==null){var r=Ft();Wn(n,t,e,r)}D0(t,e)}};SS=function(){return Ce};kS=function(t,e){var n=Ce;try{return Ce=t,e()}finally{Ce=n}};tm=function(t,e,n){switch(e){case"input":if(Gp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=wf(r);if(!s)throw Error(z(90));eS(r),Gp(r,s)}}}break;case"textarea":nS(t,n);break;case"select":e=n.value,e!=null&&Ko(t,!!n.multiple,e,!1)}};cS=O0;uS=Qi;var SO={usingClientEntryPoint:!1,Events:[Fc,Do,wf,aS,lS,O0]},cl={findFiberByHostInstance:xi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kO={bundleType:cl.bundleType,version:cl.version,rendererPackageName:cl.rendererPackageName,rendererConfig:cl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=hS(t),t===null?null:t.stateNode},findFiberByHostInstance:cl.findFiberByHostInstance||xO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wu.isDisabled&&wu.supportsFiber)try{mf=wu.inject(kO),dr=wu}catch{}}pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SO;pn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!L0(e))throw Error(z(200));return wO(t,e,null,n)};pn.createRoot=function(t,e){if(!L0(t))throw Error(z(299));var n=!1,r="",s=Wk;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=I0(t,1,!1,null,null,n,!1,r,s),t[Br]=e.current,ec(t.nodeType===8?t.parentNode:t),new j0(e)};pn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=hS(e),t=t===null?null:t.stateNode,t};pn.flushSync=function(t){return Qi(t)};pn.hydrate=function(t,e,n){if(!Nf(e))throw Error(z(200));return Mf(null,t,e,!0,n)};pn.hydrateRoot=function(t,e,n){if(!L0(t))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Wk;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Hk(e,null,t,1,n??null,s,!1,i,o),t[Br]=e.current,ec(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Tf(e)};pn.render=function(t,e,n){if(!Nf(e))throw Error(z(200));return Mf(null,t,e,!1,n)};pn.unmountComponentAtNode=function(t){if(!Nf(t))throw Error(z(40));return t._reactRootContainer?(Qi(function(){Mf(null,null,t,!1,function(){t._reactRootContainer=null,t[Br]=null})}),!0):!1};pn.unstable_batchedUpdates=O0;pn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Nf(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return Mf(t,e,n,!1,r)};pn.version="18.3.1-next-f1338f8080-20240426";function Kk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Kk)}catch(t){console.error(t)}}Kk(),Kb.exports=pn;var Bc=Kb.exports;const qk=Rb(Bc);var Gk,M1=Bc;Gk=M1.createRoot,M1.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cc(){return cc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cc.apply(this,arguments)}var Os;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Os||(Os={}));const O1="popstate";function CO(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return Im("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Qk(s)}return _O(e,n,null,t)}function Qe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Jk(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function EO(){return Math.random().toString(36).substr(2,8)}function P1(t,e){return{usr:t.state,key:t.key,idx:e}}function Im(t,e,n,r){return n===void 0&&(n=null),cc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ua(e):e,{state:n,key:e&&e.key||r||EO()})}function Qk(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ua(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function _O(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Os.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(cc({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=Os.Pop;let w=u(),v=w==null?null:w-c;c=w,l&&l({action:a,location:g.location,delta:v})}function f(w,v){a=Os.Push;let x=Im(g.location,w,v);c=u()+1;let b=P1(x,c),S=g.createHref(x);try{o.pushState(b,"",S)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(S)}i&&l&&l({action:a,location:g.location,delta:1})}function h(w,v){a=Os.Replace;let x=Im(g.location,w,v);c=u();let b=P1(x,c),S=g.createHref(x);o.replaceState(b,"",S),i&&l&&l({action:a,location:g.location,delta:0})}function p(w){let v=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof w=="string"?w:Qk(w);return x=x.replace(/ $/,"%20"),Qe(v,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,v)}let g={get action(){return a},get location(){return t(s,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(O1,d),l=w,()=>{s.removeEventListener(O1,d),l=null}},createHref(w){return e(s,w)},createURL:p,encodeLocation(w){let v=p(w);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:h,go(w){return o.go(w)}};return g}var A1;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(A1||(A1={}));function TO(t,e,n){return n===void 0&&(n="/"),NO(t,e,n,!1)}function NO(t,e,n,r){let s=typeof e=="string"?Ua(e):e,i=Zk(s.pathname||"/",n);if(i==null)return null;let o=Yk(t);MO(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=zO(i);a=$O(o[l],c,r)}return a}function Yk(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Qe(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Fi([r,l.relativePath]),u=n.concat(l);i.children&&i.children.length>0&&(Qe(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Yk(i.children,e,u,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:jO(c,i.index),routesMeta:u})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of Xk(i.path))s(i,o,l)}),e}function Xk(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=Xk(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function MO(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:LO(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const OO=/^:[\w-]+$/,PO=3,AO=2,RO=1,IO=10,DO=-2,R1=t=>t==="*";function jO(t,e){let n=t.split("/"),r=n.length;return n.some(R1)&&(r+=DO),e&&(r+=AO),n.filter(s=>!R1(s)).reduce((s,i)=>s+(OO.test(i)?PO:i===""?RO:IO),r)}function LO(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function $O(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=i==="/"?e:e.slice(i.length)||"/",d=I1({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=I1({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:Fi([i,d.pathname]),pathnameBase:HO(Fi([i,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(i=Fi([i,d.pathnameBase]))}return o}function I1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=FO(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:f,isOptional:h}=u;if(f==="*"){let g=a[d]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const p=a[d];return h&&!p?c[f]=void 0:c[f]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function FO(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Jk(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function zO(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Jk(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Zk(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function BO(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Ua(t):t;return{pathname:n?n.startsWith("/")?n:VO(n,e):e,search:WO(r),hash:KO(s)}}function VO(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function qh(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function UO(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function eC(t,e){let n=UO(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function tC(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Ua(t):(s=cc({},t),Qe(!s.pathname||!s.pathname.includes("?"),qh("?","pathname","search",s)),Qe(!s.pathname||!s.pathname.includes("#"),qh("#","pathname","hash",s)),Qe(!s.search||!s.search.includes("#"),qh("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;s.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=BO(s,a),c=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Fi=t=>t.join("/").replace(/\/\/+/g,"/"),HO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),WO=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,KO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function qO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const nC=["post","put","patch","delete"];new Set(nC);const GO=["get",...nC];new Set(GO);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function uc(){return uc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uc.apply(this,arguments)}const $0=y.createContext(null),JO=y.createContext(null),Vc=y.createContext(null),Of=y.createContext(null),lo=y.createContext({outlet:null,matches:[],isDataRoute:!1}),rC=y.createContext(null);function Uc(){return y.useContext(Of)!=null}function F0(){return Uc()||Qe(!1),y.useContext(Of).location}function sC(t){y.useContext(Vc).static||y.useLayoutEffect(t)}function z0(){let{isDataRoute:t}=y.useContext(lo);return t?lP():QO()}function QO(){Uc()||Qe(!1);let t=y.useContext($0),{basename:e,future:n,navigator:r}=y.useContext(Vc),{matches:s}=y.useContext(lo),{pathname:i}=F0(),o=JSON.stringify(eC(s,n.v7_relativeSplatPath)),a=y.useRef(!1);return sC(()=>{a.current=!0}),y.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=tC(c,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Fi([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,o,i,t])}function YO(t,e){return XO(t,e)}function XO(t,e,n,r){Uc()||Qe(!1);let{navigator:s}=y.useContext(Vc),{matches:i}=y.useContext(lo),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=F0(),u;if(e){var d;let w=typeof e=="string"?Ua(e):e;l==="/"||(d=w.pathname)!=null&&d.startsWith(l)||Qe(!1),u=w}else u=c;let f=u.pathname||"/",h=f;if(l!=="/"){let w=l.replace(/^\//,"").split("/");h="/"+f.replace(/^\//,"").split("/").slice(w.length).join("/")}let p=TO(t,{pathname:h}),g=rP(p&&p.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:Fi([l,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:Fi([l,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,n,r);return e&&g?y.createElement(Of.Provider,{value:{location:uc({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Os.Pop}},g):g}function ZO(){let t=aP(),e=qO(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),n?y.createElement("pre",{style:s},n):null,null)}const eP=y.createElement(ZO,null);class tP extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?y.createElement(lo.Provider,{value:this.props.routeContext},y.createElement(rC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function nP(t){let{routeContext:e,match:n,children:r}=t,s=y.useContext($0);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(lo.Provider,{value:e},r)}function rP(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||Qe(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:h}=n,p=d.route.loader&&f[d.route.id]===void 0&&(!h||h[d.route.id]===void 0);if(d.route.lazy||p){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,f)=>{let h,p=!1,g=null,w=null;n&&(h=a&&d.route.id?a[d.route.id]:void 0,g=d.route.errorElement||eP,l&&(c<0&&f===0?(p=!0,w=null):c===f&&(p=!0,w=d.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,f+1)),x=()=>{let b;return h?b=g:p?b=w:d.route.Component?b=y.createElement(d.route.Component,null):d.route.element?b=d.route.element:b=u,y.createElement(nP,{match:d,routeContext:{outlet:u,matches:v,isDataRoute:n!=null},children:b})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?y.createElement(tP,{location:n.location,revalidation:n.revalidation,component:g,error:h,children:x(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):x()},null)}var iC=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(iC||{}),Dd=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Dd||{});function sP(t){let e=y.useContext($0);return e||Qe(!1),e}function iP(t){let e=y.useContext(JO);return e||Qe(!1),e}function oP(t){let e=y.useContext(lo);return e||Qe(!1),e}function oC(t){let e=oP(),n=e.matches[e.matches.length-1];return n.route.id||Qe(!1),n.route.id}function aP(){var t;let e=y.useContext(rC),n=iP(Dd.UseRouteError),r=oC(Dd.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function lP(){let{router:t}=sP(iC.UseNavigateStable),e=oC(Dd.UseNavigateStable),n=y.useRef(!1);return sC(()=>{n.current=!0}),y.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,uc({fromRouteId:e},i)))},[t,e])}function cP(t){let{to:e,replace:n,state:r,relative:s}=t;Uc()||Qe(!1);let{future:i,static:o}=y.useContext(Vc),{matches:a}=y.useContext(lo),{pathname:l}=F0(),c=z0(),u=tC(e,eC(a,i.v7_relativeSplatPath),l,s==="path"),d=JSON.stringify(u);return y.useEffect(()=>c(JSON.parse(d),{replace:n,state:r,relative:s}),[c,d,s,n,r]),null}function Yu(t){Qe(!1)}function uP(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Os.Pop,navigator:i,static:o=!1,future:a}=t;Uc()&&Qe(!1);let l=e.replace(/^\/*/,"/"),c=y.useMemo(()=>({basename:l,navigator:i,static:o,future:uc({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=Ua(r));let{pathname:u="/",search:d="",hash:f="",state:h=null,key:p="default"}=r,g=y.useMemo(()=>{let w=Zk(u,l);return w==null?null:{location:{pathname:w,search:d,hash:f,state:h,key:p},navigationType:s}},[l,u,d,f,h,p,s]);return g==null?null:y.createElement(Vc.Provider,{value:c},y.createElement(Of.Provider,{children:n,value:g}))}function dP(t){let{children:e,location:n}=t;return YO(Dm(e),n)}new Promise(()=>{});function Dm(t,e){e===void 0&&(e=[]);let n=[];return y.Children.forEach(t,(r,s)=>{if(!y.isValidElement(r))return;let i=[...e,s];if(r.type===y.Fragment){n.push.apply(n,Dm(r.props.children,i));return}r.type!==Yu&&Qe(!1),!r.props.index||!r.props.children||Qe(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Dm(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const fP="6";try{window.__reactRouterVersion=fP}catch{}const hP="startTransition",D1=Hb[hP];function pP(t){let{basename:e,children:n,future:r,window:s}=t,i=y.useRef();i.current==null&&(i.current=CO({window:s,v5Compat:!0}));let o=i.current,[a,l]=y.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=y.useCallback(d=>{c&&D1?D1(()=>l(d)):l(d)},[l,c]);return y.useLayoutEffect(()=>o.listen(u),[o,u]),y.createElement(uP,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}var j1;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(j1||(j1={}));var L1;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(L1||(L1={}));const mP=1,gP=1e6;let Gh=0;function yP(){return Gh=(Gh+1)%Number.MAX_SAFE_INTEGER,Gh.toString()}const Jh=new Map,$1=t=>{if(Jh.has(t))return;const e=setTimeout(()=>{Jh.delete(t),$l({type:"REMOVE_TOAST",toastId:t})},gP);Jh.set(t,e)},vP=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,mP)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?$1(n):t.toasts.forEach(r=>{$1(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Xu=[];let Zu={toasts:[]};function $l(t){Zu=vP(Zu,t),Xu.forEach(e=>{e(Zu)})}function wP({...t}){const e=yP(),n=s=>$l({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>$l({type:"DISMISS_TOAST",toastId:e});return $l({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function co(){const[t,e]=y.useState(Zu);return y.useEffect(()=>(Xu.push(e),()=>{const n=Xu.indexOf(e);n>-1&&Xu.splice(n,1)}),[t]),{...t,toast:wP,dismiss:n=>$l({type:"DISMISS_TOAST",toastId:n})}}function ee(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function xP(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Pf(...t){return e=>t.forEach(n=>xP(n,e))}function _e(...t){return y.useCallback(Pf(...t),t)}function bP(t,e=[]){let n=[];function r(i,o){const a=y.createContext(o),l=n.length;n=[...n,o];function c(d){const{scope:f,children:h,...p}=d,g=(f==null?void 0:f[t][l])||a,w=y.useMemo(()=>p,Object.values(p));return m.jsx(g.Provider,{value:w,children:h})}function u(d,f){const h=(f==null?void 0:f[t][l])||a,p=y.useContext(h);if(p)return p;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,u]}const s=()=>{const i=n.map(o=>y.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,SP(s,...e)]}function SP(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(i)[`__scope${c}`];return{...a,...d}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Yi=y.forwardRef((t,e)=>{const{children:n,...r}=t,s=y.Children.toArray(n),i=s.find(CP);if(i){const o=i.props.children,a=s.map(l=>l===i?y.Children.count(o)>1?y.Children.only(null):y.isValidElement(o)?o.props.children:null:l);return m.jsx(jm,{...r,ref:e,children:y.isValidElement(o)?y.cloneElement(o,void 0,a):null})}return m.jsx(jm,{...r,ref:e,children:n})});Yi.displayName="Slot";var jm=y.forwardRef((t,e)=>{const{children:n,...r}=t;if(y.isValidElement(n)){const s=_P(n);return y.cloneElement(n,{...EP(r,n.props),ref:e?Pf(e,s):s})}return y.Children.count(n)>1?y.Children.only(null):null});jm.displayName="SlotClone";var kP=({children:t})=>m.jsx(m.Fragment,{children:t});function CP(t){return y.isValidElement(t)&&t.type===kP}function EP(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function _P(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Af(t){const e=t+"CollectionProvider",[n,r]=bP(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=h=>{const{scope:p,children:g}=h,w=E.useRef(null),v=E.useRef(new Map).current;return m.jsx(s,{scope:p,itemMap:v,collectionRef:w,children:g})};o.displayName=e;const a=t+"CollectionSlot",l=E.forwardRef((h,p)=>{const{scope:g,children:w}=h,v=i(a,g),x=_e(p,v.collectionRef);return m.jsx(Yi,{ref:x,children:w})});l.displayName=a;const c=t+"CollectionItemSlot",u="data-radix-collection-item",d=E.forwardRef((h,p)=>{const{scope:g,children:w,...v}=h,x=E.useRef(null),b=_e(p,x),S=i(c,g);return E.useEffect(()=>(S.itemMap.set(x,{ref:x,...v}),()=>void S.itemMap.delete(x))),m.jsx(Yi,{[u]:"",ref:b,children:w})});d.displayName=c;function f(h){const p=i(t+"CollectionConsumer",h);return E.useCallback(()=>{const w=p.collectionRef.current;if(!w)return[];const v=Array.from(w.querySelectorAll(`[${u}]`));return Array.from(p.itemMap.values()).sort((S,k)=>v.indexOf(S.ref.current)-v.indexOf(k.ref.current))},[p.collectionRef,p.itemMap])}return[{Provider:o,Slot:l,ItemSlot:d},f,r]}function TP(t,e){const n=y.createContext(e),r=i=>{const{children:o,...a}=i,l=y.useMemo(()=>a,Object.values(a));return m.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=y.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Jr(t,e=[]){let n=[];function r(i,o){const a=y.createContext(o),l=n.length;n=[...n,o];const c=d=>{var v;const{scope:f,children:h,...p}=d,g=((v=f==null?void 0:f[t])==null?void 0:v[l])||a,w=y.useMemo(()=>p,Object.values(p));return m.jsx(g.Provider,{value:w,children:h})};c.displayName=i+"Provider";function u(d,f){var g;const h=((g=f==null?void 0:f[t])==null?void 0:g[l])||a,p=y.useContext(h);if(p)return p;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=n.map(o=>y.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,NP(s,...e)]}function NP(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(i)[`__scope${c}`];return{...a,...d}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var MP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ae=MP.reduce((t,e)=>{const n=y.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?Yi:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function B0(t,e){t&&Bc.flushSync(()=>t.dispatchEvent(e))}function Be(t){const e=y.useRef(t);return y.useEffect(()=>{e.current=t}),y.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function OP(t,e=globalThis==null?void 0:globalThis.document){const n=Be(t);y.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var PP="DismissableLayer",Lm="dismissableLayer.update",AP="dismissableLayer.pointerDownOutside",RP="dismissableLayer.focusOutside",F1,aC=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Rf=y.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=y.useContext(aC),[u,d]=y.useState(null),f=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=y.useState({}),p=_e(e,_=>d(_)),g=Array.from(c.layers),[w]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),v=g.indexOf(w),x=u?g.indexOf(u):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,S=x>=v,k=DP(_=>{const M=_.target,O=[...c.branches].some(P=>P.contains(M));!S||O||(s==null||s(_),o==null||o(_),_.defaultPrevented||a==null||a())},f),C=jP(_=>{const M=_.target;[...c.branches].some(P=>P.contains(M))||(i==null||i(_),o==null||o(_),_.defaultPrevented||a==null||a())},f);return OP(_=>{x===c.layers.size-1&&(r==null||r(_),!_.defaultPrevented&&a&&(_.preventDefault(),a()))},f),y.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(F1=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),z1(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=F1)}},[u,f,n,c]),y.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),z1())},[u,c]),y.useEffect(()=>{const _=()=>h({});return document.addEventListener(Lm,_),()=>document.removeEventListener(Lm,_)},[]),m.jsx(ae.div,{...l,ref:p,style:{pointerEvents:b?S?"auto":"none":void 0,...t.style},onFocusCapture:ee(t.onFocusCapture,C.onFocusCapture),onBlurCapture:ee(t.onBlurCapture,C.onBlurCapture),onPointerDownCapture:ee(t.onPointerDownCapture,k.onPointerDownCapture)})});Rf.displayName=PP;var IP="DismissableLayerBranch",lC=y.forwardRef((t,e)=>{const n=y.useContext(aC),r=y.useRef(null),s=_e(e,r);return y.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),m.jsx(ae.div,{...t,ref:s})});lC.displayName=IP;function DP(t,e=globalThis==null?void 0:globalThis.document){const n=Be(t),r=y.useRef(!1),s=y.useRef(()=>{});return y.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){cC(AP,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function jP(t,e=globalThis==null?void 0:globalThis.document){const n=Be(t),r=y.useRef(!1);return y.useEffect(()=>{const s=i=>{i.target&&!r.current&&cC(RP,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function z1(){const t=new CustomEvent(Lm);document.dispatchEvent(t)}function cC(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?B0(s,i):s.dispatchEvent(i)}var LP=Rf,$P=lC,pr=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},FP="Portal",If=y.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=y.useState(!1);pr(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?qk.createPortal(m.jsx(ae.div,{...r,ref:e}),o):null});If.displayName=FP;function zP(t,e){return y.useReducer((n,r)=>e[n][r]??n,t)}var Pt=t=>{const{present:e,children:n}=t,r=BP(e),s=typeof n=="function"?n({present:r.isPresent}):y.Children.only(n),i=_e(r.ref,VP(s));return typeof n=="function"||r.isPresent?y.cloneElement(s,{ref:i}):null};Pt.displayName="Presence";function BP(t){const[e,n]=y.useState(),r=y.useRef({}),s=y.useRef(t),i=y.useRef("none"),o=t?"mounted":"unmounted",[a,l]=zP(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const c=xu(r.current);i.current=a==="mounted"?c:"none"},[a]),pr(()=>{const c=r.current,u=s.current;if(u!==t){const f=i.current,h=xu(c);t?l("MOUNT"):h==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&f!==h?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),pr(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,d=h=>{const g=xu(r.current).includes(h.animationName);if(h.target===e&&g&&(l("ANIMATION_END"),!s.current)){const w=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=w)})}},f=h=>{h.target===e&&(i.current=xu(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:y.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function xu(t){return(t==null?void 0:t.animationName)||"none"}function VP(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Qr({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=UP({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=Be(n),l=y.useCallback(c=>{if(i){const d=typeof c=="function"?c(t):c;d!==t&&a(d)}else s(c)},[i,t,s,a]);return[o,l]}function UP({defaultProp:t,onChange:e}){const n=y.useState(t),[r]=n,s=y.useRef(r),i=Be(e);return y.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var HP="VisuallyHidden",V0=y.forwardRef((t,e)=>m.jsx(ae.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));V0.displayName=HP;var U0="ToastProvider",[H0,WP,KP]=Af("Toast"),[uC,tW]=Jr("Toast",[KP]),[qP,Df]=uC(U0),dC=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=y.useState(null),[c,u]=y.useState(0),d=y.useRef(!1),f=y.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${U0}\`. Expected non-empty \`string\`.`),m.jsx(H0.Provider,{scope:e,children:m.jsx(qP,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:y.useCallback(()=>u(h=>h+1),[]),onToastRemove:y.useCallback(()=>u(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:f,children:o})})};dC.displayName=U0;var fC="ToastViewport",GP=["F8"],$m="toast.viewportPause",Fm="toast.viewportResume",hC=y.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=GP,label:s="Notifications ({hotkey})",...i}=t,o=Df(fC,n),a=WP(n),l=y.useRef(null),c=y.useRef(null),u=y.useRef(null),d=y.useRef(null),f=_e(e,d,o.onViewportChange),h=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),p=o.toastCount>0;y.useEffect(()=>{const w=v=>{var b;r.length!==0&&r.every(S=>v[S]||v.code===S)&&((b=d.current)==null||b.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[r]),y.useEffect(()=>{const w=l.current,v=d.current;if(p&&w&&v){const x=()=>{if(!o.isClosePausedRef.current){const C=new CustomEvent($m);v.dispatchEvent(C),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const C=new CustomEvent(Fm);v.dispatchEvent(C),o.isClosePausedRef.current=!1}},S=C=>{!w.contains(C.relatedTarget)&&b()},k=()=>{w.contains(document.activeElement)||b()};return w.addEventListener("focusin",x),w.addEventListener("focusout",S),w.addEventListener("pointermove",x),w.addEventListener("pointerleave",k),window.addEventListener("blur",x),window.addEventListener("focus",b),()=>{w.removeEventListener("focusin",x),w.removeEventListener("focusout",S),w.removeEventListener("pointermove",x),w.removeEventListener("pointerleave",k),window.removeEventListener("blur",x),window.removeEventListener("focus",b)}}},[p,o.isClosePausedRef]);const g=y.useCallback(({tabbingDirection:w})=>{const x=a().map(b=>{const S=b.ref.current,k=[S,...aA(S)];return w==="forwards"?k:k.reverse()});return(w==="forwards"?x.reverse():x).flat()},[a]);return y.useEffect(()=>{const w=d.current;if(w){const v=x=>{var k,C,_;const b=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!b){const M=document.activeElement,O=x.shiftKey;if(x.target===w&&O){(k=c.current)==null||k.focus();return}const I=g({tabbingDirection:O?"backwards":"forwards"}),V=I.findIndex(F=>F===M);Qh(I.slice(V+1))?x.preventDefault():O?(C=c.current)==null||C.focus():(_=u.current)==null||_.focus()}};return w.addEventListener("keydown",v),()=>w.removeEventListener("keydown",v)}},[a,g]),m.jsxs($P,{ref:l,role:"region","aria-label":s.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:p?void 0:"none"},children:[p&&m.jsx(zm,{ref:c,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"forwards"});Qh(w)}}),m.jsx(H0.Slot,{scope:n,children:m.jsx(ae.ol,{tabIndex:-1,...i,ref:f})}),p&&m.jsx(zm,{ref:u,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"backwards"});Qh(w)}})]})});hC.displayName=fC;var pC="ToastFocusProxy",zm=y.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Df(pC,n);return m.jsx(V0,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});zm.displayName=pC;var jf="Toast",JP="toast.swipeStart",QP="toast.swipeMove",YP="toast.swipeCancel",XP="toast.swipeEnd",mC=y.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,l]=Qr({prop:r,defaultProp:s,onChange:i});return m.jsx(Pt,{present:n||a,children:m.jsx(tA,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Be(t.onPause),onResume:Be(t.onResume),onSwipeStart:ee(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ee(t.onSwipeMove,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:ee(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ee(t.onSwipeEnd,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),l(!1)})})})});mC.displayName=jf;var[ZP,eA]=uC(jf,{onClose(){}}),tA=y.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:d,onSwipeCancel:f,onSwipeEnd:h,...p}=t,g=Df(jf,n),[w,v]=y.useState(null),x=_e(e,F=>v(F)),b=y.useRef(null),S=y.useRef(null),k=s||g.duration,C=y.useRef(0),_=y.useRef(k),M=y.useRef(0),{onToastAdd:O,onToastRemove:P}=g,L=Be(()=>{var J;(w==null?void 0:w.contains(document.activeElement))&&((J=g.viewport)==null||J.focus()),o()}),I=y.useCallback(F=>{!F||F===1/0||(window.clearTimeout(M.current),C.current=new Date().getTime(),M.current=window.setTimeout(L,F))},[L]);y.useEffect(()=>{const F=g.viewport;if(F){const J=()=>{I(_.current),c==null||c()},U=()=>{const ne=new Date().getTime()-C.current;_.current=_.current-ne,window.clearTimeout(M.current),l==null||l()};return F.addEventListener($m,U),F.addEventListener(Fm,J),()=>{F.removeEventListener($m,U),F.removeEventListener(Fm,J)}}},[g.viewport,k,l,c,I]),y.useEffect(()=>{i&&!g.isClosePausedRef.current&&I(k)},[i,k,g.isClosePausedRef,I]),y.useEffect(()=>(O(),()=>P()),[O,P]);const V=y.useMemo(()=>w?SC(w):null,[w]);return g.viewport?m.jsxs(m.Fragment,{children:[V&&m.jsx(nA,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:V}),m.jsx(ZP,{scope:n,onClose:L,children:Bc.createPortal(m.jsx(H0.ItemSlot,{scope:n,children:m.jsx(LP,{asChild:!0,onEscapeKeyDown:ee(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||L(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:m.jsx(ae.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...p,ref:x,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ee(t.onKeyDown,F=>{F.key==="Escape"&&(a==null||a(F.nativeEvent),F.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,L()))}),onPointerDown:ee(t.onPointerDown,F=>{F.button===0&&(b.current={x:F.clientX,y:F.clientY})}),onPointerMove:ee(t.onPointerMove,F=>{if(!b.current)return;const J=F.clientX-b.current.x,U=F.clientY-b.current.y,ne=!!S.current,R=["left","right"].includes(g.swipeDirection),j=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,W=R?j(0,J):0,te=R?0:j(0,U),pe=F.pointerType==="touch"?10:2,ht={x:W,y:te},Ye={originalEvent:F,delta:ht};ne?(S.current=ht,bu(QP,d,Ye,{discrete:!1})):B1(ht,g.swipeDirection,pe)?(S.current=ht,bu(JP,u,Ye,{discrete:!1}),F.target.setPointerCapture(F.pointerId)):(Math.abs(J)>pe||Math.abs(U)>pe)&&(b.current=null)}),onPointerUp:ee(t.onPointerUp,F=>{const J=S.current,U=F.target;if(U.hasPointerCapture(F.pointerId)&&U.releasePointerCapture(F.pointerId),S.current=null,b.current=null,J){const ne=F.currentTarget,R={originalEvent:F,delta:J};B1(J,g.swipeDirection,g.swipeThreshold)?bu(XP,h,R,{discrete:!0}):bu(YP,f,R,{discrete:!0}),ne.addEventListener("click",j=>j.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),nA=t=>{const{__scopeToast:e,children:n,...r}=t,s=Df(jf,e),[i,o]=y.useState(!1),[a,l]=y.useState(!1);return iA(()=>o(!0)),y.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:m.jsx(If,{asChild:!0,children:m.jsx(V0,{...r,children:i&&m.jsxs(m.Fragment,{children:[s.label," ",n]})})})},rA="ToastTitle",gC=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return m.jsx(ae.div,{...r,ref:e})});gC.displayName=rA;var sA="ToastDescription",yC=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return m.jsx(ae.div,{...r,ref:e})});yC.displayName=sA;var vC="ToastAction",wC=y.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?m.jsx(bC,{altText:n,asChild:!0,children:m.jsx(W0,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${vC}\`. Expected non-empty \`string\`.`),null)});wC.displayName=vC;var xC="ToastClose",W0=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=eA(xC,n);return m.jsx(bC,{asChild:!0,children:m.jsx(ae.button,{type:"button",...r,ref:e,onClick:ee(t.onClick,s.onClose)})})});W0.displayName=xC;var bC=y.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return m.jsx(ae.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function SC(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),oA(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...SC(r))}}),e}function bu(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?B0(s,i):s.dispatchEvent(i)}var B1=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function iA(t=()=>{}){const e=Be(t);pr(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function oA(t){return t.nodeType===t.ELEMENT_NODE}function aA(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Qh(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var lA=dC,kC=hC,CC=mC,EC=gC,_C=yC,TC=wC,NC=W0;function MC(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=MC(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function OC(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=MC(t))&&(r&&(r+=" "),r+=e);return r}const V1=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,U1=OC,Lf=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return U1(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const u=n==null?void 0:n[c],d=i==null?void 0:i[c];if(u===null)return null;const f=V1(u)||V1(d);return s[c][f]}),a=n&&Object.entries(n).reduce((c,u)=>{let[d,f]=u;return f===void 0||(c[d]=f),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:d,className:f,...h}=u;return Object.entries(h).every(p=>{let[g,w]=p;return Array.isArray(w)?w.includes({...i,...a}[g]):{...i,...a}[g]===w})?[...c,d,f]:c},[]);return U1(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cA=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),PC=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var uA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dA=y.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>y.createElement("svg",{ref:l,...uA,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:PC("lucide",s),...a},[...o.map(([c,u])=>y.createElement(c,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=(t,e)=>{const n=y.forwardRef(({className:r,...s},i)=>y.createElement(dA,{ref:i,iconNode:e,className:PC(`lucide-${cA(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fA=Se("Bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hA=Se("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pA=Se("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mA=Se("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AC=Se("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RC=Se("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gA=Se("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yA=Se("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vA=Se("CircleStop",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wA=Se("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xA=Se("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bm=Se("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IC=Se("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bA=Se("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SA=Se("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kA=Se("ListOrdered",[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CA=Se("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DC=Se("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jC=Se("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EA=Se("MessageSquareQuote",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M8 12a2 2 0 0 0 2-2V8H8",key:"1jfesj"}],["path",{d:"M14 12a2 2 0 0 0 2-2V8h-2",key:"1dq9mh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _A=Se("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vm=Se("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=Se("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0=Se("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=Se("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TA=Se("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NA=Se("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MA=Se("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dc=Se("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OA=Se("Underline",[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PA=Se("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fc=Se("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),q0="-",AA=t=>{const e=IA(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(q0);return a[0]===""&&a.length!==1&&a.shift(),$C(a,e)||RA(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},$C=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?$C(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(q0);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},W1=/^\[(.+)\]$/,RA=t=>{if(W1.test(t)){const e=W1.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},IA=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return jA(Object.entries(t.classGroups),n).forEach(([i,o])=>{Um(o,r,i,e)}),r},Um=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:K1(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(DA(s)){Um(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Um(o,K1(e,i),n,r)})})},K1=(t,e)=>{let n=t;return e.split(q0).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},DA=t=>t.isThemeGetter,jA=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,LA=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},FC="!",$A=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let c=0,u=0,d;for(let w=0;w<a.length;w++){let v=a[w];if(c===0){if(v===s&&(r||a.slice(w,w+i)===e)){l.push(a.slice(u,w)),u=w+i;continue}if(v==="/"){d=w;continue}}v==="["?c++:v==="]"&&c--}const f=l.length===0?a:a.substring(u),h=f.startsWith(FC),p=h?f.substring(1):f,g=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:g}};return n?a=>n({className:a,parseClassName:o}):o},FA=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},zA=t=>({cache:LA(t.cacheSize),parseClassName:$A(t),...AA(t)}),BA=/\s+/,VA=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(BA);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:d,baseClassName:f,maybePostfixModifierPosition:h}=n(c);let p=!!h,g=r(p?f.substring(0,h):f);if(!g){if(!p){a=c+(a.length>0?" "+a:a);continue}if(g=r(f),!g){a=c+(a.length>0?" "+a:a);continue}p=!1}const w=FA(u).join(":"),v=d?w+FC:w,x=v+g;if(i.includes(x))continue;i.push(x);const b=s(g,p);for(let S=0;S<b.length;++S){const k=b[S];i.push(v+k)}a=c+(a.length>0?" "+a:a)}return a};function UA(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=zC(e))&&(r&&(r+=" "),r+=n);return r}const zC=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=zC(t[r]))&&(n&&(n+=" "),n+=e);return n};function HA(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((u,d)=>d(u),t());return n=zA(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=VA(l,n);return s(l,u),u}return function(){return i(UA.apply(null,arguments))}}const Oe=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},BC=/^\[(?:([a-z-]+):)?(.+)\]$/i,WA=/^\d+\/\d+$/,KA=new Set(["px","full","screen"]),qA=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,GA=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,JA=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,QA=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,YA=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,kr=t=>Xo(t)||KA.has(t)||WA.test(t),ts=t=>Ha(t,"length",iR),Xo=t=>!!t&&!Number.isNaN(Number(t)),Yh=t=>Ha(t,"number",Xo),ul=t=>!!t&&Number.isInteger(Number(t)),XA=t=>t.endsWith("%")&&Xo(t.slice(0,-1)),ue=t=>BC.test(t),ns=t=>qA.test(t),ZA=new Set(["length","size","percentage"]),eR=t=>Ha(t,ZA,VC),tR=t=>Ha(t,"position",VC),nR=new Set(["image","url"]),rR=t=>Ha(t,nR,aR),sR=t=>Ha(t,"",oR),dl=()=>!0,Ha=(t,e,n)=>{const r=BC.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},iR=t=>GA.test(t)&&!JA.test(t),VC=()=>!1,oR=t=>QA.test(t),aR=t=>YA.test(t),lR=()=>{const t=Oe("colors"),e=Oe("spacing"),n=Oe("blur"),r=Oe("brightness"),s=Oe("borderColor"),i=Oe("borderRadius"),o=Oe("borderSpacing"),a=Oe("borderWidth"),l=Oe("contrast"),c=Oe("grayscale"),u=Oe("hueRotate"),d=Oe("invert"),f=Oe("gap"),h=Oe("gradientColorStops"),p=Oe("gradientColorStopPositions"),g=Oe("inset"),w=Oe("margin"),v=Oe("opacity"),x=Oe("padding"),b=Oe("saturate"),S=Oe("scale"),k=Oe("sepia"),C=Oe("skew"),_=Oe("space"),M=Oe("translate"),O=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto",ue,e],I=()=>[ue,e],V=()=>["",kr,ts],F=()=>["auto",Xo,ue],J=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],ne=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],R=()=>["start","end","center","between","around","evenly","stretch"],j=()=>["","0",ue],W=()=>["auto","avoid","all","avoid-page","page","left","right","column"],te=()=>[Xo,ue];return{cacheSize:500,separator:":",theme:{colors:[dl],spacing:[kr,ts],blur:["none","",ns,ue],brightness:te(),borderColor:[t],borderRadius:["none","","full",ns,ue],borderSpacing:I(),borderWidth:V(),contrast:te(),grayscale:j(),hueRotate:te(),invert:j(),gap:I(),gradientColorStops:[t],gradientColorStopPositions:[XA,ts],inset:L(),margin:L(),opacity:te(),padding:I(),saturate:te(),scale:te(),sepia:j(),skew:te(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",ue]}],container:["container"],columns:[{columns:[ns]}],"break-after":[{"break-after":W()}],"break-before":[{"break-before":W()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...J(),ue]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ul,ue]}],basis:[{basis:L()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ue]}],grow:[{grow:j()}],shrink:[{shrink:j()}],order:[{order:["first","last","none",ul,ue]}],"grid-cols":[{"grid-cols":[dl]}],"col-start-end":[{col:["auto",{span:["full",ul,ue]},ue]}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":[dl]}],"row-start-end":[{row:["auto",{span:[ul,ue]},ue]}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ue]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...R()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...R(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...R(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ue,e]}],"min-w":[{"min-w":[ue,e,"min","max","fit"]}],"max-w":[{"max-w":[ue,e,"none","full","min","max","fit","prose",{screen:[ns]},ns]}],h:[{h:[ue,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ue,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ue,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ue,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ns,ts]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Yh]}],"font-family":[{font:[dl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ue]}],"line-clamp":[{"line-clamp":["none",Xo,Yh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",kr,ue]}],"list-image":[{"list-image":["none",ue]}],"list-style-type":[{list:["none","disc","decimal",ue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",kr,ts]}],"underline-offset":[{"underline-offset":["auto",kr,ue]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...J(),tR]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",eR]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},rR]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:U()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[kr,ue]}],"outline-w":[{outline:[kr,ts]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[kr,ts]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ns,sR]}],"shadow-color":[{shadow:[dl]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...ne(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ne()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ns,ue]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[b]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ue]}],duration:[{duration:te()}],ease:[{ease:["linear","in","out","in-out",ue]}],delay:[{delay:te()}],animate:[{animate:["none","spin","ping","pulse","bounce",ue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[ul,ue]}],"translate-x":[{"translate-x":[M]}],"translate-y":[{"translate-y":[M]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ue]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ue]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ue]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[kr,ts,Yh]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},cR=HA(lR);function ce(...t){return cR(OC(t))}const uR=lA,UC=y.forwardRef(({className:t,...e},n)=>m.jsx(kC,{ref:n,className:ce("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));UC.displayName=kC.displayName;const dR=Lf("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),HC=y.forwardRef(({className:t,variant:e,...n},r)=>m.jsx(CC,{ref:r,className:ce(dR({variant:e}),t),...n}));HC.displayName=CC.displayName;const fR=y.forwardRef(({className:t,...e},n)=>m.jsx(TC,{ref:n,className:ce("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));fR.displayName=TC.displayName;const WC=y.forwardRef(({className:t,...e},n)=>m.jsx(NC,{ref:n,className:ce("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:m.jsx(fc,{className:"h-4 w-4"})}));WC.displayName=NC.displayName;const KC=y.forwardRef(({className:t,...e},n)=>m.jsx(EC,{ref:n,className:ce("text-sm font-semibold",t),...e}));KC.displayName=EC.displayName;const qC=y.forwardRef(({className:t,...e},n)=>m.jsx(_C,{ref:n,className:ce("text-sm opacity-90",t),...e}));qC.displayName=_C.displayName;function hR(){const{toasts:t}=co();return m.jsxs(uR,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return m.jsxs(HC,{...i,children:[m.jsxs("div",{className:"grid gap-1",children:[n&&m.jsx(KC,{children:n}),r&&m.jsx(qC,{children:r})]}),s,m.jsx(WC,{})]},e)}),m.jsx(UC,{})]})}const pR="modulepreload",mR=function(t){return"/"+t},q1={},Ta=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=mR(l),l in q1)return;q1[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":pR,c||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((f,h)=>{d.addEventListener("load",f),d.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},gR=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ta(async()=>{const{default:r}=await Promise.resolve().then(()=>Wa);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class G0 extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class yR extends G0{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class vR extends G0{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class wR extends G0{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Hm;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Hm||(Hm={}));var xR=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class bR{constructor(e,{headers:n={},customFetch:r,region:s=Hm.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=gR(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return xR(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:c}).catch(p=>{throw new yR(p)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new vR(u);if(!u.ok)throw new wR(u);let f=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),h;return f==="application/json"?h=yield u.json():f==="application/octet-stream"?h=yield u.blob():f==="text/event-stream"?h=u:f==="multipart/form-data"?h=yield u.formData():h=yield u.text(),{data:h,error:null}}catch(s){return{data:null,error:s}}})}}var Yt={},J0={},$f={},Hc={},Ff={},zf={},SR=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Na=SR();const kR=Na.fetch,GC=Na.fetch.bind(Na),JC=Na.Headers,CR=Na.Request,ER=Na.Response,Wa=Object.freeze(Object.defineProperty({__proto__:null,Headers:JC,Request:CR,Response:ER,default:GC,fetch:kR},Symbol.toStringTag,{value:"Module"})),_R=XN(Wa);var Bf={};Object.defineProperty(Bf,"__esModule",{value:!0});class TR extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}Bf.default=TR;var QC=Nn&&Nn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(zf,"__esModule",{value:!0});const NR=QC(_R),MR=QC(Bf);let OR=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=NR.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let c=null,u=null,d=null,f=i.status,h=i.statusText;if(i.ok){if(this.method!=="HEAD"){const v=await i.text();v===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=v:u=JSON.parse(v))}const g=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),w=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");g&&w&&w.length>1&&(d=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,f=406,h="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const g=await i.text();try{c=JSON.parse(g),Array.isArray(c)&&i.status===404&&(u=[],c=null,f=200,h="OK")}catch{i.status===404&&g===""?(f=204,h="No Content"):c={message:g}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,f=200,h="OK"),c&&this.shouldThrowOnError)throw new MR.default(c)}return{error:c,data:u,count:d,status:f,statusText:h}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}};zf.default=OR;var PR=Nn&&Nn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ff,"__esModule",{value:!0});const AR=PR(zf);let RR=class extends AR.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Ff.default=RR;var IR=Nn&&Nn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Hc,"__esModule",{value:!0});const DR=IR(Ff);let jR=class extends DR.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};Hc.default=jR;var LR=Nn&&Nn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty($f,"__esModule",{value:!0});const fl=LR(Hc);let $R=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=n,this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new fl.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new fl.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new fl.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new fl.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new fl.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};$f.default=$R;var Vf={},Uf={};Object.defineProperty(Uf,"__esModule",{value:!0});Uf.version=void 0;Uf.version="0.0.0-automated";Object.defineProperty(Vf,"__esModule",{value:!0});Vf.DEFAULT_HEADERS=void 0;const FR=Uf;Vf.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${FR.version}`};var YC=Nn&&Nn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(J0,"__esModule",{value:!0});const zR=YC($f),BR=YC(Hc),VR=Vf;let UR=class XC{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},VR.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new zR.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new XC(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([u,d])=>d!==void 0).map(([u,d])=>[u,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([u,d])=>{a.searchParams.append(u,d)})):(o="POST",l=n);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new BR.default({method:o,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};J0.default=UR;var Ka=Nn&&Nn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Yt,"__esModule",{value:!0});Yt.PostgrestError=Yt.PostgrestBuilder=Yt.PostgrestTransformBuilder=Yt.PostgrestFilterBuilder=Yt.PostgrestQueryBuilder=Yt.PostgrestClient=void 0;const ZC=Ka(J0);Yt.PostgrestClient=ZC.default;const e2=Ka($f);Yt.PostgrestQueryBuilder=e2.default;const t2=Ka(Hc);Yt.PostgrestFilterBuilder=t2.default;const n2=Ka(Ff);Yt.PostgrestTransformBuilder=n2.default;const r2=Ka(zf);Yt.PostgrestBuilder=r2.default;const s2=Ka(Bf);Yt.PostgrestError=s2.default;var HR=Yt.default={PostgrestClient:ZC.default,PostgrestQueryBuilder:e2.default,PostgrestFilterBuilder:t2.default,PostgrestTransformBuilder:n2.default,PostgrestBuilder:r2.default,PostgrestError:s2.default};const{PostgrestClient:WR,PostgrestQueryBuilder:oW,PostgrestFilterBuilder:aW,PostgrestTransformBuilder:lW,PostgrestBuilder:cW}=HR,KR="2.11.2",qR={"X-Client-Info":`realtime-js/${KR}`},GR="1.0.0",i2=1e4,JR=1e3;var Zo;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Zo||(Zo={}));var sn;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(sn||(sn={}));var Fn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Fn||(Fn={}));var Wm;(function(t){t.websocket="websocket"})(Wm||(Wm={}));var yi;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(yi||(yi={}));class QR{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+s));o=o+s;const l=r.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class o2{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ne;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Ne||(Ne={}));const G1=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=YR(o,t,e,s),i),{})},YR=(t,e,n,r)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?a2(i,o):Km(o)},a2=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return t5(e,n)}switch(t){case Ne.bool:return XR(e);case Ne.float4:case Ne.float8:case Ne.int2:case Ne.int4:case Ne.int8:case Ne.numeric:case Ne.oid:return ZR(e);case Ne.json:case Ne.jsonb:return e5(e);case Ne.timestamp:return n5(e);case Ne.abstime:case Ne.date:case Ne.daterange:case Ne.int4range:case Ne.int8range:case Ne.money:case Ne.reltime:case Ne.text:case Ne.time:case Ne.timestamptz:case Ne.timetz:case Ne.tsrange:case Ne.tstzrange:return Km(e);default:return Km(e)}},Km=t=>t,XR=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},ZR=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},e5=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},t5=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>a2(e,a))}return t},n5=t=>typeof t=="string"?t.replace(" ","T"):t,l2=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Xh{constructor(e,n,r={},s=i2){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var J1;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(J1||(J1={}));class Fl{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Fl.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Fl.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Fl.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(i,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const d=i[c];if(d){const f=u.map(w=>w.presence_ref),h=d.map(w=>w.presence_ref),p=u.filter(w=>h.indexOf(w.presence_ref)<0),g=d.filter(w=>f.indexOf(w.presence_ref)<0);p.length>0&&(a[c]=p),g.length>0&&(l[c]=g)}else a[c]=u}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const d=e[a].map(h=>h.presence_ref),f=u.filter(h=>d.indexOf(h.presence_ref)<0);e[a].unshift(...f)}r(a,u,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),e[a]=c,s(a,c,l),c.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Q1;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Q1||(Q1={}));var Y1;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Y1||(Y1={}));var Nr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Nr||(Nr={}));class Q0{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=sn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Xh(this,Fn.join,this.params,this.timeout),this.rejoinTimer=new o2(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=sn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=sn.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=sn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=sn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Fn.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Fl(this),this.broadcastEndpointURL=l2(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(u=>e==null?void 0:e(Nr.CHANNEL_ERROR,u)),this._onClose(()=>e==null?void 0:e(Nr.CLOSED));const l={},c={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:u})=>{var d;if(this.socket.setAuth(),u===void 0){e==null||e(Nr.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,h=(d=f==null?void 0:f.length)!==null&&d!==void 0?d:0,p=[];for(let g=0;g<h;g++){const w=f[g],{filter:{event:v,schema:x,table:b,filter:S}}=w,k=u&&u[g];if(k&&k.event===v&&k.schema===x&&k.table===b&&k.filter===S)p.push(Object.assign(Object.assign({},w),{id:k.id}));else{this.unsubscribe(),e==null||e(Nr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,e&&e(Nr.SUBSCRIBED);return}}).receive("error",u=>{e==null||e(Nr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Nr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=sn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Fn.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new Xh(this,Fn.leave,{},e);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Xh(this,e,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=Fn;if(r&&[a,l,c,u].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(h=>{var p,g,w;return((p=h.filter)===null||p===void 0?void 0:p.event)==="*"||((w=(g=h.filter)===null||g===void 0?void 0:g.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(h=>h.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(h=>{var p,g,w,v,x,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in h){const S=h.id,k=(p=h.filter)===null||p===void 0?void 0:p.event;return S&&((g=n.ids)===null||g===void 0?void 0:g.includes(S))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((w=n.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const S=(x=(v=h==null?void 0:h.filter)===null||v===void 0?void 0:v.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return S==="*"||S===((b=n==null?void 0:n.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===o}).map(h=>{if(typeof f=="object"&&"ids"in f){const p=f.data,{schema:g,table:w,commit_timestamp:v,type:x,errors:b}=p;f=Object.assign(Object.assign({},{schema:g,table:w,commit_timestamp:v,eventType:x,new:{},old:{},errors:b}),this._getPayloadRecords(p))}h.callback(f,r)})}_isClosed(){return this.state===sn.closed}_isJoined(){return this.state===sn.joined}_isJoining(){return this.state===sn.joining}_isLeaving(){return this.state===sn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Q0.isEqual(s.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Fn.close,{},e)}_onError(e){this._on(Fn.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=sn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=G1(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=G1(e.columns,e.old_record)),n}}const r5=()=>{},s5=typeof WebSocket<"u",i5=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class o5{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=qR,this.params={},this.timeout=i2,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=r5,this.conn=null,this.sendBuffer=[],this.serializer=new QR,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>Ta(async()=>{const{default:l}=await Promise.resolve().then(()=>Wa);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${Wm.websocket}`,this.httpEndpoint=l2(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new o2(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(s5){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new a5(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Ta(async()=>{const{default:e}=await import("./browser-DaQn7NVk.js").then(n=>n.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:GR}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Zo.connecting:return yi.Connecting;case Zo.open:return yi.Open;case Zo.closing:return yi.Closing;default:return yi.Closed}}isConnected(){return this.connectionState()===yi.Open}channel(e,n={config:{}}){const r=new Q0(`realtime:${e}`,n,this);return this.channels.push(r),r}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(s=>{n&&s.updateJoinPayload({access_token:n}),s.joinedOnce&&s._isJoined()&&s._push(Fn.access_token,{access_token:n})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(JR,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Fn.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([i5],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class a5{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Zo.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class Y0 extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ot(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class l5 extends Y0{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class qm extends Y0{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var c5=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const c2=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ta(async()=>{const{default:r}=await Promise.resolve().then(()=>Wa);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},u5=()=>c5(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ta(()=>Promise.resolve().then(()=>Wa),void 0)).Response:Response}),Gm=t=>{if(Array.isArray(t))return t.map(n=>Gm(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Gm(r)}),e};var uo=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const Zh=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),d5=(t,e,n)=>uo(void 0,void 0,void 0,function*(){const r=yield u5();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{e(new l5(Zh(s),t.status||500))}).catch(s=>{e(new qm(Zh(s),s))}):e(new qm(Zh(t),t))}),f5=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function Wc(t,e,n,r,s,i){return uo(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,f5(e,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>d5(l,a,r))})})}function jd(t,e,n,r){return uo(this,void 0,void 0,function*(){return Wc(t,"GET",e,n,r)})}function ds(t,e,n,r,s){return uo(this,void 0,void 0,function*(){return Wc(t,"POST",e,r,s,n)})}function h5(t,e,n,r,s){return uo(this,void 0,void 0,function*(){return Wc(t,"PUT",e,r,s,n)})}function p5(t,e,n,r){return uo(this,void 0,void 0,function*(){return Wc(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function u2(t,e,n,r,s){return uo(this,void 0,void 0,function*(){return Wc(t,"DELETE",e,r,s,n)})}var Kt=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const m5={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},X1={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class g5{constructor(e,n={},r,s){this.url=e,this.headers=n,this.bucketId=r,this.fetch=c2(s)}uploadOrUpdate(e,n,r,s){return Kt(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},X1),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(n),u=this._getFinalPath(c),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield d.json();return d.ok?{data:{path:c,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(ot(i))return{data:null,error:i};throw i}})}upload(e,n,r){return Kt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return Kt(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:X1.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),f=yield d.json();return d.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(ot(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return Kt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield ds(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Y0("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(ot(r))return{data:null,error:r};throw r}})}update(e,n,r){return Kt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Kt(this,void 0,void 0,function*(){try{return{data:yield ds(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(ot(s))return{data:null,error:s};throw s}})}copy(e,n,r){return Kt(this,void 0,void 0,function*(){try{return{data:{path:(yield ds(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(ot(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return Kt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield ds(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(ot(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return Kt(this,void 0,void 0,function*(){try{const s=yield ds(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(ot(s))return{data:null,error:s};throw s}})}download(e,n){return Kt(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield jd(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(ot(a))return{data:null,error:a};throw a}})}info(e){return Kt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield jd(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Gm(r),error:null}}catch(r){if(ot(r))return{data:null,error:r};throw r}})}exists(e){return Kt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield p5(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(ot(r)&&r instanceof qm){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(e){return Kt(this,void 0,void 0,function*(){try{return{data:yield u2(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(ot(n))return{data:null,error:n};throw n}})}list(e,n,r){return Kt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},m5),n),{prefix:e||""});return{data:yield ds(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(ot(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const y5="2.7.1",v5={"X-Client-Info":`storage-js/${y5}`};var vo=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class w5{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},v5),n),this.fetch=c2(r)}listBuckets(){return vo(this,void 0,void 0,function*(){try{return{data:yield jd(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(ot(e))return{data:null,error:e};throw e}})}getBucket(e){return vo(this,void 0,void 0,function*(){try{return{data:yield jd(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(ot(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return vo(this,void 0,void 0,function*(){try{return{data:yield ds(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ot(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return vo(this,void 0,void 0,function*(){try{return{data:yield h5(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ot(r))return{data:null,error:r};throw r}})}emptyBucket(e){return vo(this,void 0,void 0,function*(){try{return{data:yield ds(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(ot(n))return{data:null,error:n};throw n}})}deleteBucket(e){return vo(this,void 0,void 0,function*(){try{return{data:yield u2(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(ot(n))return{data:null,error:n};throw n}})}}class x5 extends w5{constructor(e,n={},r){super(e,n,r)}from(e){return new g5(this.url,this.headers,e,this.fetch)}}const b5="2.47.3";let Sl="";typeof Deno<"u"?Sl="deno":typeof document<"u"?Sl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Sl="react-native":Sl="node";const S5={"X-Client-Info":`supabase-js-${Sl}/${b5}`},k5={headers:S5},C5={schema:"public"},E5={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},_5={};var T5=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const N5=t=>{let e;return t?e=t:typeof fetch>"u"?e=GC:e=fetch,(...n)=>e(...n)},M5=()=>typeof Headers>"u"?JC:Headers,O5=(t,e,n)=>{const r=N5(n),s=M5();return(i,o)=>T5(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:c}))})};var P5=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};function A5(t){return t.replace(/\/$/,"")}function R5(t,e){const{db:n,auth:r,realtime:s,global:i}=t,{db:o,auth:a,realtime:l,global:c}=e,u={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),s),global:Object.assign(Object.assign({},c),i),accessToken:()=>P5(this,void 0,void 0,function*(){return""})};return t.accessToken?u.accessToken=t.accessToken:delete u.accessToken,u}const d2="2.66.1",I5="http://localhost:9999",D5="supabase.auth.token",j5={"X-Client-Info":`gotrue-js/${d2}`},Z1=10,Jm="X-Supabase-Api-Version",f2={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function L5(t){return Math.round(Date.now()/1e3)+t}function $5(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const In=()=>typeof document<"u",hi={tested:!1,writable:!1},zl=()=>{if(!In())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(hi.tested)return hi.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),hi.tested=!0,hi.writable=!0}catch{hi.tested=!0,hi.writable=!1}return hi.writable};function ep(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const h2=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ta(async()=>{const{default:r}=await Promise.resolve().then(()=>Wa);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},F5=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",p2=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Su=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ku=async(t,e)=>{await t.removeItem(e)};function z5(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,s,i,o,a,l,c,u=0;for(t=t.replace("-","+").replace("_","/");u<t.length;)o=e.indexOf(t.charAt(u++)),a=e.indexOf(t.charAt(u++)),l=e.indexOf(t.charAt(u++)),c=e.indexOf(t.charAt(u++)),r=o<<2|a>>4,s=(a&15)<<4|l>>2,i=(l&3)<<6|c,n=n+String.fromCharCode(r),l!=64&&s!=0&&(n=n+String.fromCharCode(s)),c!=64&&i!=0&&(n=n+String.fromCharCode(i));return n}class Hf{constructor(){this.promise=new Hf.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Hf.promiseConstructor=Promise;function ew(t){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=t.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(z5(r))}async function B5(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function V5(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function U5(t){return("0"+t.toString(16)).substr(-2)}function H5(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,U5).join("")}async function W5(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}function K5(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function q5(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await W5(t);return K5(n)}async function wo(t,e,n=!1){const r=H5();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await p2(t,`${e}-code-verifier`,s);const i=await q5(r);return[i,r===i?"plain":"s256"]}const G5=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function J5(t){const e=t.headers.get(Jm);if(!e||!e.match(G5))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class X0 extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function he(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Q5 extends X0{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Y5(t){return he(t)&&t.name==="AuthApiError"}class m2 extends X0{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class fo extends X0{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class rs extends fo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function X5(t){return he(t)&&t.name==="AuthSessionMissingError"}class tp extends fo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Cu extends fo{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Eu extends fo{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Z5(t){return he(t)&&t.name==="AuthImplicitGrantRedirectError"}class tw extends fo{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Qm extends fo{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function np(t){return he(t)&&t.name==="AuthRetryableFetchError"}class nw extends fo{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}var eI=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const gi=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),tI=[502,503,504];async function rw(t){var e;if(!F5(t))throw new Qm(gi(t),0);if(tI.includes(t.status))throw new Qm(gi(t),t.status);let n;try{n=await t.json()}catch(i){throw new m2(gi(i),i)}let r;const s=J5(t);if(s&&s.getTime()>=f2["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new nw(gi(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new rs}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new nw(gi(n),t.status,n.weak_password.reasons);throw new Q5(gi(n),t.status||500,r)}const nI=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function xe(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[Jm]||(i[Jm]=f2["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await rI(t,e,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function rI(t,e,n,r,s,i){const o=nI(e,r,s,i);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new Qm(gi(l),0)}if(a.ok||await rw(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await rw(l)}}function ss(t){var e;let n=null;aI(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=L5(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function sw(t){const e=ss(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function gs(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function sI(t){return{data:t,error:null}}function iI(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=eI(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function oI(t){return t}function aI(t){return t.access_token&&t.refresh_token&&t.expires_in}var lI=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class cI{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=h2(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n="global"){try{return await xe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(he(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await xe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:gs})}catch(r){if(he(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=lI(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await xe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:iI,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(he(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await xe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:gs})}catch(n){if(he(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await xe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:oI});if(u.error)throw u.error;const d=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,h=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(p=>{const g=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(p.split(";")[1].split("=")[1]);c[`${w}Page`]=g}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(he(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await xe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:gs})}catch(n){if(he(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){try{return await xe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:gs})}catch(r){if(he(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){try{return await xe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:gs})}catch(r){if(he(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:n,error:r}=await xe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(he(n))return{data:null,error:n};throw n}}async _deleteFactor(e){try{return{data:await xe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(he(n))return{data:null,error:n};throw n}}}const uI={getItem:t=>zl()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{zl()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{zl()&&globalThis.localStorage.removeItem(t)}};function iw(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function dI(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const xo={debug:!!(globalThis&&zl()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class g2 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class fI extends g2{}async function hI(t,e,n){xo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),xo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){xo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{xo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw xo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new fI(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(xo.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}})}dI();const pI={url:I5,storageKey:D5,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:j5,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},hl=30*1e3,ow=3;async function aw(t,e,n){return await n()}class hc{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=hc.nextInstanceID,hc.nextInstanceID+=1,this.instanceID>0&&In()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},pI),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new cI({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=h2(s.fetch),this.lock=s.lock||aw,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:In()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=hI:this.lock=aw,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:zl()?this.storage=uI:(this.memoryStorage={},this.storage=iw(this.memoryStorage)):(this.memoryStorage={},this.storage=iw(this.memoryStorage)),In()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${d2}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=In()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",n),n||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:r,error:s}=await this._getSessionFromURL(n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),Z5(s)){const a=(e=s.details)===null||e===void 0?void 0:e.code;if(a==="identity_already_exists"||a==="identity_not_found"||a==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:i,redirectType:o}=r;return this._debug("#_initialize()","detected session in URL",i,"redirect type",o),await this._saveSession(i),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return he(n)?{error:n}:{error:new m2("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:ss}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(he(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:u,password:d,options:f}=e;let h=null,p=null;this.flowType==="pkce"&&([h,p]=await wo(this.storage,this.storageKey)),i=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:h,code_challenge_method:p},xform:ss})}else if("phone"in e){const{phone:u,password:d,options:f}=e;i=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:ss})}else throw new Cu("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(he(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:a}=e;n=await xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:sw})}else if("phone"in e){const{phone:i,password:o,options:a}=e;n=await xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:sw})}else throw new Cu("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new tp}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(he(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const n=await Su(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await xe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:ss});if(await ku(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new tp}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(he(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,a=await xe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:ss}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new tp}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(he(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await wo(this.storage,this.storageKey));const{error:d}=await xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new Cu("You must provide either an email or phone number.")}catch(a){if(he(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await xe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:ss});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(he(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await wo(this.storage,this.storageKey)),await xe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:sI})}catch(i){if(he(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new rs;const{error:s}=await xe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(he(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await xe(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:a}=await xe(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Cu("You must provide either an email or phone number and a type")}catch(n){if(he(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Su(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:gs}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new rs}:await xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:gs})})}catch(n){if(he(n))return X5(n)&&(await this._removeSession(),await ku(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new rs;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await wo(this.storage,this.storageKey));const{data:c,error:u}=await xe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:gs});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(he(r))return{data:{user:null},error:r};throw r}}_decodeJWT(e){return ew(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new rs;const n=Date.now()/1e3;let r=n,s=!0,i=null;const o=ew(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(he(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new rs;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(he(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e){try{if(!In())throw new Eu("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new Eu("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!e)throw new tw("Not a valid PKCE flow url.");const n=ep(window.location.href);if(e){if(!n.code)throw new tw("No code detected.");const{data:x,error:b}=await this._exchangeCodeForSession(n.code);if(b)throw b;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:x.session,redirectType:null},error:null}}if(n.error||n.error_description||n.error_code)throw new Eu(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=n;if(!i||!a||!o||!c)throw new Eu("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(a);let f=u+d;l&&(f=parseInt(l));const h=f-u;h*1e3<=hl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${d}s`);const p=f-d;u-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,f,u):u-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,f,u);const{data:g,error:w}=await this._getUser(i);if(w)throw w;const v={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:f,refresh_token:o,token_type:c,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:n.type},error:null}}catch(n){if(he(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantFlow(){const e=ep(window.location.href);return!!(In()&&(e.access_token||e.error_description))}async _isPKCEFlow(){const e=ep(window.location.href),n=await Su(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Y5(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await ku(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=$5(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await wo(this.storage,this.storageKey,!0));try{return await xe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(he(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(he(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,c,u;const{data:d,error:f}=i;if(f)throw f;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await xe(this.fetch,"GET",h,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return In()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(he(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await xe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(he(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await V5(async s=>(s>0&&await B5(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await xe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ss})),(s,i)=>{const o=200*Math.pow(2,s);return i&&np(i)&&Date.now()+o-r<hl})}catch(r){if(this._debug(n,"error",r),he(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),In()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Su(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=Math.round(Date.now()/1e3),i=((e=r.expires_at)!==null&&e!==void 0?e:1/0)<s+Z1;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Z1}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),np(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new rs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Hf;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new rs;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),he(i)){const o={session:null,error:i};return np(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await p2(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await ku(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&In()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),hl);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/hl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${hl}ms, refresh threshold is ${ow} ticks`),s<=ow&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof g2)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!In()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await wo(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await xe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(he(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await xe(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(he(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await xe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(he(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await xe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(he(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}}hc.nextInstanceID=0;const mI=hc;class gI extends mI{constructor(e){super(e)}}var yI=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class vI{constructor(e,n,r){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=A5(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:C5,realtime:_5,auth:Object.assign(Object.assign({},E5),{storageKey:l}),global:k5},u=R5(r??{},c);this.storageKey=(s=u.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=O5(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new WR(`${a}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new bR(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new x5(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return yI(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:a,debug:l},c,u){var d;const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new gI({url:this.authUrl,headers:Object.assign(Object.assign({},f),c),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:(d="Authorization"in this.headers)!==null&&d!==void 0?d:!1})}_initRealtimeClient(e){return new o5(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const wI=(t,e,n)=>new vI(t,e,n),xI="https://shjwvwhijgehquuteekv.supabase.co",bI="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNoand2d2hpamdlaHF1dXRlZWt2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzM3NzUwMTUsImV4cCI6MjA0OTM1MTAxNX0.LPqNr6-y38ZsjD9FrBwysFd9G0J417xNd67h5OPGeXE",ye=wI(xI,bI),y2=y.createContext({session:null,user:null,loading:!0}),qa=()=>y.useContext(y2);function SI({children:t}){const[e,n]=y.useState(null),[r,s]=y.useState(!0);return y.useEffect(()=>{ye.auth.getSession().then(({data:{session:o}})=>{console.log("Initial session:",o),n(o),s(!1)});const{data:{subscription:i}}=ye.auth.onAuthStateChange((o,a)=>{console.log("Auth state changed:",a),n(a),s(!1)});return()=>i.unsubscribe()},[]),m.jsx(y2.Provider,{value:{session:e,user:(e==null?void 0:e.user)??null,loading:r},children:t})}const Ge=y.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:ce("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Ge.displayName="Card";const ki=y.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:ce("flex flex-col space-y-1.5 p-6",t),...e}));ki.displayName="CardHeader";const Ci=y.forwardRef(({className:t,...e},n)=>m.jsx("h3",{ref:n,className:ce("text-2xl font-semibold leading-none tracking-tight",t),...e}));Ci.displayName="CardTitle";const v2=y.forwardRef(({className:t,...e},n)=>m.jsx("p",{ref:n,className:ce("text-sm text-muted-foreground",t),...e}));v2.displayName="CardDescription";const Ps=y.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:ce("p-6 pt-0",t),...e}));Ps.displayName="CardContent";const w2=y.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:ce("flex items-center p-6 pt-0",t),...e}));w2.displayName="CardFooter";Array(12).fill(0);E.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},E.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"}));E.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},E.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"}));E.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},E.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"}));E.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},E.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"}));var Ym=1,kI=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:Ym++,i=this.toasts.find(a=>a.id===s),o=t.dismissible===void 0?!0:t.dismissible;return i?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...t,id:s,title:n}),{...a,...t,id:s,dismissible:o,title:n}):a):this.addToast({title:n,...r,dismissible:o,id:s}),s},this.dismiss=t=>(t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),s=n!==void 0;return r.then(async i=>{if(EI(i)&&!i.ok){s=!1;let o=typeof e.error=="function"?await e.error(`HTTP error! status: ${i.status}`):e.error,a=typeof e.description=="function"?await e.description(`HTTP error! status: ${i.status}`):e.description;this.create({id:n,type:"error",message:o,description:a})}else if(e.success!==void 0){s=!1;let o=typeof e.success=="function"?await e.success(i):e.success,a=typeof e.description=="function"?await e.description(i):e.description;this.create({id:n,type:"success",message:o,description:a})}}).catch(async i=>{if(e.error!==void 0){s=!1;let o=typeof e.error=="function"?await e.error(i):e.error,a=typeof e.description=="function"?await e.description(i):e.description;this.create({id:n,type:"error",message:o,description:a})}}).finally(()=>{var i;s&&(this.dismiss(n),n=void 0),(i=e.finally)==null||i.call(e)}),n},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||Ym++;return this.create({jsx:t(n),id:n,...e}),n},this.subscribers=[],this.toasts=[]}},Dn=new kI,CI=(t,e)=>{let n=(e==null?void 0:e.id)||Ym++;return Dn.addToast({title:t,...e,id:n}),n},EI=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",_I=CI,TI=()=>Dn.toasts,Ke=Object.assign(_I,{success:Dn.success,info:Dn.info,warning:Dn.warning,error:Dn.error,custom:Dn.custom,message:Dn.message,promise:Dn.promise,dismiss:Dn.dismiss,loading:Dn.loading},{getHistory:TI});function NI(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}NI(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);const MI=({time:t,timerState:e,formatTime:n})=>{const r=()=>{switch(e){case"STUDYING":return"bg-[#E8F5E9]";case"BREAK":return"bg-[#FFF8E1]";default:return"bg-[#F5F5F5]"}};return m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("h2",{className:"text-3xl font-bold mb-6",children:"מעקב זמן למידה"}),m.jsx("div",{className:`${r()} rounded-2xl p-8 transition-colors duration-300`,children:m.jsx("div",{className:"text-6xl font-bold tracking-wider font-mono",dir:"ltr",children:n(t)})})]})},OI=Lf("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),oe=y.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?Yi:"button";return m.jsx(o,{className:ce(OI({variant:e,size:n,className:t})),ref:i,...s})});oe.displayName="Button";const PI=({timerState:t,onStartStudy:e,onStartBreak:n,onStop:r})=>m.jsxs("div",{className:"flex justify-center gap-4 mb-8",children:[m.jsxs(oe,{onClick:e,disabled:t==="STUDYING",variant:"outline",className:"flex-1 max-w-[200px] bg-white hover:bg-gray-50 border-gray-300",children:[m.jsx(LC,{className:"ml-2 h-4 w-4"}),"למידה"]}),m.jsxs(oe,{onClick:n,disabled:t==="BREAK",variant:"outline",className:"flex-1 max-w-[200px] bg-gray-400 hover:bg-gray-500 text-white border-0",children:[m.jsx(_A,{className:"ml-2 h-4 w-4"}),"הפסקה"]}),m.jsxs(oe,{onClick:r,disabled:t==="STOPPED",className:"flex-1 max-w-[200px] bg-red-500 hover:bg-red-600 text-white border-0",children:[m.jsx(vA,{className:"ml-2 h-4 w-4"}),"עצור"]})]}),x2=t=>{const e=Math.floor(t/36e5),n=Math.floor(t%36e5/6e4),r=Math.floor(t%6e4/1e3);return`${e.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`},AI=({sessions:t,onCalculateSummary:e,onSessionsUpdate:n})=>{const r=a=>new Date(a).toLocaleString("he-IL",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),s=async a=>{try{const{error:l}=await ye.from("timer_sessions").delete().eq("id",a);if(l)throw l;Ke.success("הטיימר נמחק בהצלחה"),n()}catch(l){console.error("Error deleting session:",l),Ke.error("שגיאה במחיקת הטיימר")}},i=async a=>{try{const l=new Date(a);l.setHours(0,0,0,0);const c=new Date(a);c.setHours(23,59,59,999);const{error:u}=await ye.from("timer_sessions").delete().gte("started_at",l.toISOString()).lte("started_at",c.toISOString());if(u)throw u;Ke.success("כל הטיימרים של היום נמחקו בהצלחה"),n()}catch(l){console.error("Error deleting sessions:",l),Ke.error("שגיאה במחיקת הטיימרים")}},o=t.reduce((a,l)=>{const c=new Date(l.started_at).toLocaleDateString("he-IL");return a[c]||(a[c]=[]),a[c].push(l),a},{});return m.jsxs("div",{className:"space-y-4",children:[m.jsx("div",{className:"space-y-4 max-h-[300px] overflow-y-auto",children:Object.entries(o).map(([a,l])=>m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h3",{className:"font-semibold",children:a}),m.jsxs(oe,{variant:"ghost",size:"sm",className:"text-red-500 hover:text-red-700",onClick:()=>i(new Date(l[0].started_at).toISOString()),children:[m.jsx(dc,{className:"h-4 w-4 mr-1"}),"מחק את כל הטיימרים של היום"]})]}),l.map(c=>m.jsxs("div",{className:`flex justify-between items-center p-3 rounded-lg ${c.type==="study"?"bg-green-50":"bg-yellow-50"}`,children:[m.jsxs("div",{className:"flex items-center gap-2",children:[c.type==="study"?m.jsx(pA,{className:"h-4 w-4 text-green-600"}):m.jsx(xA,{className:"h-4 w-4 text-yellow-600"}),m.jsx("span",{children:r(c.started_at)})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"text-left tabular-nums",children:x2(c.duration||0)}),m.jsx(oe,{variant:"ghost",size:"sm",className:"text-red-500 hover:text-red-700",onClick:()=>s(c.id),children:m.jsx(fc,{className:"h-4 w-4"})})]})]},c.id))]},a))}),m.jsx(oe,{onClick:e,className:"w-full bg-gray-900 text-white hover:bg-gray-800",children:"הסתר היסטוריה"})]})},RI=({totalStudyTime:t,totalBreakTime:e,onClose:n})=>m.jsxs("div",{className:"space-y-4",children:[m.jsx("div",{className:"space-y-4",children:m.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[m.jsx("h3",{className:"text-lg font-medium mb-4",children:"זמן למידה"}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("span",{children:"0%"}),m.jsx("span",{children:"50%"}),m.jsx("span",{children:"100%"})]}),m.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:m.jsx("div",{className:"h-full bg-black rounded-full transition-all duration-300",style:{width:`${Math.min(t/(t+e)*100,100)}%`}})}),m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("span",{children:"זמן למידה"}),m.jsx("span",{className:"font-mono",children:x2(t)})]})]})]})}),m.jsx(oe,{onClick:n,className:"w-full bg-gray-900 text-white hover:bg-gray-800",children:"הסתר סיכום"})]}),II=({isOpen:t,onToggle:e,onDiaryToggle:n})=>m.jsxs("div",{className:"flex justify-center gap-4 mt-4",children:[m.jsxs(oe,{onClick:e,variant:"outline",className:"flex items-center gap-2 px-6 py-2 bg-white hover:bg-gray-50 border-gray-300",children:[m.jsx(hA,{className:"w-4 h-4"}),"סיכום"]}),m.jsxs(oe,{onClick:n,variant:"outline",className:"flex items-center gap-2 px-6 py-2 bg-white hover:bg-gray-50 border-gray-300",children:[m.jsx(mA,{className:"w-4 h-4"}),"יומן"]})]}),DI=()=>{const[t,e]=y.useState("STOPPED"),[n,r]=y.useState(0),[s,i]=y.useState([]),[o,a]=y.useState(0),[l,c]=y.useState(0),[u,d]=y.useState(!1),[f,h]=y.useState(!1),p=E.useRef(null),{session:g}=qa(),[w,v]=y.useState(null);y.useEffect(()=>(x(),()=>{p.current&&clearInterval(p.current)}),[]);const x=async()=>{var L;if(!((L=g==null?void 0:g.user)!=null&&L.id))return;const{data:O,error:P}=await ye.from("timer_sessions").select("*").eq("user_id",g.user.id).order("started_at",{ascending:!1});if(P){console.error("Error loading sessions:",P),Ke.error("שגיאה בטעינת ההיסטוריה");return}i(O||[]),b(O||[])},b=O=>{let P=0,L=0;O.forEach(I=>{I.duration&&(I.type==="study"?P+=I.duration:I.type==="break"&&(L+=I.duration))}),a(P),c(L)},S=async O=>{var I;if(!((I=g==null?void 0:g.user)!=null&&I.id)){Ke.error("יש להתחבר כדי להשתמש בטיימר");return}w&&await k();const{data:P,error:L}=await ye.from("timer_sessions").insert({user_id:g.user.id,type:O,started_at:new Date().toISOString()}).select().single();if(L){console.error("Error starting timer:",L),Ke.error("שגיאה בהפעלת הטיימר");return}v(P.id),e(O==="study"?"STUDYING":"BREAK"),r(0),p.current&&clearInterval(p.current),p.current=setInterval(()=>{r(V=>V+1e3)},1e3),Ke.success(O==="study"?"התחלת זמן למידה!":"התחלת זמן הפסקה!")},k=async()=>{var P;if(!((P=g==null?void 0:g.user)!=null&&P.id)||!w)return;p.current&&clearInterval(p.current);const{error:O}=await ye.from("timer_sessions").update({duration:n,ended_at:new Date().toISOString()}).eq("id",w);if(O){console.error("Error stopping timer:",O),Ke.error("שגיאה בעצירת הטיימר");return}e("STOPPED"),r(0),v(null),x(),Ke.info("הטיימר נעצר!")},C=O=>{const P=Math.floor(O/1e3),L=Math.floor(P/3600),I=Math.floor(P%3600/60),V=P%60;return`${L.toString().padStart(2,"0")}:${I.toString().padStart(2,"0")}:${V.toString().padStart(2,"0")}`},_=()=>{d(!u),f&&h(!1)},M=()=>{h(!f),u&&d(!1)};return m.jsx(Ge,{className:"w-full max-w-2xl mx-auto bg-white shadow-sm border border-gray-100 rounded-3xl overflow-hidden",children:m.jsxs(Ps,{className:"p-8 space-y-6",children:[m.jsx(MI,{time:n,timerState:t,formatTime:C}),m.jsx(PI,{timerState:t,onStartStudy:()=>S("study"),onStartBreak:()=>S("break"),onStop:k}),m.jsx(II,{isOpen:u||f,onToggle:M,onDiaryToggle:_}),u&&m.jsx(AI,{sessions:s,totalStudyTime:o,totalBreakTime:l,onCalculateSummary:()=>d(!1),onSessionsUpdate:x}),f&&m.jsx(RI,{totalStudyTime:o,totalBreakTime:l,onClose:()=>h(!1)})]})})},rp=[{quote:"ההצלחה היא סך כל המאמצים הקטנים שחוזרים על עצמם יום אחר יום.",author:"רוברט קולייר"},{quote:"הדרך הטובה ביותר לחזות את העתיד היא ליצור אותו.",author:"פיטר דרוקר"},{quote:"כל מומחה היה פעם מתחיל.",author:"רותרפורד ב. הייז"},{quote:"ההשקעה בידע משלמת את הריבית הטובה ביותר.",author:"בנג'מין פרנקלין"},{quote:"הצעד הראשון להצלחה הוא האמונה שאתה יכול.",author:"טוני רובינס"}];function jI(){const[t,e]=y.useState(rp[0]);return y.useEffect(()=>{const n=setInterval(()=>{const r=Math.floor(Math.random()*rp.length);e(rp[r])},1e4);return()=>clearInterval(n)},[]),m.jsx(Ge,{className:"p-6 bg-gradient-to-r from-purple-500 to-pink-500 text-white",children:m.jsxs("div",{className:"text-center space-y-4 animate-fadeIn",children:[m.jsxs("blockquote",{className:"text-xl italic",children:['"',t.quote,'"']}),m.jsxs("footer",{className:"text-sm",children:["- ",t.author]})]})})}function LI(t,e=[]){let n=[];function r(i,o){const a=y.createContext(o),l=n.length;n=[...n,o];function c(d){const{scope:f,children:h,...p}=d,g=(f==null?void 0:f[t][l])||a,w=y.useMemo(()=>p,Object.values(p));return m.jsx(g.Provider,{value:w,children:h})}function u(d,f){const h=(f==null?void 0:f[t][l])||a,p=y.useContext(h);if(p)return p;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,u]}const s=()=>{const i=n.map(o=>y.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,$I(s,...e)]}function $I(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(i)[`__scope${c}`];return{...a,...d}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Z0="Progress",ey=100,[FI,uW]=LI(Z0),[zI,BI]=FI(Z0),b2=y.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:i=VI,...o}=t;(s||s===0)&&!lw(s)&&console.error(UI(`${s}`,"Progress"));const a=lw(s)?s:ey;r!==null&&!cw(r,a)&&console.error(HI(`${r}`,"Progress"));const l=cw(r,a)?r:null,c=Ld(l)?i(l,a):void 0;return m.jsx(zI,{scope:n,value:l,max:a,children:m.jsx(ae.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":Ld(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":C2(l,a),"data-value":l??void 0,"data-max":a,...o,ref:e})})});b2.displayName=Z0;var S2="ProgressIndicator",k2=y.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=BI(S2,n);return m.jsx(ae.div,{"data-state":C2(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});k2.displayName=S2;function VI(t,e){return`${Math.round(t/e*100)}%`}function C2(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Ld(t){return typeof t=="number"}function lw(t){return Ld(t)&&!isNaN(t)&&t>0}function cw(t,e){return Ld(t)&&!isNaN(t)&&t<=e&&t>=0}function UI(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${ey}\`.`}function HI(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${ey} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var E2=b2,WI=k2;const _2=y.forwardRef(({className:t,value:e,...n},r)=>m.jsx(E2,{ref:r,className:ce("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:m.jsx(WI,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));_2.displayName=E2.displayName;var KI=Hb.useId||(()=>{}),qI=0;function Lr(t){const[e,n]=y.useState(KI());return pr(()=>{n(r=>r??String(qI++))},[t]),e?`radix-${e}`:""}var ty="Collapsible",[GI,T2]=Jr(ty),[JI,ny]=GI(ty),N2=y.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:r,defaultOpen:s,disabled:i,onOpenChange:o,...a}=t,[l=!1,c]=Qr({prop:r,defaultProp:s,onChange:o});return m.jsx(JI,{scope:n,disabled:i,contentId:Lr(),open:l,onOpenToggle:y.useCallback(()=>c(u=>!u),[c]),children:m.jsx(ae.div,{"data-state":sy(l),"data-disabled":i?"":void 0,...a,ref:e})})});N2.displayName=ty;var M2="CollapsibleTrigger",O2=y.forwardRef((t,e)=>{const{__scopeCollapsible:n,...r}=t,s=ny(M2,n);return m.jsx(ae.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":sy(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...r,ref:e,onClick:ee(t.onClick,s.onOpenToggle)})});O2.displayName=M2;var ry="CollapsibleContent",P2=y.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=ny(ry,t.__scopeCollapsible);return m.jsx(Pt,{present:n||s.open,children:({present:i})=>m.jsx(QI,{...r,ref:e,present:i})})});P2.displayName=ry;var QI=y.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:r,children:s,...i}=t,o=ny(ry,n),[a,l]=y.useState(r),c=y.useRef(null),u=_e(e,c),d=y.useRef(0),f=d.current,h=y.useRef(0),p=h.current,g=o.open||a,w=y.useRef(g),v=y.useRef();return y.useEffect(()=>{const x=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(x)},[]),pr(()=>{const x=c.current;if(x){v.current=v.current||{transitionDuration:x.style.transitionDuration,animationName:x.style.animationName},x.style.transitionDuration="0s",x.style.animationName="none";const b=x.getBoundingClientRect();d.current=b.height,h.current=b.width,w.current||(x.style.transitionDuration=v.current.transitionDuration,x.style.animationName=v.current.animationName),l(r)}},[o.open,r]),m.jsx(ae.div,{"data-state":sy(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!g,...i,ref:u,style:{"--radix-collapsible-content-height":f?`${f}px`:void 0,"--radix-collapsible-content-width":p?`${p}px`:void 0,...t.style},children:g&&s})});function sy(t){return t?"open":"closed"}var YI=N2,XI=O2,ZI=P2,eD=y.createContext(void 0);function Kc(t){const e=y.useContext(eD);return t||e||"ltr"}var Yr="Accordion",tD=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[iy,nD,rD]=Af(Yr),[Wf,dW]=Jr(Yr,[rD,T2]),oy=T2(),A2=E.forwardRef((t,e)=>{const{type:n,...r}=t,s=r,i=r;return m.jsx(iy.Provider,{scope:t.__scopeAccordion,children:n==="multiple"?m.jsx(aD,{...i,ref:e}):m.jsx(oD,{...s,ref:e})})});A2.displayName=Yr;var[R2,sD]=Wf(Yr),[I2,iD]=Wf(Yr,{collapsible:!1}),oD=E.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},collapsible:i=!1,...o}=t,[a,l]=Qr({prop:n,defaultProp:r,onChange:s});return m.jsx(R2,{scope:t.__scopeAccordion,value:a?[a]:[],onItemOpen:l,onItemClose:E.useCallback(()=>i&&l(""),[i,l]),children:m.jsx(I2,{scope:t.__scopeAccordion,collapsible:i,children:m.jsx(D2,{...o,ref:e})})})}),aD=E.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},...i}=t,[o=[],a]=Qr({prop:n,defaultProp:r,onChange:s}),l=E.useCallback(u=>a((d=[])=>[...d,u]),[a]),c=E.useCallback(u=>a((d=[])=>d.filter(f=>f!==u)),[a]);return m.jsx(R2,{scope:t.__scopeAccordion,value:o,onItemOpen:l,onItemClose:c,children:m.jsx(I2,{scope:t.__scopeAccordion,collapsible:!0,children:m.jsx(D2,{...i,ref:e})})})}),[lD,Kf]=Wf(Yr),D2=E.forwardRef((t,e)=>{const{__scopeAccordion:n,disabled:r,dir:s,orientation:i="vertical",...o}=t,a=E.useRef(null),l=_e(a,e),c=nD(n),d=Kc(s)==="ltr",f=ee(t.onKeyDown,h=>{var M;if(!tD.includes(h.key))return;const p=h.target,g=c().filter(O=>{var P;return!((P=O.ref.current)!=null&&P.disabled)}),w=g.findIndex(O=>O.ref.current===p),v=g.length;if(w===-1)return;h.preventDefault();let x=w;const b=0,S=v-1,k=()=>{x=w+1,x>S&&(x=b)},C=()=>{x=w-1,x<b&&(x=S)};switch(h.key){case"Home":x=b;break;case"End":x=S;break;case"ArrowRight":i==="horizontal"&&(d?k():C());break;case"ArrowDown":i==="vertical"&&k();break;case"ArrowLeft":i==="horizontal"&&(d?C():k());break;case"ArrowUp":i==="vertical"&&C();break}const _=x%v;(M=g[_].ref.current)==null||M.focus()});return m.jsx(lD,{scope:n,disabled:r,direction:s,orientation:i,children:m.jsx(iy.Slot,{scope:n,children:m.jsx(ae.div,{...o,"data-orientation":i,ref:l,onKeyDown:r?void 0:f})})})}),$d="AccordionItem",[cD,ay]=Wf($d),j2=E.forwardRef((t,e)=>{const{__scopeAccordion:n,value:r,...s}=t,i=Kf($d,n),o=sD($d,n),a=oy(n),l=Lr(),c=r&&o.value.includes(r)||!1,u=i.disabled||t.disabled;return m.jsx(cD,{scope:n,open:c,disabled:u,triggerId:l,children:m.jsx(YI,{"data-orientation":i.orientation,"data-state":V2(c),...a,...s,ref:e,disabled:u,open:c,onOpenChange:d=>{d?o.onItemOpen(r):o.onItemClose(r)}})})});j2.displayName=$d;var L2="AccordionHeader",$2=E.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,s=Kf(Yr,n),i=ay(L2,n);return m.jsx(ae.h3,{"data-orientation":s.orientation,"data-state":V2(i.open),"data-disabled":i.disabled?"":void 0,...r,ref:e})});$2.displayName=L2;var Xm="AccordionTrigger",F2=E.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,s=Kf(Yr,n),i=ay(Xm,n),o=iD(Xm,n),a=oy(n);return m.jsx(iy.ItemSlot,{scope:n,children:m.jsx(XI,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":s.orientation,id:i.triggerId,...a,...r,ref:e})})});F2.displayName=Xm;var z2="AccordionContent",B2=E.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,s=Kf(Yr,n),i=ay(z2,n),o=oy(n);return m.jsx(ZI,{role:"region","aria-labelledby":i.triggerId,"data-orientation":s.orientation,...o,...r,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});B2.displayName=z2;function V2(t){return t?"open":"closed"}var uD=A2,dD=j2,fD=$2,U2=F2,H2=B2;const hD=uD,W2=y.forwardRef(({className:t,...e},n)=>m.jsx(dD,{ref:n,className:ce("border-b",t),...e}));W2.displayName="AccordionItem";const K2=y.forwardRef(({className:t,children:e,...n},r)=>m.jsx(fD,{className:"flex",children:m.jsxs(U2,{ref:r,className:ce("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...n,children:[e,m.jsx(RC,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));K2.displayName=U2.displayName;const q2=y.forwardRef(({className:t,children:e,...n},r)=>m.jsx(H2,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:m.jsx("div",{className:ce("pb-4 pt-0",t),children:e})}));q2.displayName=H2.displayName;const pD=[{title:"ברוכים הבאים",lessons:[{title:"ברוכים הבאים - פז",duration:"00:14:12",completed:!1},{title:"קניין רוחני",duration:"00:02:44",completed:!1},{title:"הסרת אחריות",duration:"00:02:01",completed:!1},{title:"ברוכים הבאים - חי טל",duration:"00:13:17",completed:!1}]},{title:"מבוא לתחום הקריפטו",lessons:[{title:"מה זה כסף",duration:"00:11:13",completed:!1},{title:"מה זה ביטקוין",duration:"00:08:53",completed:!1},{title:"ביטקוין מאסטר פלאן",duration:"00:06:54",completed:!1},{title:"מה זה בלוקציין חלק א׳",duration:"00:04:59",completed:!1},{title:"מה זה בלוקציין חלק ב׳",duration:"00:07:20",completed:!1},{title:"פתיחת ארנק מטאמאסק יחד עם פז",duration:"00:12:01",completed:!1},{title:"מבוא ל-CoinMarketCap",duration:"00:07:20",completed:!1},{title:"העמקה ב-CoinMarketCap חלק א׳",duration:"00:15:54",completed:!1},{title:"העמקה ב-CoinMarketCap חלק ב׳",duration:"00:16:05",completed:!1},{title:"העמקה ב-CoinMarketCap חלק ג׳",duration:"00:19:12",completed:!1},{title:"העמקה ב-CoinMarketCap חלק ד׳",duration:"00:09:18",completed:!1},{title:"העמקה ב-CoinMarketCap חלק ה׳",duration:"00:04:52",completed:!1}]},{title:"מבוא לתחום המסחר והשקעות",lessons:[{title:"ירידה לקרקע לפני שנכנסים לעומק חלק א׳",duration:"00:15:18",completed:!1},{title:"ירידה לקרקע לפני שנכנסים לעומק חלק ב׳",duration:"00:09:17",completed:!1},{title:"ההבדל בין סוחר למהמר חלק א׳",duration:"00:15:12",completed:!1},{title:"ההבדל בין סוחר למהמר חלק ב׳",duration:"00:13:14",completed:!1},{title:"ההבדל בין סוחר למשקיע",duration:"00:16:14",completed:!1},{title:"סוגי סוחרים ומשקיעים",duration:"00:15:54",completed:!1},{title:"איזה סוחר/משקיע מתאים לי להיות?",duration:"00:10:47",completed:!1},{title:"עונות השוק",duration:"00:18:04",completed:!1},{title:"ללמוד לדבר עם נרות - סיפורו של נר",duration:"00:09:39",completed:!1},{title:"להרוויח מכל תנודה- לונג ושורט ההסבר",duration:"00:06:24",completed:!1},{title:"הלוויתנים מקנאים בך!",duration:"00:06:49",completed:!1},{title:"מסחר במינוף- מה זה ואיך עושים את זה נכון",duration:"00:05:45",completed:!1}]},{title:"ניתוח טכני",lessons:[{title:"הכרות עם מערכת TradingView",duration:"00:26:04",completed:!1},{title:"מבוא לניתוח טכני",duration:"00:13:25",completed:!1},{title:"תמיכה והתנגדות",duration:"00:15:40",completed:!1},{title:"תמיכה והתנגדות + קווי מגמה",duration:"00:50:32",completed:!1},{title:"תבניות ניתוח טכני",duration:"00:15:24",completed:!1},{title:"מגמות עולות ויורדות",duration:"00:05:20",completed:!1}]},{title:"זירת המסחר ביננס",lessons:[{title:"ביננס שיעור ראשון פתיחה והגדרות",duration:"00:31:08",completed:!1},{title:"קנייה באשראי דרך אפליקציית ביננס",duration:"00:02:49",completed:!1},{title:"איך להעביר כסף מביננס",duration:"00:08:54",completed:!1},{title:"פקודות בביננס ההסבר המקיף",duration:"00:48:29",completed:!1},{title:"ביננס שיעור שלישי- סרגל כלים, קווי מגמה ופיבונצ'י",duration:"00:30:27",completed:!1},{title:"פיבונאצ׳י הסבר נוסף חי טל",duration:"00:23:24",completed:!1}]},{title:"מטבעות מתפוצצים והשקעות",lessons:[{title:"איתורמטבעות וטקטיקת הסקטורים",duration:"00:16:28",completed:!1},{title:"ריגול ברשת הבלוקציין",duration:"00:10:28",completed:!1},{title:"ליקוויד, מדד הפחד, אינדיקציות להשקעות ערך",duration:"00:08:00",completed:!1},{title:"מה זה DCA ואיך עושים את זה נכון",duration:"00:17:02",completed:!1}]},{title:"עבודה עם ארנקים",lessons:[{title:"טרזור המדריך המקיף",duration:"00:22:43",completed:!1},{title:"כיצד לפתוח ולעבוד עם טרסט וולט",duration:"00:05:48",completed:!1},{title:"הגדרה ועבודה עם ארנק מטאמסק",duration:"00:28:01",completed:!1},{title:"קניית קריפטו דרך מטאמאסק",duration:"00:14:12",completed:!1}]},{title:"אינדיקטורים",lessons:[{title:"ממוצעים נעים",duration:"00:15:40",completed:!1},{title:"אינדיקטור MACD",duration:"00:19:41",completed:!1},{title:"רצועת בולינגר",duration:"00:10:05",completed:!1},{title:"סוקסטיק",duration:"00:15:38",completed:!1},{title:"ענן אישימוקו",duration:"00:34:51",completed:!1},{title:"אינדיקטור RSI",duration:"00:07:48",completed:!1},{title:"ויוואפ אינדיקטור",duration:"00:05:27",completed:!1}]},{title:"שיעורים מתקדמים",lessons:[{title:"סטייקינג וסייבינג- דברים שחייבים לדעת",duration:"00:18:32",completed:!1},{title:"פסיכולוגיה של סוחר",duration:"00:19:08",completed:!1}]},{title:"סמינר מסחר לייב עם פז",lessons:[{title:"סמינר מסחר חלק 1",duration:"01:30:48",completed:!1},{title:"סמינר מסחר חלק 2",duration:"01:33:05",completed:!1}]},{title:"תאוריית וייקוף",lessons:[{title:"תאוריית וייקוף בסיס חלק א׳",duration:"00:18:18",completed:!1},{title:"תאוריית וייקוף בסיס חלק ב׳",duration:"00:10:54",completed:!1},{title:"תאוריית וייקוף מודל איסוף ופיזור חלק א׳",duration:"00:17:43",completed:!1},{title:"תאוריית וייקוף מודל איסוף ופיזור חלק ב׳",duration:"00:19:04",completed:!1},{title:"תאוריית וייקוף מודל תהליכים חוזרים ואלכסוניים",duration:"00:08:13",completed:!1},{title:"תאוריית וייקוף סינרגיה בין מסגרות זמן ותתי תהליכים",duration:"00:05:23",completed:!1}]},{title:"מבנה שוק",lessons:[{title:"מבנה שוק חלק א׳",duration:"00:08:53",completed:!1},{title:"מבנה שוק חלק ב׳",duration:"00:15:36",completed:!1},{title:"מבנה שוק חלק ג׳",duration:"00:12:00",completed:!1}]},{title:"המשקפיים של חי טל",lessons:[{title:"המשקפיים של חי טל חלק א׳ - זיהוי וניתוח תהליכים חלק א׳",duration:"00:14:59",completed:!1},{title:"המשקפיים של חי טל חלק א׳ - זיהוי וניתוח תהליכים חלק ב׳",duration:"00:20:07",completed:!1},{title:"המשקפיים של חי טל חלק ב׳ - סינרגיה בין מסגרות זמן והתזמון המושלם",duration:"00:13:56",completed:!1},{title:"המשקפיים של חי טל חלק ג׳ - אסטרטגיית הטיסה ושרשור עסקאות",duration:"00:18:47",completed:!1},{title:"המשקפיים של חי טל חלק ד׳ - אסטרטגיית שבירת הכנף חלק א׳",duration:"00:14:11",completed:!1},{title:"המשקפיים של חי טל חלק ד׳ - אסטרטגיית שבירת הכנף חלק ב׳",duration:"00:15:59",completed:!1},{title:"המשקפיים של חי טל חלק ד׳ - אסטרטגיית שבירת הכנף חלק ג׳",duration:"00:13:09",completed:!1}]},{title:"סמינר לייב הפאזל מתחיל להתחבר",lessons:[{title:"חלק א׳ - סקירת שוק ומדדים. (13/3/2023)",duration:"00:29:03",completed:!1},{title:"חלק ב׳ - שאלות תשובות קצר.",duration:"00:08:18",completed:!1},{title:"חלק ג׳ - המרכיב הרגשי במסחר.",duration:"01:21:36",completed:!1},{title:"הקדמה וייקוף",duration:"00:01:04",completed:!1},{title:"חלק ד׳ - לדבר וויקוף שוטף.",duration:"02:23:05",completed:!1},{title:"חלק ה׳ - מחלת הסטופ הצמוד מדי.",duration:"00:25:54",completed:!1},{title:"חלק ו׳ - צ׳וצ ובוס ואיך ממקסמים דרכם עסקה.",duration:"00:38:18",completed:!1}]},{title:"סמינר לייב תאוריית וויקוף *להעשרה בלבד*",lessons:[{title:"הקדמה וייקוף",duration:"00:01:04",completed:!1},{title:"פסיכולוגיה א׳ - ללמוד כדי להבין ולא כדי לזכור.",duration:"00:08:34",completed:!1},{title:"פסיכולוגיה ב׳+ג׳ - דרך קצרה שהיא ארוכה ודרך ארוכה שהיא קצרה.",duration:"00:33:56",completed:!1},{title:"פסיכולוגיה ד׳ - המוח תבניתי ומחפש כל הזמן לאשר את מה שאנחנו חושבים. (הטיית האישוש)",duration:"00:20:04",completed:!1},{title:"שיעור מסמינר הפאזל מתחיל להתחבר - לדבר וייקוף שוטף.",duration:"02:23:05",completed:!1},{title:"ווייקוף א׳ - כשסוחרים לפי חוקי ווייקוף סוחרים על מטבע שמכבד את אותם חוקים + מבנה מתומצת CHOCH/BOS.",duration:"00:18:55",completed:!1},{title:"ווייקוף ב׳ - מחיר ׳מתוח׳ - רק כשהפוטנציאל דחיפה מומש, מתחיל להיגמר, ונכנס כוח נגדי חזק.",duration:"01:02:56",completed:!1},{title:"ווייקוף ג׳ - חוק מאמץ מול תוצאה.",duration:"00:25:18",completed:!1},{title:"ווייקוף ד׳ - איסופים ופיזורים חוזרים - המשכיות או היפוך? + מתווה ניהול עסקה.",duration:"01:55:35",completed:!1},{title:"לחבר את הנקודות א׳ - בניית וואצליסט של מטבעות הנסחרים לפי ווייקוף.",duration:"00:07:27",completed:!1},{title:"לחבר את הנקודות ב׳ עד ד׳ - יום מסחר בפועל.",duration:"00:11:54",completed:!1},{title:"ספונטני - מצאנו עסקה פוטנציאלית.",duration:"00:15:26",completed:!1},{title:"מה עושים מכאן + ניהול מנטלי בתוך עסקה.",duration:"00:15:44",completed:!1},{title:"המשך מה עושים מכאן + התמודדות מנטלית עם עסקה הפסדית.",duration:"01:09:38",completed:!1}]},{title:"אסטרטגיות מתקדמות",lessons:[{title:"אסטרטגיית מונטה קרלו",duration:"01:05:06",completed:!1},{title:"חיזוי פוטנציאל במגמה בשיטת מונטה קרלו",duration:"00:10:28",completed:!1},{title:"מונטה קרלו- שיעור 3",duration:"00:12:33",completed:!1},{title:"מסחר תעלות באסטרטגיית הריינג'",duration:"00:23:56",completed:!1}]},{title:"סמינר פרופסור להתכנסויות בלייב 19/3/23 עם חי טל",lessons:[{title:"חלק א׳ - סקירת שוק זריזה",duration:"00:14:25",completed:!1},{title:"חלק ב׳ - פרופסור להתכנסויות תיאוריה",duration:"01:05:07",completed:!1},{title:"חלק ג׳ - פרופסור להתכנסויות פרקטיקה",duration:"01:09:47",completed:!1},{title:"חלק ד׳ - איך מחיר זז",duration:"00:06:38",completed:!1},{title:"חלק ה׳ - התכנסות מחיר מנקודת מבט של וויקוף",duration:"00:12:32",completed:!1},{title:"חלק ו׳ - איך מצטרפים לעסקה, מה הפוטנציאל של התכנסות איכותית ואיך למקסם אותו",duration:"00:24:26",completed:!1}]},{title:"סמינר פרופסור לתבניות טכניות בלייב 29/3/23 עם חי טל",lessons:[{title:"חלק א׳ - סקירת שוק 29/3/23",duration:"00:29:01",completed:!1},{title:"חלק ב׳ - קטגוריות של תבניות",duration:"00:24:59",completed:!1},{title:"חלק ג׳ - תבנית איכותית מול תבנית מניפולציה",duration:"00:21:52",completed:!1},{title:"חלק ד׳ - הלכה למעשה על הגרף",duration:"00:40:11",completed:!1},{title:"חלק ה׳ - סיכום + שאלות תשובות",duration:"00:56:31",completed:!1}]},{title:"לייב שאלות תשובות עם חי טל 27/12/2022",lessons:[{title:"חלק א׳ - שאלות לגבי תאוריית וויקוף",duration:"00:19:51",completed:!1},{title:"חלק ב׳ - סינרגיה בין מסגרות זמן וניהול עסקה בהתאם",duration:"00:27:12",completed:!1},{title:"חלק ג׳ - איך סוחרים ספרינג נכון",duration:"00:16:13",completed:!1},{title:"חלק ד׳ - איך סוחרים היגמרות מוכרים נכון",duration:"00:14:55",completed:!1},{title:"חלק ה׳ - סימון נכון של תנועות מחיר",duration:"00:18:48",completed:!1},{title:"חלק ו׳ - תבניות והתנהלות בזמן עסקה",duration:"00:32:27",completed:!1},{title:"חלק ז׳ - איך פותחים עסקה בביננס",duration:"00:18:17",completed:!1},{title:"חלק ח׳ - פקודות בביננס וסינרגיה בין טווחי זמן",duration:"00:19:22",completed:!1},{title:"חלק ט׳ - טריקים של אינדקטורים",duration:"00:12:24",completed:!1},{title:"חלק י׳ - פאזות וויקוף ותפקידן",duration:"00:21:13",completed:!1}]},{title:"לייב שאלות תשובות עם חי טל 10/1/23",lessons:[{title:"חלק א׳ - סקירת שוק (10/1/2023)",duration:"00:38:35",completed:!1},{title:"חלק ב׳ - סקירת עומק של ביטקוין (10/1/2023)",duration:"00:18:12",completed:!1},{title:"חלק ג׳ - כניסה לעומק המשולש",duration:"00:22:38",completed:!1},{title:"חלק ד׳ - איך משקיעים נכון לטווח ארוך",duration:"00:37:36",completed:!1},{title:"חלק ה׳ - ההיגיון מאחורי תהליך הוויקוף ואיך מרוויחים ממנו",duration:"01:16:30",completed:!1},{title:"חלק ו׳ - איך משקיעים לטווח ארוך המשך",duration:"00:16:32",completed:!1},{title:"חלק ז׳ - תזמון עסקה בהתאם לוודאות",duration:"00:12:42",completed:!1}]},{title:"תוכנית עבודה למסחר בפועל",lessons:[{title:"חלק א׳ - סקירת שוק (29/1/2023)",duration:"00:16:36",completed:!1},{title:"חלק ב׳ - ניהול סיכונים",duration:"00:53:18",completed:!1},{title:"חלק ג׳ - ניהול עסקה + תרחיש מושלם לכניסה + איזורי איסור כניסה",duration:"00:21:43",completed:!1},{title:"חלק ד׳ - ניהול מנטלי",duration:"00:20:49",completed:!1},{title:"חלק ה׳ - אינדבדואליזציה + סיכום עסקה",duration:"00:23:01",completed:!1},{title:"חלק ו׳ - סוגי תוכניות עבודה",duration:"00:13:35",completed:!1},{title:"חלק ז׳ - שאלות תשובות",duration:"00:18:34",completed:!1}]},{title:"אסטרטגיית הטיסה של חי טל 21.6.23 (גרסא ישנה *להעשרה בלבד*)",lessons:[{title:"1. פתיחה והצגת נושאים",duration:"00:02:08",completed:!1},{title:"2. למה זה חשוב להיצמד לאסטרטגיה אחת",duration:"00:10:32",completed:!1},{title:"3. למה בחרתי דווקא באסטרטגיה הזאת ומה הייתרונות והחסרונות שלה",duration:"00:07:36",completed:!1},{title:"4. חלק א׳ - לימוד האסטרטגיה בפועל",duration:"00:25:25",completed:!1},{title:"4. חלק ב׳ - לימוד האסטרטגיה בפועל",duration:"00:31:09",completed:!1},{title:"4. חלק ג׳ - לימוד האסטרטגיה בפועל",duration:"00:21:48",completed:!1},{title:"5. דוגמאות של האסטרטגיה בפועל",duration:"00:31:21",completed:!1},{title:"6. פרמטרים לניהול עסקה",duration:"00:03:43",completed:!1},{title:"7. פרמטרים להגדלת עסקה",duration:"00:11:36",completed:!1},{title:"8. פרמטרים לסגירת עסקה הפסדית לפני הגעה לסטופ",duration:"00:13:51",completed:!1},{title:"9. פרמטרים לסגירת עסקה רווחית לפני הגעה לסטופ",duration:"00:23:12",completed:!1},{title:"10. סיכוי מול סיכון",duration:"00:07:33",completed:!1},{title:"11. פעולות לאחר סגירה הפסדית",duration:"00:24:01",completed:!1},{title:"12. איך מחשבים סטופ כולל עמלות",duration:"00:12:01",completed:!1},{title:"13. פעולות לאחר סגרה עסקה ריווחית",duration:"00:18:03",completed:!1},{title:"14. שאלות תשובות כללי",duration:"00:26:46",completed:!1}]},{title:"סמינר פרופסור להיצע וביקוש בלייב 2/4/23 עם חי טל",lessons:[{title:"חלק א׳ - סקירת שוק זריזה",duration:"00:04:47",completed:!1},{title:"חלק ב׳ - מה זה בכלל היצע וביקוש?",duration:"00:14:16",completed:!1},{title:"חלק ג׳ - מה הטייק של וויקוף על זה?",duration:"00:05:13",completed:!1},{title:"חלק ד׳ - איך זה נראה על הגרף? + מילון מושגים",duration:"00:31:19",completed:!1},{title:"חלק ה׳ - פרמטרים למדידת איכות האורדר בלוק + עסקה בפועל",duration:"00:47:09",completed:!1},{title:"חלק ו׳ - פרמטרים לאישור עסקה",duration:"00:32:33",completed:!1},{title:"חלק ז׳ - סיכום סמינר",duration:"00:09:21",completed:!1},{title:"חלק ח׳ - שאלות תשובות + תוכנית לספוט",duration:"00:13:04",completed:!1}]},{title:"היצע וביקוש למתקדמים",lessons:[{title:"חלק א- בחירת האורדר בלוק הסביר ביותר",duration:"01:09:12",completed:!1},{title:"חלק ב- שילוב אסטרטגיית המשכיות והיפוך לכדי מסחר אחד",duration:"00:19:57",completed:!1},{title:"חלק ג'- חיבור חלקי הפאזל",duration:"00:19:26",completed:!1}]},{title:"סמינר פרופסור לנזילות 24/7/23",lessons:[{title:"חלק א׳ - מה זה בכלל נזילות?",duration:"00:09:33",completed:!1},{title:"חלק ב׳ - איך מחיר זז?",duration:"00:09:38",completed:!1},{title:"חלק ג׳ - איך כל זה נראה על הגרף 1/3",duration:"00:08:16",completed:!1},{title:"חלק ג׳ - איך כל זה נראה על הגרף 2/3",duration:"00:08:05",completed:!1},{title:"חלק ג׳ - איך כל זה נראה על הגרף 3/3",duration:"01:02:50",completed:!1},{title:"חלק ד׳ - סיכום",duration:"00:12:34",completed:!1},{title:"חלק ה׳ - שאלות תשובות",duration:"00:23:48",completed:!1}]},{title:"סמינר מסחר בספוט",lessons:[{title:"הקדמה",duration:"00:01:01",completed:!1},{title:"פרק א׳ - מתי ולמה לסחור בספוט?",duration:"00:07:13",completed:!1},{title:"פרק ב׳ - מה אנחנו מחפשים?",duration:"00:15:21",completed:!1},{title:"פרק ג׳ - איך סוחרים את זה בפועל?",duration:"00:44:06",completed:!1},{title:"פרק ד׳ - דגשים וסייגים",duration:"00:06:02",completed:!1}]},{title:"סמינר כלים מנטליים של ווינרים",lessons:[{title:"נושאי הסמינר",duration:"00:03:12",completed:!1},{title:"התבודדות",duration:"00:17:33",completed:!1},{title:"פריפלואו + הרהור",duration:"00:20:02",completed:!1},{title:"יומן בוקר",duration:"00:15:40",completed:!1},{title:"יומן ערב",duration:"00:12:17",completed:!1},{title:"כלל פארטו",duration:"00:05:22",completed:!1},{title:"הסתכלות בעיניים",duration:"00:24:06",completed:!1},{title:"תזונה מנטלית",duration:"00:14:02",completed:!1},{title:"סיכום",duration:"00:02:07",completed:!1}]},{title:"סקירות שבועיות להעשרה",lessons:[{title:"סקירה שבועית עם חי טל 22.08.23",duration:"01:22:52",completed:!1},{title:"סקירה שבועית עם חי טל 29/08/2023",duration:"01:22:11",completed:!1},{title:"סקירה שבועית עם חי טל 5/9/2023",duration:"01:04:41",completed:!1},{title:"סקירה שבועית עם חי טל 12/10/2023",duration:"00:37:39",completed:!1},{title:"סקירה שבועית עם חי 23/01/24- סקירה על ביטקוין",duration:"00:20:24",completed:!1},{title:"סקירה שבועית עם חי 23/01/24- נתיב הכסף",duration:"00:13:15",completed:!1},{title:"סקירה שבועית עם חי 23/01/24- שאלות תשובות",duration:"00:49:35",completed:!1},{title:"סקירה שבועית עם חי טל- 07/02/24",duration:"00:18:49",completed:!1},{title:"סקירה שבועית עם חי טל- 07/02/24",duration:"00:14:23",completed:!1},{title:"סקירה שבועית עם חי טל- 07/02/24",duration:"00:08:03",completed:!1},{title:"סקירה שבועית עם חי טל- 07/02/24",duration:"00:04:04",completed:!1},{title:"סקירת שוק עם חי טל 03.07.2024",duration:"00:43:54",completed:!1},{title:"סקירת שוק עם חי טל 15.9.24",duration:"00:54:32",completed:!1},{title:"סקירת שוק עם חי טל 30.10.24 חלק א׳",duration:"00:31:53",completed:!1},{title:"סקירת שוק עם חי טל 30.10.24 חלק ב׳",duration:"00:20:30",completed:!1},{title:"סקירת שוק עם חי טל 6.11.24",duration:"00:56:12",completed:!1},{title:"סקירת שוק עם חי טל 21.11.24",duration:"00:45:06",completed:!1}]},{title:"סקירה שבועית עם חי טל - 18/04/24",lessons:[{title:"ביטקוין",duration:"00:12:54",completed:!1},{title:"ביטקוין חלק ב'",duration:"00:13:47",completed:!1},{title:"איתריום",duration:"00:04:32",completed:!1},{title:"USDT.D",duration:"00:04:12",completed:!1},{title:"BTC.D",duration:"00:07:40",completed:!1},{title:"שאלות תשובות",duration:"00:38:19",completed:!1}]}],uw=pD,mD=Lf("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function pc({className:t,variant:e,...n}){return m.jsx("div",{className:ce(mD({variant:e}),t),...n})}function gD(t){const e=y.useRef({value:t,previous:t});return y.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}function G2(t){const[e,n]=y.useState(void 0);return pr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var ly="Checkbox",[yD,fW]=Jr(ly),[vD,wD]=yD(ly),J2=y.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:i,required:o,disabled:a,value:l="on",onCheckedChange:c,form:u,...d}=t,[f,h]=y.useState(null),p=_e(e,S=>h(S)),g=y.useRef(!1),w=f?u||!!f.closest("form"):!0,[v=!1,x]=Qr({prop:s,defaultProp:i,onChange:c}),b=y.useRef(v);return y.useEffect(()=>{const S=f==null?void 0:f.form;if(S){const k=()=>x(b.current);return S.addEventListener("reset",k),()=>S.removeEventListener("reset",k)}},[f,x]),m.jsxs(vD,{scope:n,state:v,disabled:a,children:[m.jsx(ae.button,{type:"button",role:"checkbox","aria-checked":Us(v)?"mixed":v,"aria-required":o,"data-state":X2(v),"data-disabled":a?"":void 0,disabled:a,value:l,...d,ref:p,onKeyDown:ee(t.onKeyDown,S=>{S.key==="Enter"&&S.preventDefault()}),onClick:ee(t.onClick,S=>{x(k=>Us(k)?!0:!k),w&&(g.current=S.isPropagationStopped(),g.current||S.stopPropagation())})}),w&&m.jsx(xD,{control:f,bubbles:!g.current,name:r,value:l,checked:v,required:o,disabled:a,form:u,style:{transform:"translateX(-100%)"},defaultChecked:Us(i)?!1:i})]})});J2.displayName=ly;var Q2="CheckboxIndicator",Y2=y.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...s}=t,i=wD(Q2,n);return m.jsx(Pt,{present:r||Us(i.state)||i.state===!0,children:m.jsx(ae.span,{"data-state":X2(i.state),"data-disabled":i.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});Y2.displayName=Q2;var xD=t=>{const{control:e,checked:n,bubbles:r=!0,defaultChecked:s,...i}=t,o=y.useRef(null),a=gD(n),l=G2(e);y.useEffect(()=>{const u=o.current,d=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(d,"checked").set;if(a!==n&&h){const p=new Event("click",{bubbles:r});u.indeterminate=Us(n),h.call(u,Us(n)?!1:n),u.dispatchEvent(p)}},[a,n,r]);const c=y.useRef(Us(n)?!1:n);return m.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??c.current,...i,tabIndex:-1,ref:o,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Us(t){return t==="indeterminate"}function X2(t){return Us(t)?"indeterminate":t?"checked":"unchecked"}var Z2=J2,bD=Y2;const eE=y.forwardRef(({className:t,...e},n)=>m.jsx(Z2,{ref:n,className:ce("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:m.jsx(bD,{className:ce("flex items-center justify-center text-current"),children:m.jsx(AC,{className:"h-4 w-4"})})}));eE.displayName=Z2.displayName;function SD({title:t,duration:e,isCompleted:n,onToggle:r}){return m.jsxs("li",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(eE,{checked:n,onCheckedChange:r}),m.jsx("label",{className:`text-sm ${n?"line-through text-muted-foreground":""}`,children:t})]}),m.jsx("span",{className:"text-sm text-muted-foreground",children:e.replace(/^00:/,"")})]})}function kD({index:t,title:e,lessons:n,completedLessons:r,onToggleLesson:s}){return m.jsxs(W2,{value:`section-${t}`,children:[m.jsx(K2,{className:"text-right",children:m.jsxs("div",{className:"flex justify-between w-full items-center",children:[m.jsx("span",{children:e}),m.jsxs(pc,{variant:"secondary",className:"ml-2",children:[n.length," שיעורים"]})]})}),m.jsx(q2,{children:m.jsx("ul",{className:"space-y-2",children:n.map((i,o)=>{const a=`${t}-${o}`;return m.jsx(SD,{title:i.title,duration:i.duration,isCompleted:r.has(a),onToggle:()=>s(a)},o)})})})]})}const CD={title:"ברוכים הבאים",lessons:[{title:"ברוכים הבאים - פז",duration:"00:14:12",completed:!1},{title:"קניין רוחני",duration:"00:02:44",completed:!1},{title:"הסרת אחריות",duration:"00:02:01",completed:!1},{title:"ברוכים הבאים - חי טל",duration:"00:13:17",completed:!1}]},ED={title:"מבוא לעולם הקריפטו",lessons:[{title:"מבוא לקריפטו",duration:"00:15:30",completed:!1},{title:"מהו ביטקוין",duration:"00:12:45",completed:!1},{title:"בלוקצ'יין",duration:"00:18:20",completed:!1},{title:"אלטקוינס",duration:"00:14:15",completed:!1}]},_D={title:"מבוא לתחום המסחר והשקעות",lessons:[{title:"ירידה לקרקע לפני שנכנסים לעומק חלק א׳",duration:"00:15:18",completed:!1},{title:"ירידה לקרקע לפני שנכנסים לעומק חלק ב׳",duration:"00:09:17",completed:!1},{title:"ההבדל בין סוחר למהמר חלק א׳",duration:"00:15:12",completed:!1},{title:"ההבדל בין סוחר למהמר חלק ב׳",duration:"00:13:14",completed:!1},{title:"ההבדל בין סוחר למשקיע",duration:"00:16:14",completed:!1},{title:"סוגי סוחרים ומשקיעים",duration:"00:15:54",completed:!1},{title:"איזה סוחר/משקיע מתאים לי להיות?",duration:"00:10:47",completed:!1},{title:"עונות השוק",duration:"00:18:04",completed:!1},{title:"ללמוד לדבר עם נרות - סיפורו של נר",duration:"00:09:39",completed:!1},{title:"להרוויח מכל תנודה- לונג ושורט ההסבר",duration:"00:06:24",completed:!1},{title:"הלוויתנים מקנאים בך!",duration:"00:06:49",completed:!1},{title:"מסחר במינוף- מה זה ואיך עושים את זה נכון",duration:"00:05:45",completed:!1}]},TD={title:"ניתוח טכני",lessons:[{title:"הכרות עם מערכת TradingView",duration:"00:26:04",completed:!1},{title:"מבוא לניתוח טכני",duration:"00:13:25",completed:!1},{title:"תמיכה והתנגדות",duration:"00:15:40",completed:!1},{title:"תמיכה והתנגדות + קווי מגמה",duration:"00:50:32",completed:!1},{title:"תבניות ניתוח טכני",duration:"00:15:24",completed:!1},{title:"מגמות עולות ויורדות",duration:"00:05:20",completed:!1}]},ND={title:"בורסת ביננס",lessons:[{title:"פתיחת חשבון בביננס",duration:"00:10:30",completed:!1},{title:"ממשק המסחר",duration:"00:15:45",completed:!1},{title:"סוגי הוראות",duration:"00:12:20",completed:!1},{title:"ניהול סיכונים",duration:"00:18:15",completed:!1}]},MD={title:"מטבעות מתפוצצים",lessons:[{title:"מבוא למטבעות מתפוצצים",duration:"00:20:15",completed:!1},{title:"זיהוי הזדמנויות",duration:"00:25:30",completed:!1},{title:"ניהול סיכונים",duration:"00:18:45",completed:!1},{title:"אסטרטגיות מסחר",duration:"00:22:10",completed:!1}]},OD={title:"עבודה עם ארנקים",lessons:[{title:"טרזור המדריך המקיף",duration:"00:22:43",completed:!1},{title:"כיצד לפתוח ולעבוד עם טרסט וולט",duration:"00:05:48",completed:!1},{title:"הגדרה ועבודה עם ארנק מטאמסק",duration:"00:28:01",completed:!1},{title:"קניית קריפטו דרך מטאמאסק",duration:"00:14:12",completed:!1}]},PD={title:"אינדיקטורים",lessons:[{title:"מבוא לאינדיקטורים",duration:"00:15:20",completed:!1},{title:"RSI",duration:"00:12:45",completed:!1},{title:"MACD",duration:"00:14:30",completed:!1},{title:"ממוצעים נעים",duration:"00:18:15",completed:!1}]},AD=[CD,ED,_D,TD,ND,MD,OD,PD],RD=()=>AD.reduce((t,e)=>t+e.lessons.length,0);function ID(){var l;const[t,e]=y.useState(new Set),[n,r]=y.useState(!0),{session:s}=qa(),{toast:i}=co();y.useEffect(()=>{var c;(c=s==null?void 0:s.user)!=null&&c.id&&o()},[(l=s==null?void 0:s.user)==null?void 0:l.id]);const o=async()=>{var c;try{const{data:u,error:d}=await ye.from("course_progress").select("lesson_id").eq("user_id",(c=s==null?void 0:s.user)==null?void 0:c.id).eq("completed",!0);if(d)throw d;e(new Set(u.map(f=>f.lesson_id)))}catch(u){console.error("Error loading progress:",u),i({title:"שגיאה בטעינת ההתקדמות",description:"לא הצלחנו לטעון את ההתקדמות שלך",variant:"destructive"})}finally{r(!1)}};return{completedLessons:t,loading:n,toggleLesson:async c=>{var d;if(!((d=s==null?void 0:s.user)!=null&&d.id))return;const u=t.has(c);try{if(u){const{error:p}=await ye.from("course_progress").delete().eq("user_id",s.user.id).eq("lesson_id",c);if(p)throw p;e(g=>{const w=new Set(g);return w.delete(c),w})}else{const{error:p}=await ye.from("course_progress").insert([{user_id:s.user.id,lesson_id:c,completed:!0}]);if(p)throw p;e(g=>new Set([...g,c]))}const f=RD(),h=t.size+(u?-1:1);i({title:"התקדמות עודכנה",description:`השלמת ${h} מתוך ${f} שיעורים`})}catch(f){console.error("Error updating progress:",f),i({title:"שגיאה בשמירת ההתקדמות",description:"לא הצלחנו לשמור את ההתקדמות שלך",variant:"destructive"})}}}}function DD(){const{completedLessons:t,loading:e,toggleLesson:n}=ID(),r=uw.reduce((i,o)=>i+o.lessons.length,0),s=t.size/r*100;return e?m.jsx(Ge,{className:"p-6",children:m.jsx("div",{className:"text-center",children:"טוען..."})}):m.jsxs(Ge,{className:"p-6",children:[m.jsxs("div",{className:"mb-10",children:[m.jsx("h2",{className:"text-2xl font-bold mb-4",children:"התקדמות בקורס"}),m.jsx(_2,{value:s,className:"h-2"}),m.jsxs("p",{className:"text-sm text-muted-foreground mt-2 text-center",children:[t.size," מתוך ",r," שיעורים הושלמו (",s.toFixed(1),"%)"]})]}),m.jsx(hD,{type:"single",collapsible:!0,className:"w-full",children:uw.map((i,o)=>m.jsx(kD,{index:o,title:i.title,lessons:i.lessons,completedLessons:t,onToggleLesson:n},o))})]})}var Ga=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Xi=typeof window>"u"||"Deno"in globalThis;function vn(){}function jD(t,e){return typeof t=="function"?t(e):t}function Zm(t){return typeof t=="number"&&t>=0&&t!==1/0}function tE(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ea(t,e){return typeof t=="function"?t(e):t}function Bn(t,e){return typeof t=="function"?t(e):t}function dw(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==cy(o,e.options))return!1}else if(!mc(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function fw(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Zi(e.options.mutationKey)!==Zi(i))return!1}else if(!mc(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function cy(t,e){return((e==null?void 0:e.queryKeyHashFn)||Zi)(t)}function Zi(t){return JSON.stringify(t,(e,n)=>eg(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function mc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!mc(t[n],e[n])):!1}function nE(t,e){if(t===e)return t;const n=hw(t)&&hw(e);if(n||eg(t)&&eg(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let l=0;for(let c=0;c<o;c++){const u=n?c:i[c];(!n&&r.includes(u)||n)&&t[u]===void 0&&e[u]===void 0?(a[u]=void 0,l++):(a[u]=nE(t[u],e[u]),a[u]===t[u]&&t[u]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function Fd(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function hw(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function eg(t){if(!pw(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!pw(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function pw(t){return Object.prototype.toString.call(t)==="[object Object]"}function LD(t){return new Promise(e=>{setTimeout(e,t)})}function tg(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?nE(t,e):e}function $D(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function FD(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var uy=Symbol();function rE(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===uy?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Oi,ws,aa,kb,zD=(kb=class extends Ga{constructor(){super();ie(this,Oi);ie(this,ws);ie(this,aa);G(this,aa,e=>{if(!Xi&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){T(this,ws)||this.setEventListener(T(this,aa))}onUnsubscribe(){var e;this.hasListeners()||((e=T(this,ws))==null||e.call(this),G(this,ws,void 0))}setEventListener(e){var n;G(this,aa,e),(n=T(this,ws))==null||n.call(this),G(this,ws,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){T(this,Oi)!==e&&(G(this,Oi,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof T(this,Oi)=="boolean"?T(this,Oi):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Oi=new WeakMap,ws=new WeakMap,aa=new WeakMap,kb),dy=new zD,la,xs,ca,Cb,BD=(Cb=class extends Ga{constructor(){super();ie(this,la,!0);ie(this,xs);ie(this,ca);G(this,ca,e=>{if(!Xi&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){T(this,xs)||this.setEventListener(T(this,ca))}onUnsubscribe(){var e;this.hasListeners()||((e=T(this,xs))==null||e.call(this),G(this,xs,void 0))}setEventListener(e){var n;G(this,ca,e),(n=T(this,xs))==null||n.call(this),G(this,xs,e(this.setOnline.bind(this)))}setOnline(e){T(this,la)!==e&&(G(this,la,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return T(this,la)}},la=new WeakMap,xs=new WeakMap,ca=new WeakMap,Cb),zd=new BD;function ng(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function VD(t){return Math.min(1e3*2**t,3e4)}function sE(t){return(t??"online")==="online"?zd.isOnline():!0}var iE=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function sp(t){return t instanceof iE}function oE(t){let e=!1,n=0,r=!1,s;const i=ng(),o=g=>{var w;r||(f(new iE(g)),(w=t.abort)==null||w.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>dy.isFocused()&&(t.networkMode==="always"||zd.isOnline())&&t.canRun(),u=()=>sE(t.networkMode)&&t.canRun(),d=g=>{var w;r||(r=!0,(w=t.onSuccess)==null||w.call(t,g),s==null||s(),i.resolve(g))},f=g=>{var w;r||(r=!0,(w=t.onError)==null||w.call(t,g),s==null||s(),i.reject(g))},h=()=>new Promise(g=>{var w;s=v=>{(r||c())&&g(v)},(w=t.onPause)==null||w.call(t)}).then(()=>{var g;s=void 0,r||(g=t.onContinue)==null||g.call(t)}),p=()=>{if(r)return;let g;const w=n===0?t.initialPromise:void 0;try{g=w??t.fn()}catch(v){g=Promise.reject(v)}Promise.resolve(g).then(d).catch(v=>{var C;if(r)return;const x=t.retry??(Xi?0:3),b=t.retryDelay??VD,S=typeof b=="function"?b(n,v):b,k=x===!0||typeof x=="number"&&n<x||typeof x=="function"&&x(n,v);if(e||!k){f(v);return}n++,(C=t.onFail)==null||C.call(t,n,v),LD(S).then(()=>c()?void 0:h()).then(()=>{e?f(v):p()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?p():h().then(p),i)}}function UD(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var nt=UD(),Pi,Eb,aE=(Eb=class{constructor(){ie(this,Pi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Zm(this.gcTime)&&G(this,Pi,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Xi?1/0:5*60*1e3))}clearGcTimeout(){T(this,Pi)&&(clearTimeout(T(this,Pi)),G(this,Pi,void 0))}},Pi=new WeakMap,Eb),ua,da,yn,Et,Ac,Ai,Ln,_r,_b,HD=(_b=class extends aE{constructor(e){super();ie(this,Ln);ie(this,ua);ie(this,da);ie(this,yn);ie(this,Et);ie(this,Ac);ie(this,Ai);G(this,Ai,!1),G(this,Ac,e.defaultOptions),this.setOptions(e.options),this.observers=[],G(this,yn,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,G(this,ua,WD(this.options)),this.state=e.state??T(this,ua),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=T(this,Et))==null?void 0:e.promise}setOptions(e){this.options={...T(this,Ac),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&T(this,yn).remove(this)}setData(e,n){const r=tg(this.state.data,e,this.options);return fe(this,Ln,_r).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){fe(this,Ln,_r).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=T(this,Et))==null?void 0:r.promise;return(s=T(this,Et))==null||s.cancel(e),n?n.then(vn).catch(vn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(T(this,ua))}isActive(){return this.observers.some(e=>Bn(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===uy||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!tE(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=T(this,Et))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=T(this,Et))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),T(this,yn).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(T(this,Et)&&(T(this,Ai)?T(this,Et).cancel({revert:!0}):T(this,Et).cancelRetry()),this.scheduleGc()),T(this,yn).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||fe(this,Ln,_r).call(this,{type:"invalidate"})}fetch(e,n){var l,c,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(T(this,Et))return T(this,Et).continueRetry(),T(this,Et).promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(f=>f.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,s=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(G(this,Ai,!0),r.signal)})},i=()=>{const d=rE(this.options,n),f={queryKey:this.queryKey,meta:this.meta};return s(f),G(this,Ai,!1),this.options.persister?this.options.persister(d,f,this):d(f)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};s(o),(l=this.options.behavior)==null||l.onFetch(o,this),G(this,da,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=o.fetchOptions)==null?void 0:c.meta))&&fe(this,Ln,_r).call(this,{type:"fetch",meta:(u=o.fetchOptions)==null?void 0:u.meta});const a=d=>{var f,h,p,g;sp(d)&&d.silent||fe(this,Ln,_r).call(this,{type:"error",error:d}),sp(d)||((h=(f=T(this,yn).config).onError)==null||h.call(f,d,this),(g=(p=T(this,yn).config).onSettled)==null||g.call(p,this.state.data,d,this)),this.scheduleGc()};return G(this,Et,oE({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:d=>{var f,h,p,g;if(d===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(w){a(w);return}(h=(f=T(this,yn).config).onSuccess)==null||h.call(f,d,this),(g=(p=T(this,yn).config).onSettled)==null||g.call(p,d,this.state.error,this),this.scheduleGc()},onError:a,onFail:(d,f)=>{fe(this,Ln,_r).call(this,{type:"failed",failureCount:d,error:f})},onPause:()=>{fe(this,Ln,_r).call(this,{type:"pause"})},onContinue:()=>{fe(this,Ln,_r).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),T(this,Et).start()}},ua=new WeakMap,da=new WeakMap,yn=new WeakMap,Et=new WeakMap,Ac=new WeakMap,Ai=new WeakMap,Ln=new WeakSet,_r=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...lE(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return sp(s)&&s.revert&&T(this,da)?{...T(this,da),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),nt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),T(this,yn).notify({query:this,type:"updated",action:e})})},_b);function lE(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:sE(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function WD(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var rr,Tb,KD=(Tb=class extends Ga{constructor(e={}){super();ie(this,rr);this.config=e,G(this,rr,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??cy(s,n);let o=this.get(i);return o||(o=new HD({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){T(this,rr).has(e.queryHash)||(T(this,rr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=T(this,rr).get(e.queryHash);n&&(e.destroy(),n===e&&T(this,rr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){nt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return T(this,rr).get(e)}getAll(){return[...T(this,rr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>dw(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>dw(e,r)):n}notify(e){nt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){nt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){nt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},rr=new WeakMap,Tb),sr,Dt,Ri,ir,is,Nb,qD=(Nb=class extends aE{constructor(e){super();ie(this,ir);ie(this,sr);ie(this,Dt);ie(this,Ri);this.mutationId=e.mutationId,G(this,Dt,e.mutationCache),G(this,sr,[]),this.state=e.state||cE(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){T(this,sr).includes(e)||(T(this,sr).push(e),this.clearGcTimeout(),T(this,Dt).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){G(this,sr,T(this,sr).filter(n=>n!==e)),this.scheduleGc(),T(this,Dt).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){T(this,sr).length||(this.state.status==="pending"?this.scheduleGc():T(this,Dt).remove(this))}continue(){var e;return((e=T(this,Ri))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,i,o,a,l,c,u,d,f,h,p,g,w,v,x,b,S,k,C,_;G(this,Ri,oE({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(M,O)=>{fe(this,ir,is).call(this,{type:"failed",failureCount:M,error:O})},onPause:()=>{fe(this,ir,is).call(this,{type:"pause"})},onContinue:()=>{fe(this,ir,is).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>T(this,Dt).canRun(this)}));const n=this.state.status==="pending",r=!T(this,Ri).canStart();try{if(!n){fe(this,ir,is).call(this,{type:"pending",variables:e,isPaused:r}),await((i=(s=T(this,Dt).config).onMutate)==null?void 0:i.call(s,e,this));const O=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e));O!==this.state.context&&fe(this,ir,is).call(this,{type:"pending",context:O,variables:e,isPaused:r})}const M=await T(this,Ri).start();return await((c=(l=T(this,Dt).config).onSuccess)==null?void 0:c.call(l,M,e,this.state.context,this)),await((d=(u=this.options).onSuccess)==null?void 0:d.call(u,M,e,this.state.context)),await((h=(f=T(this,Dt).config).onSettled)==null?void 0:h.call(f,M,null,this.state.variables,this.state.context,this)),await((g=(p=this.options).onSettled)==null?void 0:g.call(p,M,null,e,this.state.context)),fe(this,ir,is).call(this,{type:"success",data:M}),M}catch(M){try{throw await((v=(w=T(this,Dt).config).onError)==null?void 0:v.call(w,M,e,this.state.context,this)),await((b=(x=this.options).onError)==null?void 0:b.call(x,M,e,this.state.context)),await((k=(S=T(this,Dt).config).onSettled)==null?void 0:k.call(S,void 0,M,this.state.variables,this.state.context,this)),await((_=(C=this.options).onSettled)==null?void 0:_.call(C,void 0,M,e,this.state.context)),M}finally{fe(this,ir,is).call(this,{type:"error",error:M})}}finally{T(this,Dt).runNext(this)}}},sr=new WeakMap,Dt=new WeakMap,Ri=new WeakMap,ir=new WeakSet,is=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),nt.batch(()=>{T(this,sr).forEach(r=>{r.onMutationUpdate(e)}),T(this,Dt).notify({mutation:this,type:"updated",action:e})})},Nb);function cE(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var on,Rc,Mb,GD=(Mb=class extends Ga{constructor(e={}){super();ie(this,on);ie(this,Rc);this.config=e,G(this,on,new Map),G(this,Rc,Date.now())}build(e,n,r){const s=new qD({mutationCache:this,mutationId:++nu(this,Rc)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=_u(e),r=T(this,on).get(n)??[];r.push(e),T(this,on).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=_u(e);if(T(this,on).has(n)){const s=(r=T(this,on).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?T(this,on).delete(n):T(this,on).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=T(this,on).get(_u(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=T(this,on).get(_u(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){nt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...T(this,on).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>fw(n,r))}findAll(e={}){return this.getAll().filter(n=>fw(e,n))}notify(e){nt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return nt.batch(()=>Promise.all(e.map(n=>n.continue().catch(vn))))}},on=new WeakMap,Rc=new WeakMap,Mb);function _u(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function mw(t){return{onFetch:(e,n)=>{var u,d,f,h,p;const r=e.options,s=(f=(d=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:d.fetchMore)==null?void 0:f.direction,i=((h=e.state.data)==null?void 0:h.pages)||[],o=((p=e.state.data)==null?void 0:p.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let g=!1;const w=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},v=rE(e.options,e.fetchOptions),x=async(b,S,k)=>{if(g)return Promise.reject();if(S==null&&b.pages.length)return Promise.resolve(b);const C={queryKey:e.queryKey,pageParam:S,direction:k?"backward":"forward",meta:e.options.meta};w(C);const _=await v(C),{maxPages:M}=e.options,O=k?FD:$D;return{pages:O(b.pages,_,M),pageParams:O(b.pageParams,S,M)}};if(s&&i.length){const b=s==="backward",S=b?JD:gw,k={pages:i,pageParams:o},C=S(r,k);a=await x(k,C,b)}else{const b=t??i.length;do{const S=l===0?o[0]??r.initialPageParam:gw(r,a);if(l>0&&S==null)break;a=await x(a,S),l++}while(l<b)}return a};e.options.persister?e.fetchFn=()=>{var g,w;return(w=(g=e.options).persister)==null?void 0:w.call(g,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function gw(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function JD(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var $e,bs,Ss,fa,ha,ks,pa,ma,Ob,QD=(Ob=class{constructor(t={}){ie(this,$e);ie(this,bs);ie(this,Ss);ie(this,fa);ie(this,ha);ie(this,ks);ie(this,pa);ie(this,ma);G(this,$e,t.queryCache||new KD),G(this,bs,t.mutationCache||new GD),G(this,Ss,t.defaultOptions||{}),G(this,fa,new Map),G(this,ha,new Map),G(this,ks,0)}mount(){nu(this,ks)._++,T(this,ks)===1&&(G(this,pa,dy.subscribe(async t=>{t&&(await this.resumePausedMutations(),T(this,$e).onFocus())})),G(this,ma,zd.subscribe(async t=>{t&&(await this.resumePausedMutations(),T(this,$e).onOnline())})))}unmount(){var t,e;nu(this,ks)._--,T(this,ks)===0&&((t=T(this,pa))==null||t.call(this),G(this,pa,void 0),(e=T(this,ma))==null||e.call(this),G(this,ma,void 0))}isFetching(t){return T(this,$e).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return T(this,bs).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=T(this,$e).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=T(this,$e).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(ea(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return T(this,$e).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=T(this,$e).get(r.queryHash),i=s==null?void 0:s.state.data,o=jD(e,i);if(o!==void 0)return T(this,$e).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return nt.batch(()=>T(this,$e).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=T(this,$e).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=T(this,$e);nt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=T(this,$e),r={type:"active",...t};return nt.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=nt.batch(()=>T(this,$e).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(vn).catch(vn)}invalidateQueries(t={},e={}){return nt.batch(()=>{if(T(this,$e).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=nt.batch(()=>T(this,$e).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(vn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(vn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=T(this,$e).build(this,e);return n.isStaleByTime(ea(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(vn).catch(vn)}fetchInfiniteQuery(t){return t.behavior=mw(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(vn).catch(vn)}ensureInfiniteQueryData(t){return t.behavior=mw(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return zd.isOnline()?T(this,bs).resumePausedMutations():Promise.resolve()}getQueryCache(){return T(this,$e)}getMutationCache(){return T(this,bs)}getDefaultOptions(){return T(this,Ss)}setDefaultOptions(t){G(this,Ss,t)}setQueryDefaults(t,e){T(this,fa).set(Zi(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...T(this,fa).values()];let n={};return e.forEach(r=>{mc(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){T(this,ha).set(Zi(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...T(this,ha).values()];let n={};return e.forEach(r=>{mc(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...T(this,Ss).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=cy(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===uy&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...T(this,Ss).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){T(this,$e).clear(),T(this,bs).clear()}},$e=new WeakMap,bs=new WeakMap,Ss=new WeakMap,fa=new WeakMap,ha=new WeakMap,ks=new WeakMap,pa=new WeakMap,ma=new WeakMap,Ob),qt,we,Ic,jt,Ii,ga,Cs,or,Dc,ya,va,Di,ji,Es,wa,ke,kl,rg,sg,ig,og,ag,lg,cg,uE,Pb,YD=(Pb=class extends Ga{constructor(e,n){super();ie(this,ke);ie(this,qt);ie(this,we);ie(this,Ic);ie(this,jt);ie(this,Ii);ie(this,ga);ie(this,Cs);ie(this,or);ie(this,Dc);ie(this,ya);ie(this,va);ie(this,Di);ie(this,ji);ie(this,Es);ie(this,wa,new Set);this.options=n,G(this,qt,e),G(this,or,null),G(this,Cs,ng()),this.options.experimental_prefetchInRender||T(this,Cs).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(T(this,we).addObserver(this),yw(T(this,we),this.options)?fe(this,ke,kl).call(this):this.updateResult(),fe(this,ke,og).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ug(T(this,we),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ug(T(this,we),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,fe(this,ke,ag).call(this),fe(this,ke,lg).call(this),T(this,we).removeObserver(this)}setOptions(e,n){const r=this.options,s=T(this,we);if(this.options=T(this,qt).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Bn(this.options.enabled,T(this,we))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");fe(this,ke,cg).call(this),T(this,we).setOptions(this.options),r._defaulted&&!Fd(this.options,r)&&T(this,qt).getQueryCache().notify({type:"observerOptionsUpdated",query:T(this,we),observer:this});const i=this.hasListeners();i&&vw(T(this,we),s,this.options,r)&&fe(this,ke,kl).call(this),this.updateResult(n),i&&(T(this,we)!==s||Bn(this.options.enabled,T(this,we))!==Bn(r.enabled,T(this,we))||ea(this.options.staleTime,T(this,we))!==ea(r.staleTime,T(this,we)))&&fe(this,ke,rg).call(this);const o=fe(this,ke,sg).call(this);i&&(T(this,we)!==s||Bn(this.options.enabled,T(this,we))!==Bn(r.enabled,T(this,we))||o!==T(this,Es))&&fe(this,ke,ig).call(this,o)}getOptimisticResult(e){const n=T(this,qt).getQueryCache().build(T(this,qt),e),r=this.createResult(n,e);return ZD(this,r)&&(G(this,jt,r),G(this,ga,this.options),G(this,Ii,T(this,we).state)),r}getCurrentResult(){return T(this,jt)}trackResult(e,n){const r={};return Object.keys(e).forEach(s=>{Object.defineProperty(r,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),n==null||n(s),e[s])})}),r}trackProp(e){T(this,wa).add(e)}getCurrentQuery(){return T(this,we)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=T(this,qt).defaultQueryOptions(e),r=T(this,qt).getQueryCache().build(T(this,qt),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return fe(this,ke,kl).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),T(this,jt)))}createResult(e,n){var M;const r=T(this,we),s=this.options,i=T(this,jt),o=T(this,Ii),a=T(this,ga),c=e!==r?e.state:T(this,Ic),{state:u}=e;let d={...u},f=!1,h;if(n._optimisticResults){const O=this.hasListeners(),P=!O&&yw(e,n),L=O&&vw(e,r,n,s);(P||L)&&(d={...d,...lE(u.data,e.options)}),n._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:p,errorUpdatedAt:g,status:w}=d;if(n.select&&d.data!==void 0)if(i&&d.data===(o==null?void 0:o.data)&&n.select===T(this,Dc))h=T(this,ya);else try{G(this,Dc,n.select),h=n.select(d.data),h=tg(i==null?void 0:i.data,h,n),G(this,ya,h),G(this,or,null)}catch(O){G(this,or,O)}else h=d.data;if(n.placeholderData!==void 0&&h===void 0&&w==="pending"){let O;if(i!=null&&i.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData))O=i.data;else if(O=typeof n.placeholderData=="function"?n.placeholderData((M=T(this,va))==null?void 0:M.state.data,T(this,va)):n.placeholderData,n.select&&O!==void 0)try{O=n.select(O),G(this,or,null)}catch(P){G(this,or,P)}O!==void 0&&(w="success",h=tg(i==null?void 0:i.data,O,n),f=!0)}T(this,or)&&(p=T(this,or),h=T(this,ya),g=Date.now(),w="error");const v=d.fetchStatus==="fetching",x=w==="pending",b=w==="error",S=x&&v,k=h!==void 0,_={status:w,fetchStatus:d.fetchStatus,isPending:x,isSuccess:w==="success",isError:b,isInitialLoading:S,isLoading:S,data:h,dataUpdatedAt:d.dataUpdatedAt,error:p,errorUpdatedAt:g,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>c.dataUpdateCount||d.errorUpdateCount>c.errorUpdateCount,isFetching:v,isRefetching:v&&!x,isLoadingError:b&&!k,isPaused:d.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:b&&k,isStale:fy(e,n),refetch:this.refetch,promise:T(this,Cs)};if(this.options.experimental_prefetchInRender){const O=I=>{_.status==="error"?I.reject(_.error):_.data!==void 0&&I.resolve(_.data)},P=()=>{const I=G(this,Cs,_.promise=ng());O(I)},L=T(this,Cs);switch(L.status){case"pending":e.queryHash===r.queryHash&&O(L);break;case"fulfilled":(_.status==="error"||_.data!==L.value)&&P();break;case"rejected":(_.status!=="error"||_.error!==L.reason)&&P();break}}return _}updateResult(e){const n=T(this,jt),r=this.createResult(T(this,we),this.options);if(G(this,Ii,T(this,we).state),G(this,ga,this.options),T(this,Ii).data!==void 0&&G(this,va,T(this,we)),Fd(r,n))return;G(this,jt,r);const s={},i=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!T(this,wa).size)return!0;const l=new Set(a??T(this,wa));return this.options.throwOnError&&l.add("error"),Object.keys(T(this,jt)).some(c=>{const u=c;return T(this,jt)[u]!==n[u]&&l.has(u)})};(e==null?void 0:e.listeners)!==!1&&i()&&(s.listeners=!0),fe(this,ke,uE).call(this,{...s,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&fe(this,ke,og).call(this)}},qt=new WeakMap,we=new WeakMap,Ic=new WeakMap,jt=new WeakMap,Ii=new WeakMap,ga=new WeakMap,Cs=new WeakMap,or=new WeakMap,Dc=new WeakMap,ya=new WeakMap,va=new WeakMap,Di=new WeakMap,ji=new WeakMap,Es=new WeakMap,wa=new WeakMap,ke=new WeakSet,kl=function(e){fe(this,ke,cg).call(this);let n=T(this,we).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(vn)),n},rg=function(){fe(this,ke,ag).call(this);const e=ea(this.options.staleTime,T(this,we));if(Xi||T(this,jt).isStale||!Zm(e))return;const r=tE(T(this,jt).dataUpdatedAt,e)+1;G(this,Di,setTimeout(()=>{T(this,jt).isStale||this.updateResult()},r))},sg=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(T(this,we)):this.options.refetchInterval)??!1},ig=function(e){fe(this,ke,lg).call(this),G(this,Es,e),!(Xi||Bn(this.options.enabled,T(this,we))===!1||!Zm(T(this,Es))||T(this,Es)===0)&&G(this,ji,setInterval(()=>{(this.options.refetchIntervalInBackground||dy.isFocused())&&fe(this,ke,kl).call(this)},T(this,Es)))},og=function(){fe(this,ke,rg).call(this),fe(this,ke,ig).call(this,fe(this,ke,sg).call(this))},ag=function(){T(this,Di)&&(clearTimeout(T(this,Di)),G(this,Di,void 0))},lg=function(){T(this,ji)&&(clearInterval(T(this,ji)),G(this,ji,void 0))},cg=function(){const e=T(this,qt).getQueryCache().build(T(this,qt),this.options);if(e===T(this,we))return;const n=T(this,we);G(this,we,e),G(this,Ic,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},uE=function(e){nt.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(T(this,jt))}),T(this,qt).getQueryCache().notify({query:T(this,we),type:"observerResultsUpdated"})})},Pb);function XD(t,e){return Bn(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function yw(t,e){return XD(t,e)||t.state.data!==void 0&&ug(t,e,e.refetchOnMount)}function ug(t,e,n){if(Bn(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&fy(t,e)}return!1}function vw(t,e,n,r){return(t!==e||Bn(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&fy(t,n)}function fy(t,e){return Bn(e.enabled,t)!==!1&&t.isStaleByTime(ea(e.staleTime,t))}function ZD(t,e){return!Fd(t.getCurrentResult(),e)}var _s,Ts,Gt,Pr,Fr,ed,dg,Ab,ej=(Ab=class extends Ga{constructor(n,r){super();ie(this,Fr);ie(this,_s);ie(this,Ts);ie(this,Gt);ie(this,Pr);G(this,_s,n),this.setOptions(r),this.bindMethods(),fe(this,Fr,ed).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=T(this,_s).defaultMutationOptions(n),Fd(this.options,r)||T(this,_s).getMutationCache().notify({type:"observerOptionsUpdated",mutation:T(this,Gt),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Zi(r.mutationKey)!==Zi(this.options.mutationKey)?this.reset():((s=T(this,Gt))==null?void 0:s.state.status)==="pending"&&T(this,Gt).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=T(this,Gt))==null||n.removeObserver(this)}onMutationUpdate(n){fe(this,Fr,ed).call(this),fe(this,Fr,dg).call(this,n)}getCurrentResult(){return T(this,Ts)}reset(){var n;(n=T(this,Gt))==null||n.removeObserver(this),G(this,Gt,void 0),fe(this,Fr,ed).call(this),fe(this,Fr,dg).call(this)}mutate(n,r){var s;return G(this,Pr,r),(s=T(this,Gt))==null||s.removeObserver(this),G(this,Gt,T(this,_s).getMutationCache().build(T(this,_s),this.options)),T(this,Gt).addObserver(this),T(this,Gt).execute(n)}},_s=new WeakMap,Ts=new WeakMap,Gt=new WeakMap,Pr=new WeakMap,Fr=new WeakSet,ed=function(){var r;const n=((r=T(this,Gt))==null?void 0:r.state)??cE();G(this,Ts,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},dg=function(n){nt.batch(()=>{var r,s,i,o,a,l,c,u;if(T(this,Pr)&&this.hasListeners()){const d=T(this,Ts).variables,f=T(this,Ts).context;(n==null?void 0:n.type)==="success"?((s=(r=T(this,Pr)).onSuccess)==null||s.call(r,n.data,d,f),(o=(i=T(this,Pr)).onSettled)==null||o.call(i,n.data,null,d,f)):(n==null?void 0:n.type)==="error"&&((l=(a=T(this,Pr)).onError)==null||l.call(a,n.error,d,f),(u=(c=T(this,Pr)).onSettled)==null||u.call(c,void 0,n.error,d,f))}this.listeners.forEach(d=>{d(T(this,Ts))})})},Ab),dE=y.createContext(void 0),qf=t=>{const e=y.useContext(dE);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},tj=({client:t,children:e})=>(y.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),m.jsx(dE.Provider,{value:t,children:e})),fE=y.createContext(!1),nj=()=>y.useContext(fE);fE.Provider;function rj(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var sj=y.createContext(rj()),ij=()=>y.useContext(sj);function hE(t,e){return typeof t=="function"?t(...e):!!t}function pE(){}var oj=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},aj=t=>{y.useEffect(()=>{t.clearReset()},[t])},lj=({result:t,errorResetBoundary:e,throwOnError:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&hE(n,[t.error,r]),cj=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},uj=(t,e)=>t.isLoading&&t.isFetching&&!e,dj=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,ww=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function fj(t,e,n){var u,d,f,h,p;const r=qf(),s=nj(),i=ij(),o=r.defaultQueryOptions(t);(d=(u=r.getDefaultOptions().queries)==null?void 0:u._experimental_beforeQuery)==null||d.call(u,o),o._optimisticResults=s?"isRestoring":"optimistic",cj(o),oj(o,i),aj(i);const a=!r.getQueryCache().get(o.queryHash),[l]=y.useState(()=>new e(r,o)),c=l.getOptimisticResult(o);if(y.useSyncExternalStore(y.useCallback(g=>{const w=s?()=>{}:l.subscribe(nt.batchCalls(g));return l.updateResult(),w},[l,s]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),y.useEffect(()=>{l.setOptions(o,{listeners:!1})},[o,l]),dj(o,c))throw ww(o,l,i);if(lj({result:c,errorResetBoundary:i,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw c.error;if((h=(f=r.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||h.call(f,o,c),o.experimental_prefetchInRender&&!Xi&&uj(c,s)){const g=a?ww(o,l,i):(p=r.getQueryCache().get(o.queryHash))==null?void 0:p.promise;g==null||g.catch(pE).finally(()=>{l.updateResult()})}return o.notifyOnChangeProps?c:l.trackResult(c)}function mE(t,e){return fj(t,YD)}function Vo(t,e){const n=qf(),[r]=y.useState(()=>new ej(n,t));y.useEffect(()=>{r.setOptions(t)},[r,t]);const s=y.useSyncExternalStore(y.useCallback(o=>r.subscribe(nt.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=y.useCallback((o,a)=>{r.mutate(o,a).catch(pE)},[r]);if(s.error&&hE(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}const hj=t=>{const{toast:e}=co(),n=z0();return mE({queryKey:["library-items",t],queryFn:async()=>{const{data:{user:r}}=await ye.auth.getUser();if(!r)return n("/login"),[];let s=ye.from("library_items").select("*").order("created_at",{ascending:!1});t&&(s=s.or(`title.ilike.%${t}%,content.ilike.%${t}%`));const{data:i,error:o}=await s;return o?(console.error("Error fetching library items:",o),e({title:"שגיאה בטעינת פריטים",description:o.message,variant:"destructive"}),[]):i}})},xw=async(t,e)=>{console.log("Uploading file to storage:",{fileName:t.name,userId:e});const n=t.name.split(".").pop(),r=`${crypto.randomUUID()}.${n}`,s=`${e}/${r}`,{error:i}=await ye.storage.from("content_library").upload(s,t);if(i)throw console.error("Error uploading file:",i),i;const{data:{publicUrl:o}}=ye.storage.from("content_library").getPublicUrl(s);return{publicUrl:o,filePath:s,fileName:t.name,fileSize:t.size,mimeType:t.type}},pj=()=>{const{toast:t}=co(),e=qf(),n=Vo({mutationFn:async({title:o,content:a,type:l,file:c})=>{const{data:{user:u}}=await ye.auth.getUser();if(!u)throw new Error("User not authenticated");let d=null;if(c){const{publicUrl:h,filePath:p,fileName:g,fileSize:w,mimeType:v}=await xw(c,u.id);d={path:h,name:g,size:w,type:v}}const{error:f}=await ye.from("library_items").insert({title:o,content:a,type:l,file_details:d,user_id:u.id});if(f)throw f},onSuccess:()=>{e.invalidateQueries({queryKey:["library-items"]}),t({title:"הפריט נוסף בהצלחה"})},onError:o=>{console.error("Error adding item:",o),t({title:"שגיאה בהוספת הפריט",description:o.message,variant:"destructive"})}}),r=Vo({mutationFn:async({id:o,title:a,content:l,type:c,file:u})=>{const{data:{user:d}}=await ye.auth.getUser();if(!d)throw new Error("User not authenticated");let f=null;if(u){const{publicUrl:p,filePath:g,fileName:w,fileSize:v,mimeType:x}=await xw(u,d.id);f={path:p,name:w,size:v,type:x}}const{error:h}=await ye.from("library_items").update({title:a,content:l,type:c,...f&&{file_details:f}}).eq("id",o);if(h)throw h},onSuccess:()=>{e.invalidateQueries({queryKey:["library-items"]}),t({title:"הפריט עודכן בהצלחה"})},onError:o=>{console.error("Error updating item:",o),t({title:"שגיאה בעדכון הפריט",description:o.message,variant:"destructive"})}}),s=Vo({mutationFn:async o=>{const{error:a}=await ye.from("library_items").delete().eq("id",o);if(a)throw a},onSuccess:()=>{e.invalidateQueries({queryKey:["library-items"]}),t({title:"הפריט נמחק בהצלחה"})},onError:o=>{console.error("Error deleting item:",o),t({title:"שגיאה במחיקת הפריט",description:o.message,variant:"destructive"})}}),i=Vo({mutationFn:async({id:o,is_starred:a})=>{const{error:l}=await ye.from("library_items").update({is_starred:a}).eq("id",o);if(l)throw l},onSuccess:()=>{e.invalidateQueries({queryKey:["library-items"]})},onError:o=>{console.error("Error toggling star:",o),t({title:"שגיאה בעדכון הפריט",description:o.message,variant:"destructive"})}});return{addItem:n,updateItem:r,deleteItem:s,toggleStar:i}},mj=()=>{const[t,e]=y.useState(""),{data:n=[],isLoading:r}=hj(t),s=pj();return{items:n,isLoading:r,filter:t,setFilter:e,...s}},Hs=y.forwardRef(({className:t,type:e,...n},r)=>m.jsx("input",{type:e,className:ce("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Hs.displayName="Input";function gj({type:t,src:e,title:n}){return t==="pdf"?m.jsxs(Ge,{className:"p-4 flex items-center gap-2",children:[m.jsx(Bm,{className:"w-6 h-6 text-red-500"}),m.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:n})]}):t==="image"?m.jsx(Ge,{className:"overflow-hidden",children:m.jsx("img",{src:e,alt:n,className:"w-full h-auto"})}):t==="video"?m.jsx(Ge,{className:"overflow-hidden",children:m.jsxs("video",{controls:!0,className:"w-full h-auto",children:[m.jsx("source",{src:e,type:"video/mp4"}),"הדפדפן שלך לא תומך בתגית וידאו."]})}):null}var ip="focusScope.autoFocusOnMount",op="focusScope.autoFocusOnUnmount",bw={bubbles:!1,cancelable:!0},yj="FocusScope",hy=y.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=y.useState(null),c=Be(s),u=Be(i),d=y.useRef(null),f=_e(e,g=>l(g)),h=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(r){let g=function(b){if(h.paused||!a)return;const S=b.target;a.contains(S)?d.current=S:as(d.current,{select:!0})},w=function(b){if(h.paused||!a)return;const S=b.relatedTarget;S!==null&&(a.contains(S)||as(d.current,{select:!0}))},v=function(b){if(document.activeElement===document.body)for(const k of b)k.removedNodes.length>0&&as(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",w);const x=new MutationObserver(v);return a&&x.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",w),x.disconnect()}}},[r,a,h.paused]),y.useEffect(()=>{if(a){kw.add(h);const g=document.activeElement;if(!a.contains(g)){const v=new CustomEvent(ip,bw);a.addEventListener(ip,c),a.dispatchEvent(v),v.defaultPrevented||(vj(kj(gE(a)),{select:!0}),document.activeElement===g&&as(a))}return()=>{a.removeEventListener(ip,c),setTimeout(()=>{const v=new CustomEvent(op,bw);a.addEventListener(op,u),a.dispatchEvent(v),v.defaultPrevented||as(g??document.body,{select:!0}),a.removeEventListener(op,u),kw.remove(h)},0)}}},[a,c,u,h]);const p=y.useCallback(g=>{if(!n&&!r||h.paused)return;const w=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,v=document.activeElement;if(w&&v){const x=g.currentTarget,[b,S]=wj(x);b&&S?!g.shiftKey&&v===S?(g.preventDefault(),n&&as(b,{select:!0})):g.shiftKey&&v===b&&(g.preventDefault(),n&&as(S,{select:!0})):v===x&&g.preventDefault()}},[n,r,h.paused]);return m.jsx(ae.div,{tabIndex:-1,...o,ref:f,onKeyDown:p})});hy.displayName=yj;function vj(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(as(r,{select:e}),document.activeElement!==n)return}function wj(t){const e=gE(t),n=Sw(e,t),r=Sw(e.reverse(),t);return[n,r]}function gE(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Sw(t,e){for(const n of t)if(!xj(n,{upTo:e}))return n}function xj(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function bj(t){return t instanceof HTMLInputElement&&"select"in t}function as(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&bj(t)&&e&&t.select()}}var kw=Sj();function Sj(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=Cw(t,e),t.unshift(e)},remove(e){var n;t=Cw(t,e),(n=t[0])==null||n.resume()}}}function Cw(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function kj(t){return t.filter(e=>e.tagName!=="A")}var ap=0;function yE(){y.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Ew()),document.body.insertAdjacentElement("beforeend",t[1]??Ew()),ap++,()=>{ap===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),ap--}},[])}function Ew(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var lr=function(){return lr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},lr.apply(this,arguments)};function vE(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function Cj(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var td="right-scroll-bar-position",nd="width-before-scroll-bar",Ej="with-scroll-bars-hidden",_j="--removed-body-scroll-bar-size";function lp(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Tj(t,e){var n=y.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var Nj=typeof window<"u"?y.useLayoutEffect:y.useEffect,_w=new WeakMap;function Mj(t,e){var n=Tj(null,function(r){return t.forEach(function(s){return lp(s,r)})});return Nj(function(){var r=_w.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||lp(a,null)}),i.forEach(function(a){s.has(a)||lp(a,o)})}_w.set(n,t)},[t]),n}function Oj(t){return t}function Pj(t,e){e===void 0&&(e=Oj);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var u=o;o=[],u.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),n}}}};return s}function Aj(t){t===void 0&&(t={});var e=Pj(null);return e.options=lr({async:!0,ssr:!1},t),e}var wE=function(t){var e=t.sideCar,n=vE(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return y.createElement(r,lr({},n))};wE.isSideCarExport=!0;function Rj(t,e){return t.useMedium(e),wE}var xE=Aj(),cp=function(){},Gf=y.forwardRef(function(t,e){var n=y.useRef(null),r=y.useState({onScrollCapture:cp,onWheelCapture:cp,onTouchMoveCapture:cp}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,d=t.shards,f=t.sideCar,h=t.noIsolation,p=t.inert,g=t.allowPinchZoom,w=t.as,v=w===void 0?"div":w,x=t.gapMode,b=vE(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=f,k=Mj([n,e]),C=lr(lr({},b),s);return y.createElement(y.Fragment,null,u&&y.createElement(S,{sideCar:xE,removeScrollBar:c,shards:d,noIsolation:h,inert:p,setCallbacks:i,allowPinchZoom:!!g,lockRef:n,gapMode:x}),o?y.cloneElement(y.Children.only(a),lr(lr({},C),{ref:k})):y.createElement(v,lr({},C,{className:l,ref:k}),a))});Gf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Gf.classNames={fullWidth:nd,zeroRight:td};var Ij=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Dj(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Ij();return e&&t.setAttribute("nonce",e),t}function jj(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Lj(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var $j=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Dj())&&(jj(e,n),Lj(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Fj=function(){var t=$j();return function(e,n){y.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},bE=function(){var t=Fj(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},zj={left:0,top:0,right:0,gap:0},up=function(t){return parseInt(t||"",10)||0},Bj=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[up(n),up(r),up(s)]},Vj=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return zj;var e=Bj(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Uj=bE(),ta="data-scroll-locked",Hj=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Ej,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(ta,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(td,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(nd,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(td," .").concat(td,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(nd," .").concat(nd,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ta,`] {
    `).concat(_j,": ").concat(a,`px;
  }
`)},Tw=function(){var t=parseInt(document.body.getAttribute(ta)||"0",10);return isFinite(t)?t:0},Wj=function(){y.useEffect(function(){return document.body.setAttribute(ta,(Tw()+1).toString()),function(){var t=Tw()-1;t<=0?document.body.removeAttribute(ta):document.body.setAttribute(ta,t.toString())}},[])},Kj=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;Wj();var i=y.useMemo(function(){return Vj(s)},[s]);return y.createElement(Uj,{styles:Hj(i,!e,s,n?"":"!important")})},fg=!1;if(typeof window<"u")try{var Tu=Object.defineProperty({},"passive",{get:function(){return fg=!0,!0}});window.addEventListener("test",Tu,Tu),window.removeEventListener("test",Tu,Tu)}catch{fg=!1}var bo=fg?{passive:!1}:!1,qj=function(t){return t.tagName==="TEXTAREA"},SE=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!qj(t)&&n[e]==="visible")},Gj=function(t){return SE(t,"overflowY")},Jj=function(t){return SE(t,"overflowX")},Nw=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=kE(t,r);if(s){var i=CE(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Qj=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Yj=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},kE=function(t,e){return t==="v"?Gj(e):Jj(e)},CE=function(t,e){return t==="v"?Qj(e):Yj(e)},Xj=function(t,e){return t==="h"&&e==="rtl"?-1:1},Zj=function(t,e,n,r,s){var i=Xj(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,u=o>0,d=0,f=0;do{var h=CE(t,a),p=h[0],g=h[1],w=h[2],v=g-w-i*p;(p||v)&&kE(t,a)&&(d+=v,f+=p),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&(Math.abs(d)<1||!s)||!u&&(Math.abs(f)<1||!s))&&(c=!0),c},Nu=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Mw=function(t){return[t.deltaX,t.deltaY]},Ow=function(t){return t&&"current"in t?t.current:t},e6=function(t,e){return t[0]===e[0]&&t[1]===e[1]},t6=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},n6=0,So=[];function r6(t){var e=y.useRef([]),n=y.useRef([0,0]),r=y.useRef(),s=y.useState(n6++)[0],i=y.useState(bE)[0],o=y.useRef(t);y.useEffect(function(){o.current=t},[t]),y.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var g=Cj([t.lockRef.current],(t.shards||[]).map(Ow),!0).filter(Boolean);return g.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=y.useCallback(function(g,w){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var v=Nu(g),x=n.current,b="deltaX"in g?g.deltaX:x[0]-v[0],S="deltaY"in g?g.deltaY:x[1]-v[1],k,C=g.target,_=Math.abs(b)>Math.abs(S)?"h":"v";if("touches"in g&&_==="h"&&C.type==="range")return!1;var M=Nw(_,C);if(!M)return!0;if(M?k=_:(k=_==="v"?"h":"v",M=Nw(_,C)),!M)return!1;if(!r.current&&"changedTouches"in g&&(b||S)&&(r.current=k),!k)return!0;var O=r.current||k;return Zj(O,w,g,O==="h"?b:S,!0)},[]),l=y.useCallback(function(g){var w=g;if(!(!So.length||So[So.length-1]!==i)){var v="deltaY"in w?Mw(w):Nu(w),x=e.current.filter(function(k){return k.name===w.type&&(k.target===w.target||w.target===k.shadowParent)&&e6(k.delta,v)})[0];if(x&&x.should){w.cancelable&&w.preventDefault();return}if(!x){var b=(o.current.shards||[]).map(Ow).filter(Boolean).filter(function(k){return k.contains(w.target)}),S=b.length>0?a(w,b[0]):!o.current.noIsolation;S&&w.cancelable&&w.preventDefault()}}},[]),c=y.useCallback(function(g,w,v,x){var b={name:g,delta:w,target:v,should:x,shadowParent:s6(v)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(S){return S!==b})},1)},[]),u=y.useCallback(function(g){n.current=Nu(g),r.current=void 0},[]),d=y.useCallback(function(g){c(g.type,Mw(g),g.target,a(g,t.lockRef.current))},[]),f=y.useCallback(function(g){c(g.type,Nu(g),g.target,a(g,t.lockRef.current))},[]);y.useEffect(function(){return So.push(i),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",l,bo),document.addEventListener("touchmove",l,bo),document.addEventListener("touchstart",u,bo),function(){So=So.filter(function(g){return g!==i}),document.removeEventListener("wheel",l,bo),document.removeEventListener("touchmove",l,bo),document.removeEventListener("touchstart",u,bo)}},[]);var h=t.removeScrollBar,p=t.inert;return y.createElement(y.Fragment,null,p?y.createElement(i,{styles:t6(s)}):null,h?y.createElement(Kj,{gapMode:t.gapMode}):null)}function s6(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const i6=Rj(xE,r6);var py=y.forwardRef(function(t,e){return y.createElement(Gf,lr({},t,{ref:e,sideCar:i6}))});py.classNames=Gf.classNames;var o6=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},ko=new WeakMap,Mu=new WeakMap,Ou={},dp=0,EE=function(t){return t&&(t.host||EE(t.parentNode))},a6=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=EE(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},l6=function(t,e,n,r){var s=a6(e,Array.isArray(t)?t:[t]);Ou[n]||(Ou[n]=new WeakMap);var i=Ou[n],o=[],a=new Set,l=new Set(s),c=function(d){!d||a.has(d)||(a.add(d),c(d.parentNode))};s.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(f){if(a.has(f))u(f);else try{var h=f.getAttribute(r),p=h!==null&&h!=="false",g=(ko.get(f)||0)+1,w=(i.get(f)||0)+1;ko.set(f,g),i.set(f,w),o.push(f),g===1&&p&&Mu.set(f,!0),w===1&&f.setAttribute(n,"true"),p||f.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",f,v)}})};return u(e),a.clear(),dp++,function(){o.forEach(function(d){var f=ko.get(d)-1,h=i.get(d)-1;ko.set(d,f),i.set(d,h),f||(Mu.has(d)||d.removeAttribute(r),Mu.delete(d)),h||d.removeAttribute(n)}),dp--,dp||(ko=new WeakMap,ko=new WeakMap,Mu=new WeakMap,Ou={})}},_E=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=o6(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),l6(r,s,n,"aria-hidden")):function(){return null}},my="Dialog",[TE,pW]=Jr(my),[c6,Yn]=TE(my),NE=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=y.useRef(null),l=y.useRef(null),[c=!1,u]=Qr({prop:r,defaultProp:s,onChange:i});return m.jsx(c6,{scope:e,triggerRef:a,contentRef:l,contentId:Lr(),titleId:Lr(),descriptionId:Lr(),open:c,onOpenChange:u,onOpenToggle:y.useCallback(()=>u(d=>!d),[u]),modal:o,children:n})};NE.displayName=my;var ME="DialogTrigger",OE=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Yn(ME,n),i=_e(e,s.triggerRef);return m.jsx(ae.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":vy(s.open),...r,ref:i,onClick:ee(t.onClick,s.onOpenToggle)})});OE.displayName=ME;var gy="DialogPortal",[u6,PE]=TE(gy,{forceMount:void 0}),AE=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=Yn(gy,e);return m.jsx(u6,{scope:e,forceMount:n,children:y.Children.map(r,o=>m.jsx(Pt,{present:n||i.open,children:m.jsx(If,{asChild:!0,container:s,children:o})}))})};AE.displayName=gy;var Bd="DialogOverlay",RE=y.forwardRef((t,e)=>{const n=PE(Bd,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Yn(Bd,t.__scopeDialog);return i.modal?m.jsx(Pt,{present:r||i.open,children:m.jsx(d6,{...s,ref:e})}):null});RE.displayName=Bd;var d6=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Yn(Bd,n);return m.jsx(py,{as:Yi,allowPinchZoom:!0,shards:[s.contentRef],children:m.jsx(ae.div,{"data-state":vy(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),eo="DialogContent",IE=y.forwardRef((t,e)=>{const n=PE(eo,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Yn(eo,t.__scopeDialog);return m.jsx(Pt,{present:r||i.open,children:i.modal?m.jsx(f6,{...s,ref:e}):m.jsx(h6,{...s,ref:e})})});IE.displayName=eo;var f6=y.forwardRef((t,e)=>{const n=Yn(eo,t.__scopeDialog),r=y.useRef(null),s=_e(e,n.contentRef,r);return y.useEffect(()=>{const i=r.current;if(i)return _E(i)},[]),m.jsx(DE,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ee(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ee(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:ee(t.onFocusOutside,i=>i.preventDefault())})}),h6=y.forwardRef((t,e)=>{const n=Yn(eo,t.__scopeDialog),r=y.useRef(!1),s=y.useRef(!1);return m.jsx(DE,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),DE=y.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=Yn(eo,n),l=y.useRef(null),c=_e(e,l);return yE(),m.jsxs(m.Fragment,{children:[m.jsx(hy,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:m.jsx(Rf,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":vy(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),m.jsxs(m.Fragment,{children:[m.jsx(p6,{titleId:a.titleId}),m.jsx(g6,{contentRef:l,descriptionId:a.descriptionId})]})]})}),yy="DialogTitle",jE=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Yn(yy,n);return m.jsx(ae.h2,{id:s.titleId,...r,ref:e})});jE.displayName=yy;var LE="DialogDescription",$E=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Yn(LE,n);return m.jsx(ae.p,{id:s.descriptionId,...r,ref:e})});$E.displayName=LE;var FE="DialogClose",zE=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Yn(FE,n);return m.jsx(ae.button,{type:"button",...r,ref:e,onClick:ee(t.onClick,()=>s.onOpenChange(!1))})});zE.displayName=FE;function vy(t){return t?"open":"closed"}var BE="DialogTitleWarning",[mW,VE]=TP(BE,{contentName:eo,titleName:yy,docsSlug:"dialog"}),p6=({titleId:t})=>{const e=VE(BE),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return y.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},m6="DialogDescriptionWarning",g6=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${VE(m6).contentName}}.`;return y.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},y6=NE,v6=OE,w6=AE,UE=RE,HE=IE,WE=jE,KE=$E,x6=zE;const Ma=y6,b6=v6,S6=w6,qE=y.forwardRef(({className:t,...e},n)=>m.jsx(UE,{ref:n,className:ce("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));qE.displayName=UE.displayName;const to=y.forwardRef(({className:t,children:e,...n},r)=>m.jsxs(S6,{children:[m.jsx(qE,{}),m.jsxs(HE,{ref:r,className:ce("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,m.jsxs(x6,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[m.jsx(fc,{className:"h-4 w-4"}),m.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));to.displayName=HE.displayName;const Oa=({className:t,...e})=>m.jsx("div",{className:ce("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Oa.displayName="DialogHeader";const Pa=y.forwardRef(({className:t,...e},n)=>m.jsx(WE,{ref:n,className:ce("text-lg font-semibold leading-none tracking-tight",t),...e}));Pa.displayName=WE.displayName;const GE=y.forwardRef(({className:t,...e},n)=>m.jsx(KE,{ref:n,className:ce("text-sm text-muted-foreground",t),...e}));GE.displayName=KE.displayName;const gc=y.forwardRef(({className:t,...e},n)=>m.jsx("textarea",{className:ce("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));gc.displayName="Textarea";var qc=t=>t.type==="checkbox",Ei=t=>t instanceof Date,$t=t=>t==null;const JE=t=>typeof t=="object";var We=t=>!$t(t)&&!Array.isArray(t)&&JE(t)&&!Ei(t),k6=t=>We(t)&&t.target?qc(t.target)?t.target.checked:t.target.value:t,C6=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,E6=(t,e)=>t.has(C6(e)),_6=t=>{const e=t.constructor&&t.constructor.prototype;return We(e)&&e.hasOwnProperty("isPrototypeOf")},wy=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function gn(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(wy&&(t instanceof Blob||t instanceof FileList))&&(n||We(t)))if(e=n?[]:{},!n&&!_6(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=gn(t[r]));else return t;return e}var Jf=t=>Array.isArray(t)?t.filter(Boolean):[],Ve=t=>t===void 0,X=(t,e,n)=>{if(!e||!We(t))return n;const r=Jf(e.split(/[,[\].]+?/)).reduce((s,i)=>$t(s)?s:s[i],t);return Ve(r)||r===t?Ve(t[e])?n:t[e]:r},nr=t=>typeof t=="boolean",xy=t=>/^\w*$/.test(t),QE=t=>Jf(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Ae=(t,e,n)=>{let r=-1;const s=xy(e)?[e]:QE(e),i=s.length,o=i-1;for(;++r<i;){const a=s[r];let l=n;if(r!==o){const c=t[a];l=We(c)||Array.isArray(c)?c:isNaN(+s[r+1])?{}:[]}if(a==="__proto__")return;t[a]=l,t=t[a]}return t};const Pw={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Vn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Cr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};E.createContext(null);var T6=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const o=i;return e._proxyFormState[o]!==Vn.all&&(e._proxyFormState[o]=!r||Vn.all),t[o]}});return s},Jt=t=>We(t)&&!Object.keys(t).length,N6=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return Jt(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===Vn.all)},rd=t=>Array.isArray(t)?t:[t];function M6(t){const e=E.useRef(t);e.current=t,E.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}var cr=t=>typeof t=="string",O6=(t,e,n,r,s)=>cr(t)?(r&&e.watch.add(t),X(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),X(n,i))):(r&&(e.watchAll=!0),n),P6=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},Aw=t=>({isOnSubmit:!t||t===Vn.onSubmit,isOnBlur:t===Vn.onBlur,isOnChange:t===Vn.onChange,isOnAll:t===Vn.all,isOnTouch:t===Vn.onTouched}),Rw=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Bl=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=X(t,s);if(i){const{_f:o,...a}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],s)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(Bl(a,e))break}else if(We(a)&&Bl(a,e))break}}};var A6=(t,e,n)=>{const r=rd(X(t,n));return Ae(r,"root",e[n]),Ae(t,n,r),t},by=t=>t.type==="file",Ir=t=>typeof t=="function",Vd=t=>{if(!wy)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},sd=t=>cr(t),Sy=t=>t.type==="radio",Ud=t=>t instanceof RegExp;const Iw={value:!1,isValid:!1},Dw={value:!0,isValid:!0};var YE=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Ve(t[0].attributes.value)?Ve(t[0].value)||t[0].value===""?Dw:{value:t[0].value,isValid:!0}:Dw:Iw}return Iw};const jw={isValid:!1,value:null};var XE=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,jw):jw;function Lw(t,e,n="validate"){if(sd(t)||Array.isArray(t)&&t.every(sd)||nr(t)&&!t)return{type:n,message:sd(t)?t:"",ref:e}}var Co=t=>We(t)&&!Ud(t)?t:{value:t,message:""},$w=async(t,e,n,r,s)=>{const{ref:i,refs:o,required:a,maxLength:l,minLength:c,min:u,max:d,pattern:f,validate:h,name:p,valueAsNumber:g,mount:w,disabled:v}=t._f,x=X(e,p);if(!w||v)return{};const b=o?o[0]:i,S=I=>{r&&b.reportValidity&&(b.setCustomValidity(nr(I)?"":I||""),b.reportValidity())},k={},C=Sy(i),_=qc(i),M=C||_,O=(g||by(i))&&Ve(i.value)&&Ve(x)||Vd(i)&&i.value===""||x===""||Array.isArray(x)&&!x.length,P=P6.bind(null,p,n,k),L=(I,V,F,J=Cr.maxLength,U=Cr.minLength)=>{const ne=I?V:F;k[p]={type:I?J:U,message:ne,ref:i,...P(I?J:U,ne)}};if(s?!Array.isArray(x)||!x.length:a&&(!M&&(O||$t(x))||nr(x)&&!x||_&&!YE(o).isValid||C&&!XE(o).isValid)){const{value:I,message:V}=sd(a)?{value:!!a,message:a}:Co(a);if(I&&(k[p]={type:Cr.required,message:V,ref:b,...P(Cr.required,V)},!n))return S(V),k}if(!O&&(!$t(u)||!$t(d))){let I,V;const F=Co(d),J=Co(u);if(!$t(x)&&!isNaN(x)){const U=i.valueAsNumber||x&&+x;$t(F.value)||(I=U>F.value),$t(J.value)||(V=U<J.value)}else{const U=i.valueAsDate||new Date(x),ne=W=>new Date(new Date().toDateString()+" "+W),R=i.type=="time",j=i.type=="week";cr(F.value)&&x&&(I=R?ne(x)>ne(F.value):j?x>F.value:U>new Date(F.value)),cr(J.value)&&x&&(V=R?ne(x)<ne(J.value):j?x<J.value:U<new Date(J.value))}if((I||V)&&(L(!!I,F.message,J.message,Cr.max,Cr.min),!n))return S(k[p].message),k}if((l||c)&&!O&&(cr(x)||s&&Array.isArray(x))){const I=Co(l),V=Co(c),F=!$t(I.value)&&x.length>+I.value,J=!$t(V.value)&&x.length<+V.value;if((F||J)&&(L(F,I.message,V.message),!n))return S(k[p].message),k}if(f&&!O&&cr(x)){const{value:I,message:V}=Co(f);if(Ud(I)&&!x.match(I)&&(k[p]={type:Cr.pattern,message:V,ref:i,...P(Cr.pattern,V)},!n))return S(V),k}if(h){if(Ir(h)){const I=await h(x,e),V=Lw(I,b);if(V&&(k[p]={...V,...P(Cr.validate,V.message)},!n))return S(V.message),k}else if(We(h)){let I={};for(const V in h){if(!Jt(I)&&!n)break;const F=Lw(await h[V](x,e),b,V);F&&(I={...F,...P(V,F.message)},S(F.message),n&&(k[p]=I))}if(!Jt(I)&&(k[p]={ref:b,...I},!n))return k}}return S(!0),k};function R6(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=Ve(t)?r++:t[e[r++]];return t}function I6(t){for(const e in t)if(t.hasOwnProperty(e)&&!Ve(t[e]))return!1;return!0}function Ze(t,e){const n=Array.isArray(e)?e:xy(e)?[e]:QE(e),r=n.length===1?t:R6(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(We(r)&&Jt(r)||Array.isArray(r)&&I6(r))&&Ze(t,n.slice(0,-1)),t}var fp=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}},hg=t=>$t(t)||!JE(t);function ys(t,e){if(hg(t)||hg(e))return t===e;if(Ei(t)&&Ei(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const s of n){const i=t[s];if(!r.includes(s))return!1;if(s!=="ref"){const o=e[s];if(Ei(i)&&Ei(o)||We(i)&&We(o)||Array.isArray(i)&&Array.isArray(o)?!ys(i,o):i!==o)return!1}}return!0}var ZE=t=>t.type==="select-multiple",D6=t=>Sy(t)||qc(t),hp=t=>Vd(t)&&t.isConnected,e_=t=>{for(const e in t)if(Ir(t[e]))return!0;return!1};function Hd(t,e={}){const n=Array.isArray(t);if(We(t)||n)for(const r in t)Array.isArray(t[r])||We(t[r])&&!e_(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Hd(t[r],e[r])):$t(t[r])||(e[r]=!0);return e}function t_(t,e,n){const r=Array.isArray(t);if(We(t)||r)for(const s in t)Array.isArray(t[s])||We(t[s])&&!e_(t[s])?Ve(e)||hg(n[s])?n[s]=Array.isArray(t[s])?Hd(t[s],[]):{...Hd(t[s])}:t_(t[s],$t(e)?{}:e[s],n[s]):n[s]=!ys(t[s],e[s]);return n}var pl=(t,e)=>t_(t,e,Hd(e)),n_=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>Ve(t)?t:e?t===""?NaN:t&&+t:n&&cr(t)?new Date(t):r?r(t):t;function pp(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return by(e)?e.files:Sy(e)?XE(t.refs).value:ZE(e)?[...e.selectedOptions].map(({value:n})=>n):qc(e)?YE(t.refs).value:n_(Ve(e.value)?t.ref.value:e.value,t)}var j6=(t,e,n,r)=>{const s={};for(const i of t){const o=X(e,i);o&&Ae(s,i,o._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},ml=t=>Ve(t)?t:Ud(t)?t.source:We(t)?Ud(t.value)?t.value.source:t.value:t;const Fw="AsyncFunction";var L6=t=>(!t||!t.validate)&&!!(Ir(t.validate)&&t.validate.constructor.name===Fw||We(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===Fw)),$6=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function zw(t,e,n){const r=X(t,n);if(r||xy(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),o=X(e,i),a=X(t,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(a&&a.type)return{name:i,error:a};s.pop()}return{name:n}}var F6=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,z6=(t,e)=>!Jf(X(t,e)).length&&Ze(t,e);const B6={mode:Vn.onSubmit,reValidateMode:Vn.onChange,shouldFocusError:!0};function V6(t={}){let e={...B6,...t},n={submitCount:0,isDirty:!1,isLoading:Ir(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},s=We(e.defaultValues)||We(e.values)?gn(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:gn(s),o={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={values:fp(),array:fp(),state:fp()},f=Aw(e.mode),h=Aw(e.reValidateMode),p=e.criteriaMode===Vn.all,g=N=>A=>{clearTimeout(c),c=setTimeout(N,A)},w=async N=>{if(!t.disabled&&(u.isValid||N)){const A=e.resolver?Jt((await M()).errors):await P(r,!0);A!==n.isValid&&d.state.next({isValid:A})}},v=(N,A)=>{!t.disabled&&(u.isValidating||u.validatingFields)&&((N||Array.from(a.mount)).forEach(D=>{D&&(A?Ae(n.validatingFields,D,A):Ze(n.validatingFields,D))}),d.state.next({validatingFields:n.validatingFields,isValidating:!Jt(n.validatingFields)}))},x=(N,A=[],D,q,H=!0,B=!0)=>{if(q&&D&&!t.disabled){if(o.action=!0,B&&Array.isArray(X(r,N))){const se=D(X(r,N),q.argA,q.argB);H&&Ae(r,N,se)}if(B&&Array.isArray(X(n.errors,N))){const se=D(X(n.errors,N),q.argA,q.argB);H&&Ae(n.errors,N,se),z6(n.errors,N)}if(u.touchedFields&&B&&Array.isArray(X(n.touchedFields,N))){const se=D(X(n.touchedFields,N),q.argA,q.argB);H&&Ae(n.touchedFields,N,se)}u.dirtyFields&&(n.dirtyFields=pl(s,i)),d.state.next({name:N,isDirty:I(N,A),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Ae(i,N,A)},b=(N,A)=>{Ae(n.errors,N,A),d.state.next({errors:n.errors})},S=N=>{n.errors=N,d.state.next({errors:n.errors,isValid:!1})},k=(N,A,D,q)=>{const H=X(r,N);if(H){const B=X(i,N,Ve(D)?X(s,N):D);Ve(B)||q&&q.defaultChecked||A?Ae(i,N,A?B:pp(H._f)):J(N,B),o.mount&&w()}},C=(N,A,D,q,H)=>{let B=!1,se=!1;const ge={name:N};if(!t.disabled){const st=!!(X(r,N)&&X(r,N)._f&&X(r,N)._f.disabled);if(!D||q){u.isDirty&&(se=n.isDirty,n.isDirty=ge.isDirty=I(),B=se!==ge.isDirty);const it=st||ys(X(s,N),A);se=!!(!st&&X(n.dirtyFields,N)),it||st?Ze(n.dirtyFields,N):Ae(n.dirtyFields,N,!0),ge.dirtyFields=n.dirtyFields,B=B||u.dirtyFields&&se!==!it}if(D){const it=X(n.touchedFields,N);it||(Ae(n.touchedFields,N,D),ge.touchedFields=n.touchedFields,B=B||u.touchedFields&&it!==D)}B&&H&&d.state.next(ge)}return B?ge:{}},_=(N,A,D,q)=>{const H=X(n.errors,N),B=u.isValid&&nr(A)&&n.isValid!==A;if(t.delayError&&D?(l=g(()=>b(N,D)),l(t.delayError)):(clearTimeout(c),l=null,D?Ae(n.errors,N,D):Ze(n.errors,N)),(D?!ys(H,D):H)||!Jt(q)||B){const se={...q,...B&&nr(A)?{isValid:A}:{},errors:n.errors,name:N};n={...n,...se},d.state.next(se)}},M=async N=>{v(N,!0);const A=await e.resolver(i,e.context,j6(N||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return v(N),A},O=async N=>{const{errors:A}=await M(N);if(N)for(const D of N){const q=X(A,D);q?Ae(n.errors,D,q):Ze(n.errors,D)}else n.errors=A;return A},P=async(N,A,D={valid:!0})=>{for(const q in N){const H=N[q];if(H){const{_f:B,...se}=H;if(B){const ge=a.array.has(B.name),st=H._f&&L6(H._f);st&&u.validatingFields&&v([q],!0);const it=await $w(H,i,p,e.shouldUseNativeValidation&&!A,ge);if(st&&u.validatingFields&&v([q]),it[B.name]&&(D.valid=!1,A))break;!A&&(X(it,B.name)?ge?A6(n.errors,it,B.name):Ae(n.errors,B.name,it[B.name]):Ze(n.errors,B.name))}!Jt(se)&&await P(se,A,D)}}return D.valid},L=()=>{for(const N of a.unMount){const A=X(r,N);A&&(A._f.refs?A._f.refs.every(D=>!hp(D)):!hp(A._f.ref))&&Xe(N)}a.unMount=new Set},I=(N,A)=>!t.disabled&&(N&&A&&Ae(i,N,A),!ys(te(),s)),V=(N,A,D)=>O6(N,a,{...o.mount?i:Ve(A)?s:cr(N)?{[N]:A}:A},D,A),F=N=>Jf(X(o.mount?i:s,N,t.shouldUnregister?X(s,N,[]):[])),J=(N,A,D={})=>{const q=X(r,N);let H=A;if(q){const B=q._f;B&&(!B.disabled&&Ae(i,N,n_(A,B)),H=Vd(B.ref)&&$t(A)?"":A,ZE(B.ref)?[...B.ref.options].forEach(se=>se.selected=H.includes(se.value)):B.refs?qc(B.ref)?B.refs.length>1?B.refs.forEach(se=>(!se.defaultChecked||!se.disabled)&&(se.checked=Array.isArray(H)?!!H.find(ge=>ge===se.value):H===se.value)):B.refs[0]&&(B.refs[0].checked=!!H):B.refs.forEach(se=>se.checked=se.value===H):by(B.ref)?B.ref.value="":(B.ref.value=H,B.ref.type||d.values.next({name:N,values:{...i}})))}(D.shouldDirty||D.shouldTouch)&&C(N,H,D.shouldTouch,D.shouldDirty,!0),D.shouldValidate&&W(N)},U=(N,A,D)=>{for(const q in A){const H=A[q],B=`${N}.${q}`,se=X(r,B);(a.array.has(N)||We(H)||se&&!se._f)&&!Ei(H)?U(B,H,D):J(B,H,D)}},ne=(N,A,D={})=>{const q=X(r,N),H=a.array.has(N),B=gn(A);Ae(i,N,B),H?(d.array.next({name:N,values:{...i}}),(u.isDirty||u.dirtyFields)&&D.shouldDirty&&d.state.next({name:N,dirtyFields:pl(s,i),isDirty:I(N,B)})):q&&!q._f&&!$t(B)?U(N,B,D):J(N,B,D),Rw(N,a)&&d.state.next({...n}),d.values.next({name:o.mount?N:void 0,values:{...i}})},R=async N=>{o.mount=!0;const A=N.target;let D=A.name,q=!0;const H=X(r,D),B=()=>A.type?pp(H._f):k6(N),se=ge=>{q=Number.isNaN(ge)||Ei(ge)&&isNaN(ge.getTime())||ys(ge,X(i,D,ge))};if(H){let ge,st;const it=B(),fi=N.type===Pw.BLUR||N.type===Pw.FOCUS_OUT,GN=!$6(H._f)&&!e.resolver&&!X(n.errors,D)&&!H._f.deps||F6(fi,X(n.touchedFields,D),n.isSubmitted,h,f),vh=Rw(D,a,fi);Ae(i,D,it),fi?(H._f.onBlur&&H._f.onBlur(N),l&&l(0)):H._f.onChange&&H._f.onChange(N);const wh=C(D,it,fi,!1),JN=!Jt(wh)||vh;if(!fi&&d.values.next({name:D,type:N.type,values:{...i}}),GN)return u.isValid&&(t.mode==="onBlur"?fi&&w():w()),JN&&d.state.next({name:D,...vh?{}:wh});if(!fi&&vh&&d.state.next({...n}),e.resolver){const{errors:vv}=await M([D]);if(se(it),q){const QN=zw(n.errors,r,D),wv=zw(vv,r,QN.name||D);ge=wv.error,D=wv.name,st=Jt(vv)}}else v([D],!0),ge=(await $w(H,i,p,e.shouldUseNativeValidation))[D],v([D]),se(it),q&&(ge?st=!1:u.isValid&&(st=await P(r,!0)));q&&(H._f.deps&&W(H._f.deps),_(D,st,ge,wh))}},j=(N,A)=>{if(X(n.errors,A)&&N.focus)return N.focus(),1},W=async(N,A={})=>{let D,q;const H=rd(N);if(e.resolver){const B=await O(Ve(N)?N:H);D=Jt(B),q=N?!H.some(se=>X(B,se)):D}else N?(q=(await Promise.all(H.map(async B=>{const se=X(r,B);return await P(se&&se._f?{[B]:se}:se)}))).every(Boolean),!(!q&&!n.isValid)&&w()):q=D=await P(r);return d.state.next({...!cr(N)||u.isValid&&D!==n.isValid?{}:{name:N},...e.resolver||!N?{isValid:D}:{},errors:n.errors}),A.shouldFocus&&!q&&Bl(r,j,N?H:a.mount),q},te=N=>{const A={...o.mount?i:s};return Ve(N)?A:cr(N)?X(A,N):N.map(D=>X(A,D))},pe=(N,A)=>({invalid:!!X((A||n).errors,N),isDirty:!!X((A||n).dirtyFields,N),error:X((A||n).errors,N),isValidating:!!X(n.validatingFields,N),isTouched:!!X((A||n).touchedFields,N)}),ht=N=>{N&&rd(N).forEach(A=>Ze(n.errors,A)),d.state.next({errors:N?n.errors:{}})},Ye=(N,A,D)=>{const q=(X(r,N,{_f:{}})._f||{}).ref,H=X(n.errors,N)||{},{ref:B,message:se,type:ge,...st}=H;Ae(n.errors,N,{...st,...A,ref:q}),d.state.next({name:N,errors:n.errors,isValid:!1}),D&&D.shouldFocus&&q&&q.focus&&q.focus()},Xn=(N,A)=>Ir(N)?d.values.subscribe({next:D=>N(V(void 0,A),D)}):V(N,A,!0),Xe=(N,A={})=>{for(const D of N?rd(N):a.mount)a.mount.delete(D),a.array.delete(D),A.keepValue||(Ze(r,D),Ze(i,D)),!A.keepError&&Ze(n.errors,D),!A.keepDirty&&Ze(n.dirtyFields,D),!A.keepTouched&&Ze(n.touchedFields,D),!A.keepIsValidating&&Ze(n.validatingFields,D),!e.shouldUnregister&&!A.keepDefaultValue&&Ze(s,D);d.values.next({values:{...i}}),d.state.next({...n,...A.keepDirty?{isDirty:I()}:{}}),!A.keepIsValid&&w()},pt=({disabled:N,name:A,field:D,fields:q,value:H})=>{if(nr(N)&&o.mount||N){const B=N?void 0:Ve(H)?pp(D?D._f:X(q,A)._f):H;Ae(i,A,B),C(A,B,!1,!1,!0)}},Sr=(N,A={})=>{let D=X(r,N);const q=nr(A.disabled)||nr(t.disabled);return Ae(r,N,{...D||{},_f:{...D&&D._f?D._f:{ref:{name:N}},name:N,mount:!0,...A}}),a.mount.add(N),D?pt({field:D,disabled:nr(A.disabled)?A.disabled:t.disabled,name:N,value:A.value}):k(N,!0,A.value),{...q?{disabled:A.disabled||t.disabled}:{},...e.progressive?{required:!!A.required,min:ml(A.min),max:ml(A.max),minLength:ml(A.minLength),maxLength:ml(A.maxLength),pattern:ml(A.pattern)}:{},name:N,onChange:R,onBlur:R,ref:H=>{if(H){Sr(N,A),D=X(r,N);const B=Ve(H.value)&&H.querySelectorAll&&H.querySelectorAll("input,select,textarea")[0]||H,se=D6(B),ge=D._f.refs||[];if(se?ge.find(st=>st===B):B===D._f.ref)return;Ae(r,N,{_f:{...D._f,...se?{refs:[...ge.filter(hp),B,...Array.isArray(X(s,N))?[{}]:[]],ref:{type:B.type,name:N}}:{ref:B}}}),k(N,!1,void 0,B)}else D=X(r,N,{}),D._f&&(D._f.mount=!1),(e.shouldUnregister||A.shouldUnregister)&&!(E6(a.array,N)&&o.action)&&a.unMount.add(N)}}},Rt=()=>e.shouldFocusError&&Bl(r,j,a.mount),di=N=>{nr(N)&&(d.state.next({disabled:N}),Bl(r,(A,D)=>{const q=X(r,D);q&&(A.disabled=q._f.disabled||N,Array.isArray(q._f.refs)&&q._f.refs.forEach(H=>{H.disabled=q._f.disabled||N}))},0,!1))},el=(N,A)=>async D=>{let q;D&&(D.preventDefault&&D.preventDefault(),D.persist&&D.persist());let H=gn(i);if(d.state.next({isSubmitting:!0}),e.resolver){const{errors:B,values:se}=await M();n.errors=B,H=se}else await P(r);if(Ze(n.errors,"root"),Jt(n.errors)){d.state.next({errors:{}});try{await N(H,D)}catch(B){q=B}}else A&&await A({...n.errors},D),Rt(),setTimeout(Rt);if(d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Jt(n.errors)&&!q,submitCount:n.submitCount+1,errors:n.errors}),q)throw q},tu=(N,A={})=>{X(r,N)&&(Ve(A.defaultValue)?ne(N,gn(X(s,N))):(ne(N,A.defaultValue),Ae(s,N,gn(A.defaultValue))),A.keepTouched||Ze(n.touchedFields,N),A.keepDirty||(Ze(n.dirtyFields,N),n.isDirty=A.defaultValue?I(N,gn(X(s,N))):I()),A.keepError||(Ze(n.errors,N),u.isValid&&w()),d.state.next({...n}))},Zr=(N,A={})=>{const D=N?gn(N):s,q=gn(D),H=Jt(N),B=H?s:q;if(A.keepDefaultValues||(s=D),!A.keepValues){if(A.keepDirtyValues){const se=new Set([...a.mount,...Object.keys(pl(s,i))]);for(const ge of Array.from(se))X(n.dirtyFields,ge)?Ae(B,ge,X(i,ge)):ne(ge,X(B,ge))}else{if(wy&&Ve(N))for(const se of a.mount){const ge=X(r,se);if(ge&&ge._f){const st=Array.isArray(ge._f.refs)?ge._f.refs[0]:ge._f.ref;if(Vd(st)){const it=st.closest("form");if(it){it.reset();break}}}}r={}}i=t.shouldUnregister?A.keepDefaultValues?gn(s):{}:gn(B),d.array.next({values:{...B}}),d.values.next({values:{...B}})}a={mount:A.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!A.keepIsValid||!!A.keepDirtyValues,o.watch=!!t.shouldUnregister,d.state.next({submitCount:A.keepSubmitCount?n.submitCount:0,isDirty:H?!1:A.keepDirty?n.isDirty:!!(A.keepDefaultValues&&!ys(N,s)),isSubmitted:A.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:H?{}:A.keepDirtyValues?A.keepDefaultValues&&i?pl(s,i):n.dirtyFields:A.keepDefaultValues&&N?pl(s,N):A.keepDirty?n.dirtyFields:{},touchedFields:A.keepTouched?n.touchedFields:{},errors:A.keepErrors?n.errors:{},isSubmitSuccessful:A.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},tl=(N,A)=>Zr(Ir(N)?N(i):N,A);return{control:{register:Sr,unregister:Xe,getFieldState:pe,handleSubmit:el,setError:Ye,_executeSchema:M,_getWatch:V,_getDirty:I,_updateValid:w,_removeUnmounted:L,_updateFieldArray:x,_updateDisabledField:pt,_getFieldArray:F,_reset:Zr,_resetDefaultValues:()=>Ir(e.defaultValues)&&e.defaultValues().then(N=>{tl(N,e.resetOptions),d.state.next({isLoading:!1})}),_updateFormState:N=>{n={...n,...N}},_disableForm:di,_subjects:d,_proxyFormState:u,_setErrors:S,get _fields(){return r},get _formValues(){return i},get _state(){return o},set _state(N){o=N},get _defaultValues(){return s},get _names(){return a},set _names(N){a=N},get _formState(){return n},set _formState(N){n=N},get _options(){return e},set _options(N){e={...e,...N}}},trigger:W,register:Sr,handleSubmit:el,watch:Xn,setValue:ne,getValues:te,reset:tl,resetField:tu,clearErrors:ht,unregister:Xe,setError:Ye,setFocus:(N,A={})=>{const D=X(r,N),q=D&&D._f;if(q){const H=q.refs?q.refs[0]:q.ref;H.focus&&(H.focus(),A.shouldSelect&&H.select())}},getFieldState:pe}}function U6(t={}){const e=E.useRef(),n=E.useRef(),[r,s]=E.useState({isDirty:!1,isValidating:!1,isLoading:Ir(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Ir(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...V6(t),formState:r});const i=e.current.control;return i._options=t,M6({subject:i._subjects.state,next:o=>{N6(o,i._proxyFormState,i._updateFormState)&&s({...i._formState})}}),E.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),E.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==r.isDirty&&i._subjects.state.next({isDirty:o})}},[i,r.isDirty]),E.useEffect(()=>{t.values&&!ys(t.values,n.current)?(i._reset(t.values,i._options.resetOptions),n.current=t.values,s(o=>({...o}))):i._resetDefaultValues()},[t.values,i]),E.useEffect(()=>{t.errors&&i._setErrors(t.errors)},[t.errors,i]),E.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),E.useEffect(()=>{t.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[t.shouldUnregister,i]),E.useEffect(()=>{e.current&&(e.current.watch=e.current.watch.bind({}))},[r]),e.current.formState=T6(r,i),e.current}function H6({isOpen:t,onClose:e,onSubmit:n,initialData:r}){const{register:s,handleSubmit:i,reset:o,watch:a}=U6({defaultValues:r||{title:"",content:"",type:"note"}}),l=a("type"),[c,u]=E.useState(null),d=h=>{const p={...h,file:c};n(p),u(null),o()},f=h=>{var g;const p=(g=h.target.files)==null?void 0:g[0];p&&u(p)};return m.jsx(Ma,{open:t,onOpenChange:e,children:m.jsxs(to,{children:[m.jsx(Oa,{children:m.jsx(Pa,{children:r?"ערוך פריט":"הוסף פריט חדש"})}),m.jsxs("form",{onSubmit:i(d),className:"space-y-4",children:[m.jsx("div",{children:m.jsx(Hs,{placeholder:"כותרת",...s("title",{required:!0})})}),m.jsx("div",{children:m.jsxs("select",{className:"w-full p-2 border rounded-md",...s("type",{required:!0}),children:[m.jsx("option",{value:"note",children:"הערה"}),m.jsx("option",{value:"link",children:"קישור"}),m.jsx("option",{value:"image",children:"תמונה"}),m.jsx("option",{value:"video",children:"וידאו"}),m.jsx("option",{value:"whatsapp",children:"וואטסאפ"}),m.jsx("option",{value:"pdf",children:"PDF"}),m.jsx("option",{value:"question",children:"שאלה"})]})}),m.jsx("div",{children:m.jsx(gc,{placeholder:l==="question"?"מה השאלה שלך?":"תוכן",...s("content",{required:!0})})}),(l==="image"||l==="video"||l==="pdf")&&m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:l==="image"?"העלה תמונה":l==="video"?"העלה וידאו":"העלה PDF"}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Hs,{type:"file",accept:l==="image"?"image/*":l==="video"?"video/*":"application/pdf",onChange:f,className:"flex-1"}),c&&m.jsx("span",{className:"text-sm text-gray-500",children:c.name})]})]}),m.jsxs("div",{className:"flex justify-end gap-2",children:[m.jsx(oe,{type:"button",variant:"outline",onClick:e,children:"ביטול"}),m.jsx(oe,{type:"submit",children:r?"עדכן":"הוסף"})]})]})]})})}const W6=t=>{switch(t){case"link":return m.jsx(SA,{className:"w-4 h-4"});case"note":return m.jsx(Bm,{className:"w-4 h-4"});case"image":return m.jsx(IC,{className:"w-4 h-4"});case"video":return m.jsx(PA,{className:"w-4 h-4"});case"whatsapp":return m.jsx(jC,{className:"w-4 h-4"});case"pdf":return m.jsx(Bm,{className:"w-4 h-4 text-red-500"});case"question":return m.jsx(yA,{className:"w-4 h-4 text-purple-500"})}},K6=()=>{const{items:t,isLoading:e,filter:n,setFilter:r,addItem:s,deleteItem:i,toggleStar:o,updateItem:a}=mj(),[l,c]=y.useState(!1),[u,d]=y.useState(null),f=async p=>{try{u?await a.mutateAsync({id:u.id,...p}):await s.mutateAsync(p),c(!1),d(null)}catch(g){console.error("Error adding/updating item:",g)}},h=p=>{d(p),c(!0)};return e?m.jsx("div",{className:"flex items-center justify-center min-h-[200px]",children:m.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h2",{className:"text-2xl font-bold",children:"ספריית תוכן"}),m.jsxs("div",{className:"flex gap-4",children:[m.jsx(Hs,{type:"search",placeholder:"חיפוש...",value:n,onChange:p=>r(p.target.value),className:"max-w-xs"}),m.jsx(oe,{onClick:()=>{d(null),c(!0)},className:"gap-2",children:"הוסף פריט"})]})]}),m.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:t.map(p=>{var g;return m.jsxs(Ge,{className:"p-4 hover:shadow-lg transition-shadow",children:[m.jsxs("div",{className:"flex justify-between items-start mb-3",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[W6(p.type),m.jsx("h3",{className:"font-semibold",children:p.title})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>o.mutate({id:p.id,is_starred:!p.is_starred}),className:"hover:text-yellow-400",children:m.jsx(MA,{className:`w-4 h-4 ${p.is_starred?"fill-yellow-400 text-yellow-400":""}`})}),m.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>h(p),className:"hover:text-blue-500",children:m.jsx(Vm,{className:"w-4 h-4"})}),m.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>i.mutate(p.id),className:"hover:text-red-500",children:m.jsx(dc,{className:"w-4 h-4"})})]})]}),m.jsx("p",{className:"text-sm text-gray-600 mb-3",children:p.content}),((g=p.file_details)==null?void 0:g.path)&&(p.type==="image"||p.type==="video"||p.type==="pdf")&&m.jsx("div",{className:"mt-2",children:m.jsx(gj,{type:p.type,src:p.file_details.path,title:p.title})})]},p.id)})}),m.jsx(H6,{onSubmit:f,initialData:u,isOpen:l,onClose:()=>{c(!1),d(null)}})]})};function q6(t,e=[]){let n=[];function r(i,o){const a=y.createContext(o),l=n.length;n=[...n,o];function c(d){const{scope:f,children:h,...p}=d,g=(f==null?void 0:f[t][l])||a,w=y.useMemo(()=>p,Object.values(p));return m.jsx(g.Provider,{value:w,children:h})}function u(d,f){const h=(f==null?void 0:f[t][l])||a,p=y.useContext(h);if(p)return p;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,u]}const s=()=>{const i=n.map(o=>y.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,G6(s,...e)]}function G6(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(i)[`__scope${c}`];return{...a,...d}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var mp="rovingFocusGroup.onEntryFocus",J6={bubbles:!1,cancelable:!0},Qf="RovingFocusGroup",[pg,r_,Q6]=Af(Qf),[Y6,Yf]=q6(Qf,[Q6]),[X6,Z6]=Y6(Qf),s_=y.forwardRef((t,e)=>m.jsx(pg.Provider,{scope:t.__scopeRovingFocusGroup,children:m.jsx(pg.Slot,{scope:t.__scopeRovingFocusGroup,children:m.jsx(e9,{...t,ref:e})})}));s_.displayName=Qf;var e9=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...d}=t,f=y.useRef(null),h=_e(e,f),p=Kc(i),[g=null,w]=Qr({prop:o,defaultProp:a,onChange:l}),[v,x]=y.useState(!1),b=Be(c),S=r_(n),k=y.useRef(!1),[C,_]=y.useState(0);return y.useEffect(()=>{const M=f.current;if(M)return M.addEventListener(mp,b),()=>M.removeEventListener(mp,b)},[b]),m.jsx(X6,{scope:n,orientation:r,dir:p,loop:s,currentTabStopId:g,onItemFocus:y.useCallback(M=>w(M),[w]),onItemShiftTab:y.useCallback(()=>x(!0),[]),onFocusableItemAdd:y.useCallback(()=>_(M=>M+1),[]),onFocusableItemRemove:y.useCallback(()=>_(M=>M-1),[]),children:m.jsx(ae.div,{tabIndex:v||C===0?-1:0,"data-orientation":r,...d,ref:h,style:{outline:"none",...t.style},onMouseDown:ee(t.onMouseDown,()=>{k.current=!0}),onFocus:ee(t.onFocus,M=>{const O=!k.current;if(M.target===M.currentTarget&&O&&!v){const P=new CustomEvent(mp,J6);if(M.currentTarget.dispatchEvent(P),!P.defaultPrevented){const L=S().filter(U=>U.focusable),I=L.find(U=>U.active),V=L.find(U=>U.id===g),J=[I,V,...L].filter(Boolean).map(U=>U.ref.current);a_(J,u)}}k.current=!1}),onBlur:ee(t.onBlur,()=>x(!1))})})}),i_="RovingFocusGroupItem",o_=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...o}=t,a=Lr(),l=i||a,c=Z6(i_,n),u=c.currentTabStopId===l,d=r_(n),{onFocusableItemAdd:f,onFocusableItemRemove:h}=c;return y.useEffect(()=>{if(r)return f(),()=>h()},[r,f,h]),m.jsx(pg.ItemSlot,{scope:n,id:l,focusable:r,active:s,children:m.jsx(ae.span,{tabIndex:u?0:-1,"data-orientation":c.orientation,...o,ref:e,onMouseDown:ee(t.onMouseDown,p=>{r?c.onItemFocus(l):p.preventDefault()}),onFocus:ee(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:ee(t.onKeyDown,p=>{if(p.key==="Tab"&&p.shiftKey){c.onItemShiftTab();return}if(p.target!==p.currentTarget)return;const g=r9(p,c.orientation,c.dir);if(g!==void 0){if(p.metaKey||p.ctrlKey||p.altKey||p.shiftKey)return;p.preventDefault();let v=d().filter(x=>x.focusable).map(x=>x.ref.current);if(g==="last")v.reverse();else if(g==="prev"||g==="next"){g==="prev"&&v.reverse();const x=v.indexOf(p.currentTarget);v=c.loop?s9(v,x+1):v.slice(x+1)}setTimeout(()=>a_(v))}})})})});o_.displayName=i_;var t9={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function n9(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function r9(t,e,n){const r=n9(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return t9[r]}function a_(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function s9(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var l_=s_,c_=o_,ky="Tabs",[i9,gW]=Jr(ky,[Yf]),u_=Yf(),[o9,Cy]=i9(ky),d_=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=t,u=Kc(a),[d,f]=Qr({prop:r,onChange:s,defaultProp:i});return m.jsx(o9,{scope:n,baseId:Lr(),value:d,onValueChange:f,orientation:o,dir:u,activationMode:l,children:m.jsx(ae.div,{dir:u,"data-orientation":o,...c,ref:e})})});d_.displayName=ky;var f_="TabsList",h_=y.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=Cy(f_,n),o=u_(n);return m.jsx(l_,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:m.jsx(ae.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});h_.displayName=f_;var p_="TabsTrigger",m_=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=Cy(p_,n),a=u_(n),l=v_(o.baseId,r),c=w_(o.baseId,r),u=r===o.value;return m.jsx(c_,{asChild:!0,...a,focusable:!s,active:u,children:m.jsx(ae.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:ee(t.onMouseDown,d=>{!s&&d.button===0&&d.ctrlKey===!1?o.onValueChange(r):d.preventDefault()}),onKeyDown:ee(t.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&o.onValueChange(r)}),onFocus:ee(t.onFocus,()=>{const d=o.activationMode!=="manual";!u&&!s&&d&&o.onValueChange(r)})})})});m_.displayName=p_;var g_="TabsContent",y_=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=Cy(g_,n),l=v_(a.baseId,r),c=w_(a.baseId,r),u=r===a.value,d=y.useRef(u);return y.useEffect(()=>{const f=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(f)},[]),m.jsx(Pt,{present:s||u,children:({present:f})=>m.jsx(ae.div,{"data-state":u?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!f,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:d.current?"0s":void 0},children:f&&i})})});y_.displayName=g_;function v_(t,e){return`${t}-trigger-${e}`}function w_(t,e){return`${t}-content-${e}`}var a9=d_,x_=h_,b_=m_,S_=y_;const k_=a9,Ey=y.forwardRef(({className:t,...e},n)=>m.jsx(x_,{ref:n,className:ce("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Ey.displayName=x_.displayName;const yc=y.forwardRef(({className:t,...e},n)=>m.jsx(b_,{ref:n,className:ce("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));yc.displayName=b_.displayName;const vc=y.forwardRef(({className:t,...e},n)=>m.jsx(S_,{ref:n,className:ce("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));vc.displayName=S_.displayName;const l9=()=>{const{session:t}=qa(),{toast:e}=co(),[n,r]=E.useState(""),[s,i]=E.useState(""),[o,a]=E.useState("general"),[l,c]=E.useState(!1),[u,d]=E.useState(null),[f,h]=E.useState(!1),p=qf(),{data:g,isLoading:w}=mE({queryKey:["questions"],queryFn:async()=>{const{data:C,error:_}=await ye.from("questions").select("*").order("created_at",{ascending:!1});if(_)throw _;return C}}),v=Vo({mutationFn:async C=>{const{error:_}=await ye.from("questions").insert([{content:C,user_id:t==null?void 0:t.user.id,type:o}]);if(_)throw _},onSuccess:()=>{p.invalidateQueries({queryKey:["questions"]}),r(""),c(!1),e({title:"השאלה נשמרה בהצלחה",description:"נענה בהקדם האפשרי"})},onError:()=>{e({title:"שגיאה בשמירת השאלה",description:"אנא נסה שוב מאוחר יותר",variant:"destructive"})}}),x=Vo({mutationFn:async({questionId:C,answer:_})=>{const{error:M}=await ye.from("questions").update({answer:_,is_answered:!0}).eq("id",C);if(M)throw M},onSuccess:()=>{p.invalidateQueries({queryKey:["questions"]}),i(""),h(!1),d(null),e({title:"התשובה נשמרה בהצלחה",description:"התשובה נוספה לשאלה"})},onError:()=>{e({title:"שגיאה בשמירת התשובה",description:"אנא נסה שוב מאוחר יותר",variant:"destructive"})}}),b=C=>{C.preventDefault(),n.trim()&&v.mutate(n)},S=C=>{C.preventDefault(),!(!s.trim()||!u)&&x.mutate({questionId:u,answer:s})},k=C=>{const _=(g==null?void 0:g.filter(M=>M.type===C))||[];return _.length===0?m.jsx("div",{className:"text-center py-4 text-gray-500",children:"עדיין אין שאלות. אתה מוזמן להוסיף את השאלה הראשונה!"}):m.jsx("div",{className:"space-y-4",children:_.map(M=>m.jsxs(Ge,{children:[m.jsxs(ki,{children:[m.jsx(Ci,{className:"text-lg",children:M.content}),m.jsx(v2,{children:new Date(M.created_at).toLocaleDateString("he-IL")})]}),M.answer&&m.jsxs(Ps,{className:"pt-4 border-t",children:[m.jsx("p",{className:"font-semibold mb-2",children:"תשובה:"}),m.jsx("p",{children:M.answer})]}),m.jsx(w2,{className:"pt-4",children:m.jsxs(oe,{variant:"outline",className:"flex items-center gap-2",onClick:()=>{d(M.id),h(!0)},children:[m.jsx(EA,{className:"h-4 w-4"}),M.answer?"ערוך תשובה":"הוסף תשובה"]})})]},M.id))})};return m.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[m.jsx(jC,{className:"h-6 w-6"}),"שאלות"]}),m.jsxs(Ma,{open:l,onOpenChange:c,children:[m.jsx(b6,{asChild:!0,children:m.jsxs(oe,{className:"flex items-center gap-2",children:[m.jsx(K0,{className:"h-4 w-4"}),"שאלה חדשה"]})}),m.jsxs(to,{children:[m.jsx(Oa,{children:m.jsx(Pa,{children:"הוספת שאלה חדשה"})}),m.jsxs("form",{onSubmit:b,className:"space-y-4",children:[m.jsxs("div",{className:"flex gap-4 mb-4",children:[m.jsx(oe,{type:"button",variant:o==="general"?"default":"outline",onClick:()=>a("general"),children:"שאלה כללית"}),m.jsx(oe,{type:"button",variant:o==="trading"?"default":"outline",onClick:()=>a("trading"),children:"שאלה ליועץ המסחר"})]}),m.jsx(gc,{value:n,onChange:C=>r(C.target.value),placeholder:"מה תרצה לשאול?",className:"min-h-[100px]"}),m.jsx(oe,{type:"submit",disabled:!n.trim(),children:"שלח שאלה"})]})]})]})]}),m.jsx(Ma,{open:f,onOpenChange:h,children:m.jsxs(to,{children:[m.jsx(Oa,{children:m.jsx(Pa,{children:"הוספת תשובה"})}),m.jsxs("form",{onSubmit:S,className:"space-y-4",children:[m.jsx(gc,{value:s,onChange:C=>i(C.target.value),placeholder:"כתוב את התשובה כאן...",className:"min-h-[100px]"}),m.jsx(oe,{type:"submit",disabled:!s.trim(),children:"שמור תשובה"})]})]})}),w?m.jsx("div",{className:"text-center py-4",children:"טוען..."}):m.jsxs(k_,{defaultValue:"general",className:"w-full",children:[m.jsxs(Ey,{className:"grid w-full grid-cols-2",children:[m.jsx(yc,{value:"general",children:"שאלות כלליות"}),m.jsx(yc,{value:"trading",children:"שאלות ליועץ המסחר"})]}),m.jsx(vc,{value:"general",className:"mt-6",children:k("general")}),m.jsx(vc,{value:"trading",className:"mt-6",children:k("trading")})]})]})};function c9(t,[e,n]){return Math.min(n,Math.max(e,t))}function u9(t,e){return y.useReducer((n,r)=>e[n][r]??n,t)}var _y="ScrollArea",[C_,yW]=Jr(_y),[d9,Pn]=C_(_y),E_=y.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:i=600,...o}=t,[a,l]=y.useState(null),[c,u]=y.useState(null),[d,f]=y.useState(null),[h,p]=y.useState(null),[g,w]=y.useState(null),[v,x]=y.useState(0),[b,S]=y.useState(0),[k,C]=y.useState(!1),[_,M]=y.useState(!1),O=_e(e,L=>l(L)),P=Kc(s);return m.jsx(d9,{scope:n,type:r,dir:P,scrollHideDelay:i,scrollArea:a,viewport:c,onViewportChange:u,content:d,onContentChange:f,scrollbarX:h,onScrollbarXChange:p,scrollbarXEnabled:k,onScrollbarXEnabledChange:C,scrollbarY:g,onScrollbarYChange:w,scrollbarYEnabled:_,onScrollbarYEnabledChange:M,onCornerWidthChange:x,onCornerHeightChange:S,children:m.jsx(ae.div,{dir:P,...o,ref:O,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":b+"px",...t.style}})})});E_.displayName=_y;var __="ScrollAreaViewport",T_=y.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,asChild:s,nonce:i,...o}=t,a=Pn(__,n),l=y.useRef(null),c=_e(e,l,a.onViewportChange);return m.jsxs(m.Fragment,{children:[m.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:i}),m.jsx(ae.div,{"data-radix-scroll-area-viewport":"",...o,asChild:s,ref:c,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...t.style},children:b9({asChild:s,children:r},u=>m.jsx("div",{"data-radix-scroll-area-content":"",ref:a.onContentChange,style:{minWidth:a.scrollbarXEnabled?"fit-content":void 0},children:u}))})]})});T_.displayName=__;var wr="ScrollAreaScrollbar",Ty=y.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=Pn(wr,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,a=t.orientation==="horizontal";return y.useEffect(()=>(a?i(!0):o(!0),()=>{a?i(!1):o(!1)}),[a,i,o]),s.type==="hover"?m.jsx(f9,{...r,ref:e,forceMount:n}):s.type==="scroll"?m.jsx(h9,{...r,ref:e,forceMount:n}):s.type==="auto"?m.jsx(N_,{...r,ref:e,forceMount:n}):s.type==="always"?m.jsx(Ny,{...r,ref:e}):null});Ty.displayName=wr;var f9=y.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=Pn(wr,t.__scopeScrollArea),[i,o]=y.useState(!1);return y.useEffect(()=>{const a=s.scrollArea;let l=0;if(a){const c=()=>{window.clearTimeout(l),o(!0)},u=()=>{l=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",u),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",u)}}},[s.scrollArea,s.scrollHideDelay]),m.jsx(Pt,{present:n||i,children:m.jsx(N_,{"data-state":i?"visible":"hidden",...r,ref:e})})}),h9=y.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=Pn(wr,t.__scopeScrollArea),i=t.orientation==="horizontal",o=Zf(()=>l("SCROLL_END"),100),[a,l]=u9("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return y.useEffect(()=>{if(a==="idle"){const c=window.setTimeout(()=>l("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(c)}},[a,s.scrollHideDelay,l]),y.useEffect(()=>{const c=s.viewport,u=i?"scrollLeft":"scrollTop";if(c){let d=c[u];const f=()=>{const h=c[u];d!==h&&(l("SCROLL"),o()),d=h};return c.addEventListener("scroll",f),()=>c.removeEventListener("scroll",f)}},[s.viewport,i,l,o]),m.jsx(Pt,{present:n||a!=="hidden",children:m.jsx(Ny,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:ee(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:ee(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),N_=y.forwardRef((t,e)=>{const n=Pn(wr,t.__scopeScrollArea),{forceMount:r,...s}=t,[i,o]=y.useState(!1),a=t.orientation==="horizontal",l=Zf(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,u=n.viewport.offsetHeight<n.viewport.scrollHeight;o(a?c:u)}},10);return Aa(n.viewport,l),Aa(n.content,l),m.jsx(Pt,{present:r||i,children:m.jsx(Ny,{"data-state":i?"visible":"hidden",...s,ref:e})})}),Ny=y.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,s=Pn(wr,t.__scopeScrollArea),i=y.useRef(null),o=y.useRef(0),[a,l]=y.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=R_(a.viewport,a.content),u={...r,sizes:a,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:f=>i.current=f,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:f=>o.current=f};function d(f,h){return w9(f,o.current,a,h)}return n==="horizontal"?m.jsx(p9,{...u,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const f=s.viewport.scrollLeft,h=Bw(f,a,s.dir);i.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollLeft=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollLeft=d(f,s.dir))}}):n==="vertical"?m.jsx(m9,{...u,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const f=s.viewport.scrollTop,h=Bw(f,a);i.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollTop=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollTop=d(f))}}):null}),p9=y.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,i=Pn(wr,t.__scopeScrollArea),[o,a]=y.useState(),l=y.useRef(null),c=_e(e,l,i.onScrollbarXChange);return y.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),m.jsx(O_,{"data-orientation":"horizontal",...s,ref:c,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Xf(n)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.x),onDragScroll:u=>t.onDragScroll(u.x),onWheelScroll:(u,d)=>{if(i.viewport){const f=i.viewport.scrollLeft+u.deltaX;t.onWheelScroll(f),D_(f,d)&&u.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:Kd(o.paddingLeft),paddingEnd:Kd(o.paddingRight)}})}})}),m9=y.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,i=Pn(wr,t.__scopeScrollArea),[o,a]=y.useState(),l=y.useRef(null),c=_e(e,l,i.onScrollbarYChange);return y.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),m.jsx(O_,{"data-orientation":"vertical",...s,ref:c,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Xf(n)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.y),onDragScroll:u=>t.onDragScroll(u.y),onWheelScroll:(u,d)=>{if(i.viewport){const f=i.viewport.scrollTop+u.deltaY;t.onWheelScroll(f),D_(f,d)&&u.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:Kd(o.paddingTop),paddingEnd:Kd(o.paddingBottom)}})}})}),[g9,M_]=C_(wr),O_=y.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:u,onResize:d,...f}=t,h=Pn(wr,n),[p,g]=y.useState(null),w=_e(e,O=>g(O)),v=y.useRef(null),x=y.useRef(""),b=h.viewport,S=r.content-r.viewport,k=Be(u),C=Be(l),_=Zf(d,10);function M(O){if(v.current){const P=O.clientX-v.current.left,L=O.clientY-v.current.top;c({x:P,y:L})}}return y.useEffect(()=>{const O=P=>{const L=P.target;(p==null?void 0:p.contains(L))&&k(P,S)};return document.addEventListener("wheel",O,{passive:!1}),()=>document.removeEventListener("wheel",O,{passive:!1})},[b,p,S,k]),y.useEffect(C,[r,C]),Aa(p,_),Aa(h.content,_),m.jsx(g9,{scope:n,scrollbar:p,hasThumb:s,onThumbChange:Be(i),onThumbPointerUp:Be(o),onThumbPositionChange:C,onThumbPointerDown:Be(a),children:m.jsx(ae.div,{...f,ref:w,style:{position:"absolute",...f.style},onPointerDown:ee(t.onPointerDown,O=>{O.button===0&&(O.target.setPointerCapture(O.pointerId),v.current=p.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",h.viewport&&(h.viewport.style.scrollBehavior="auto"),M(O))}),onPointerMove:ee(t.onPointerMove,M),onPointerUp:ee(t.onPointerUp,O=>{const P=O.target;P.hasPointerCapture(O.pointerId)&&P.releasePointerCapture(O.pointerId),document.body.style.webkitUserSelect=x.current,h.viewport&&(h.viewport.style.scrollBehavior=""),v.current=null})})})}),Wd="ScrollAreaThumb",P_=y.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=M_(Wd,t.__scopeScrollArea);return m.jsx(Pt,{present:n||s.hasThumb,children:m.jsx(y9,{ref:e,...r})})}),y9=y.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...s}=t,i=Pn(Wd,n),o=M_(Wd,n),{onThumbPositionChange:a}=o,l=_e(e,d=>o.onThumbChange(d)),c=y.useRef(),u=Zf(()=>{c.current&&(c.current(),c.current=void 0)},100);return y.useEffect(()=>{const d=i.viewport;if(d){const f=()=>{if(u(),!c.current){const h=x9(d,a);c.current=h,a()}};return a(),d.addEventListener("scroll",f),()=>d.removeEventListener("scroll",f)}},[i.viewport,u,a]),m.jsx(ae.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:ee(t.onPointerDownCapture,d=>{const h=d.target.getBoundingClientRect(),p=d.clientX-h.left,g=d.clientY-h.top;o.onThumbPointerDown({x:p,y:g})}),onPointerUp:ee(t.onPointerUp,o.onThumbPointerUp)})});P_.displayName=Wd;var My="ScrollAreaCorner",A_=y.forwardRef((t,e)=>{const n=Pn(My,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?m.jsx(v9,{...t,ref:e}):null});A_.displayName=My;var v9=y.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,s=Pn(My,n),[i,o]=y.useState(0),[a,l]=y.useState(0),c=!!(i&&a);return Aa(s.scrollbarX,()=>{var d;const u=((d=s.scrollbarX)==null?void 0:d.offsetHeight)||0;s.onCornerHeightChange(u),l(u)}),Aa(s.scrollbarY,()=>{var d;const u=((d=s.scrollbarY)==null?void 0:d.offsetWidth)||0;s.onCornerWidthChange(u),o(u)}),c?m.jsx(ae.div,{...r,ref:e,style:{width:i,height:a,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Kd(t){return t?parseInt(t,10):0}function R_(t,e){const n=t/e;return isNaN(n)?0:n}function Xf(t){const e=R_(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function w9(t,e,n,r="ltr"){const s=Xf(n),i=s/2,o=e||i,a=s-o,l=n.scrollbar.paddingStart+o,c=n.scrollbar.size-n.scrollbar.paddingEnd-a,u=n.content-n.viewport,d=r==="ltr"?[0,u]:[u*-1,0];return I_([l,c],d)(t)}function Bw(t,e,n="ltr"){const r=Xf(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-s,o=e.content-e.viewport,a=i-r,l=n==="ltr"?[0,o]:[o*-1,0],c=c9(t,l);return I_([0,o],[0,a])(c)}function I_(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function D_(t,e){return t>0&&t<e}var x9=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function s(){const i={left:t.scrollLeft,top:t.scrollTop},o=n.left!==i.left,a=n.top!==i.top;(o||a)&&e(),n=i,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function Zf(t,e){const n=Be(t),r=y.useRef(0);return y.useEffect(()=>()=>window.clearTimeout(r.current),[]),y.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function Aa(t,e){const n=Be(e);pr(()=>{let r=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(t),()=>{window.cancelAnimationFrame(r),s.unobserve(t)}}},[t,n])}function b9(t,e){const{asChild:n,children:r}=t;if(!n)return typeof e=="function"?e(r):e;const s=y.Children.only(r);return y.cloneElement(s,{children:typeof e=="function"?e(s.props.children):e})}var j_=E_,S9=T_,k9=A_;const L_=y.forwardRef(({className:t,children:e,...n},r)=>m.jsxs(j_,{ref:r,className:ce("relative overflow-hidden",t),...n,children:[m.jsx(S9,{className:"h-full w-full rounded-[inherit]",children:e}),m.jsx($_,{}),m.jsx(k9,{})]}));L_.displayName=j_.displayName;const $_=y.forwardRef(({className:t,orientation:e="vertical",...n},r)=>m.jsx(Ty,{ref:r,orientation:e,className:ce("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:m.jsx(P_,{className:"relative flex-1 rounded-full bg-border"})}));$_.displayName=Ty.displayName;function C9(){const[t,e]=y.useState([]),[n,r]=y.useState(""),[s,i]=y.useState(!1),{toast:o}=co(),{session:a}=qa(),l=async c=>{var d;if(c.preventDefault(),!n.trim()||!((d=a==null?void 0:a.user)!=null&&d.id))return;const u=n;r(""),e(f=>[...f,{role:"user",content:u}]),i(!0);try{const{data:f,error:h}=await ye.functions.invoke("chat-assistant",{body:{message:u,userId:a.user.id}});if(h)throw h;if(f.error)throw new Error(f.error);e(p=>[...p,{role:"assistant",content:f.response}])}catch(f){console.error("Error sending message:",f),o({title:"שגיאה בשליחת ההודעה",description:f.message||"אנא נסה שוב מאוחר יותר",variant:"destructive"}),e(h=>h.slice(0,-1))}finally{i(!1)}};return m.jsxs(Ge,{className:"p-4 h-[500px] flex flex-col",children:[m.jsx(L_,{className:"flex-grow mb-4 pr-4",children:m.jsxs("div",{className:"space-y-4",children:[t.map((c,u)=>m.jsx("div",{className:`flex ${c.role==="user"?"justify-end":"justify-start"}`,children:m.jsx("div",{className:`max-w-[80%] p-3 rounded-lg ${c.role==="user"?"bg-primary text-primary-foreground ml-auto":"bg-muted"}`,children:c.content})},u)),s&&m.jsx("div",{className:"flex justify-start",children:m.jsx("div",{className:"bg-muted p-3 rounded-lg",children:m.jsx(DC,{className:"h-4 w-4 animate-spin"})})})]})}),m.jsxs("form",{onSubmit:l,className:"flex gap-2",children:[m.jsx(gc,{value:n,onChange:c=>r(c.target.value),placeholder:"שאל את העוזר האישי שלך...",className:"min-h-[60px]"}),m.jsx(oe,{type:"submit",disabled:s||!n.trim(),children:m.jsx(TA,{className:"h-4 w-4"})})]})]})}function E9({day:t,schedule:e,onUpdateSchedule:n,onUpdateDayName:r,onDeleteDay:s}){const[i,o]=y.useState(!1),[a,l]=y.useState(e),[c,u]=y.useState(t),[d,f]=y.useState(!1),h=(k,C)=>{const _=[...a];_[k]={..._[k],time:C},l(_)},p=(k,C)=>{const _=[...a];_[k]={..._[k],activity:C},l(_)},g=()=>{const k={time:"00:00–00:00",activity:"משימה חדשה"},C=[...a,k];l(C),o(!0)},w=k=>{const C=a.filter((_,M)=>M!==k);l(C)},v=()=>{n(a),o(!1)},x=()=>{l(e),o(!1)},b=()=>{r(c),f(!1)},S=()=>{u(t),f(!1)};return m.jsxs(Ge,{className:"overflow-hidden transition-all hover:shadow-md",children:[m.jsxs(ki,{className:"bg-muted/50 flex flex-row items-center justify-between",children:[m.jsx("div",{className:"flex items-center gap-2",children:d?m.jsxs("div",{className:"flex gap-2",children:[m.jsx(Hs,{value:c,onChange:k=>u(k.target.value),className:"w-32"}),m.jsx(oe,{variant:"ghost",size:"sm",onClick:b,children:m.jsx(H1,{className:"h-4 w-4"})}),m.jsx(oe,{variant:"ghost",size:"sm",onClick:S,children:m.jsx(fc,{className:"h-4 w-4"})})]}):m.jsxs(m.Fragment,{children:[m.jsx(Ci,{className:"text-lg font-bold",children:t}),m.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>f(!0),children:m.jsx(Vm,{className:"h-4 w-4"})})]})}),m.jsx("div",{className:"flex gap-2",children:i?m.jsxs(m.Fragment,{children:[m.jsx(oe,{variant:"ghost",size:"sm",onClick:v,children:m.jsx(H1,{className:"h-4 w-4"})}),m.jsx(oe,{variant:"ghost",size:"sm",onClick:x,children:m.jsx(fc,{className:"h-4 w-4"})})]}):m.jsxs(m.Fragment,{children:[m.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>o(!0),children:m.jsx(Vm,{className:"h-4 w-4"})}),m.jsx(oe,{variant:"ghost",size:"sm",onClick:s,className:"hover:text-red-500",children:m.jsx(dc,{className:"h-4 w-4"})})]})})]}),m.jsxs(Ps,{className:"pt-4",children:[m.jsx("ul",{className:"space-y-2",children:(i?a:e).map((k,C)=>m.jsx("li",{className:"flex justify-between items-center py-2 border-b last:border-0",children:i?m.jsxs(m.Fragment,{children:[m.jsx(Hs,{value:k.time,onChange:_=>h(C,_.target.value),className:"w-32 ml-2"}),m.jsx(Hs,{value:k.activity,onChange:_=>p(C,_.target.value),className:"flex-1 mx-2"}),m.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>w(C),className:"hover:text-red-500",children:m.jsx(dc,{className:"h-4 w-4"})})]}):m.jsxs(m.Fragment,{children:[m.jsx(pc,{variant:"outline",className:"bg-primary/5",children:k.time}),m.jsx("span",{className:"flex-1 text-right mr-4",children:k.activity})]})},C))}),m.jsxs(oe,{variant:"outline",size:"sm",onClick:g,className:"w-full mt-4 border-dashed",children:[m.jsx(K0,{className:"h-4 w-4 mr-2"}),"הוסף משימה חדשה"]})]})]})}function _9({schedule:t,onUpdateDay:e,onUpdateDayName:n,onAddDay:r,onDeleteDay:s}){return m.jsxs("div",{className:"space-y-6",children:[t.map((i,o)=>m.jsx(E9,{day:i.day,schedule:i.schedule,onUpdateSchedule:a=>e(o,a),onUpdateDayName:a=>n(o,a),onDeleteDay:()=>s(o)},o)),m.jsxs(oe,{onClick:r,variant:"outline",className:"w-full py-6 border-dashed hover:border-primary hover:bg-primary/5",children:[m.jsx(K0,{className:"h-4 w-4 mr-2"}),"הוסף יום חדש"]})]})}const T9=t=>t,N9=t=>Array.isArray(t)?t.map(e=>{const n=e;return{time:String(n.time||""),activity:String(n.activity||"")}}):[],Vw=[{day:"יום שני",schedule:[{time:"16:00–16:15",activity:"הכנה מנטלית ופיזית"},{time:"16:15–17:00",activity:"צפייה בפרק מהקורס וסיכומים"},{time:"17:00–17:10",activity:"הפסקת ריענון קצרה"},{time:"17:10–18:00",activity:"תרגול מעשי"},{time:"18:00–18:10",activity:"הפסקה קצרה נוספת"},{time:"18:10–19:00",activity:"חזרה על החומר וכתיבת שאלות פתוחות"}]},{day:"יום שלישי",schedule:[{time:"16:00–16:15",activity:"הכנה מנטלית ופיזית"},{time:"16:15–17:00",activity:"צפייה בפרק מהקורס וסיכומים"},{time:"17:00–17:10",activity:"הפסקת ריענון קצרה"},{time:"17:10–18:00",activity:"תרגול מעשי"},{time:"18:00–18:10",activity:"הפסקה קצרה נוספת"},{time:"18:10–19:00",activity:"חזרה על החומר וכתיבת שאלות פתוחות"}]},{day:"יום רביעי",schedule:[{time:"16:00–16:15",activity:"הכנה מנטלית ופיזית"},{time:"16:15–17:00",activity:"צפייה בפרק מהקורס וסיכומים"},{time:"17:00–17:10",activity:"הפסקת ריענון קצרה"},{time:"17:10–18:00",activity:"תרגול מעשי"},{time:"18:00–18:10",activity:"הפסקה קצרה נוספת"},{time:"18:10–19:00",activity:"חזרה על החומר וכתיבת שאלות פתוחות"}]},{day:"יום חמישי",schedule:[{time:"16:00–16:15",activity:"הכנה מנטלית ופיזית"},{time:"16:15–17:00",activity:"צפייה בפרק מהקורס וסיכומים"},{time:"17:00–17:10",activity:"הפסקת ריענון קצרה"},{time:"17:10–18:00",activity:"תרגול מעשי"},{time:"18:00–18:10",activity:"הפסקה קצרה נוספת"},{time:"18:10–19:00",activity:"חזרה על החומר וכתיבת שאלות פתוחות"}]}],M9=[{week:1,title:"יסודות הקריפטו",topics:["יסודות הקריפטו","מסחר בסיסי","ניתוח טכני ראשוני"]},{week:2,title:"פלטפורמות ואינדיקטורים",topics:["תפעול פלטפורמות","עבודה עם ארנקים","אינדיקטורים","יישום בסיסי בשוק"]},{week:3,title:"אסטרטגיות מתקדמות",topics:["אסטרטגיות מתקדמות","וייקוף","מבנה שוק","המשקפיים של חי טל","תוכנית עבודה וניהול סיכונים"]},{week:4,title:"מסחר מעשי",topics:["נזילות","היצע/ביקוש","מסחר בספוט","כלים מנטליים","סקירות שוק מעשיות"]}],O9=[{title:"בלוק גיבוי",sessions:["שלישי בערב (20:30–21:30): זמן להשלמות",'שישי אחה"צ (14:00–15:00): סשן חירום להשלמת חומר']}],P9=[{title:"כללים חשובים",rules:["שגרת הכנה: סידור המקום והכנה מנטלית בכל תחילת סשן","הפסקות מובנות: כל 50 דקות לימוד, 10 דקות הפסקה","מעקב יומי: רשום במחברת מה למדת ומה דורש העמקה","תגמולים ועונשים: תגמל את עצמך על התמדה, הענש את עצמך בעדינות במקרה של התחמקות ללא סיבה"]}];function A9(){var u;const[t,e]=y.useState(Vw),{toast:n}=co(),{session:r}=qa();y.useEffect(()=>{var d;(d=r==null?void 0:r.user)!=null&&d.id&&s()},[(u=r==null?void 0:r.user)==null?void 0:u.id]);const s=async()=>{var d;try{const{data:f,error:h}=await ye.from("schedules").select("*").eq("user_id",(d=r==null?void 0:r.user)==null?void 0:d.id).order("created_at",{ascending:!0});if(h)throw h;if(f&&f.length>0){const p=f.map(g=>({day:g.day_name,schedule:N9(g.schedule)}));e(p)}else await i(Vw)}catch(f){console.error("Error loading schedule:",f),n({title:"שגיאה בטעינת לוח הזמנים",description:"אנא נסה שוב מאוחר יותר",variant:"destructive"})}},i=async d=>{var f;if((f=r==null?void 0:r.user)!=null&&f.id)try{await ye.from("schedules").delete().eq("user_id",r.user.id);const{error:h}=await ye.from("schedules").insert(d.map(p=>({user_id:r.user.id,day_name:p.day,schedule:T9(p.schedule)})));if(h)throw h}catch(h){throw console.error("Error saving schedule:",h),h}},o=async(d,f)=>{try{const h=[...t];h[d]={...h[d],schedule:f},await i(h),e(h),n({title:"לוח הזמנים עודכן",description:"השינויים נשמרו בהצלחה"})}catch{n({title:"שגיאה בשמירת לוח הזמנים",description:"אנא נסה שוב מאוחר יותר",variant:"destructive"})}},a=async(d,f)=>{try{const h=[...t];h[d]={...h[d],day:f},await i(h),e(h),n({title:"שם היום עודכן",description:"השינויים נשמרו בהצלחה"})}catch{n({title:"שגיאה בשמירת שם היום",description:"אנא נסה שוב מאוחר יותר",variant:"destructive"})}},l=async()=>{try{const d={day:`יום ${t.length+1}`,schedule:[{time:"16:00–16:15",activity:"הכנה מנטלית ופיזית"},{time:"16:15–17:00",activity:"צפייה בפרק מהקורס וסיכומים"}]},f=[...t,d];await i(f),e(f),n({title:"יום חדש נוסף",description:"יום חדש נוסף ללוח הזמנים"})}catch{n({title:"שגיאה בהוספת יום חדש",description:"אנא נסה שוב מאוחר יותר",variant:"destructive"})}},c=async d=>{try{const f=t.filter((h,p)=>p!==d);await i(f),e(f),n({title:"יום הוסר",description:"היום הוסר מלוח הזמנים"})}catch{n({title:"שגיאה במחיקת היום",description:"אנא נסה שוב מאוחר יותר",variant:"destructive"})}};return m.jsxs(Ge,{className:"mt-6",children:[m.jsx(ki,{children:m.jsx(Ci,{children:"לוח זמנים לקורס הקריפטו"})}),m.jsx(Ps,{children:m.jsxs(k_,{defaultValue:"schedule",className:"w-full",children:[m.jsxs(Ey,{className:"grid w-full grid-cols-2",children:[m.jsx(yc,{value:"schedule",children:"לוח זמנים שבועי"}),m.jsx(yc,{value:"topics",children:"נושאים שבועיים"})]}),m.jsx(vc,{value:"schedule",children:m.jsxs("div",{className:"space-y-8",children:[m.jsx(_9,{schedule:t,onUpdateDay:o,onUpdateDayName:a,onAddDay:l,onDeleteDay:c}),m.jsxs("div",{className:"space-y-8",children:[O9.map((d,f)=>m.jsxs(Ge,{className:"bg-muted/50",children:[m.jsx(ki,{children:m.jsx(Ci,{className:"text-lg",children:d.title})}),m.jsx(Ps,{children:m.jsx("ul",{className:"space-y-2",children:d.sessions.map((h,p)=>m.jsxs("li",{className:"flex items-center py-2",children:[m.jsx(pc,{variant:"secondary",className:"mr-2",children:"גיבוי"}),m.jsx("span",{children:h})]},p))})})]},f)),P9.map((d,f)=>m.jsxs(Ge,{className:"border-2 border-primary/20",children:[m.jsx(ki,{children:m.jsx(Ci,{className:"text-lg",children:d.title})}),m.jsx(Ps,{children:m.jsx("ul",{className:"space-y-2 list-disc list-inside",children:d.rules.map((h,p)=>m.jsx("li",{className:"text-muted-foreground",children:h},p))})})]},f))]})]})}),m.jsx(vc,{value:"topics",children:m.jsx("div",{className:"grid gap-6",children:M9.map(d=>m.jsxs(Ge,{className:"overflow-hidden",children:[m.jsx(ki,{className:"bg-muted",children:m.jsxs(Ci,{className:"text-lg",children:["שבוע ",d.week,": ",d.title]})}),m.jsx(Ps,{className:"pt-4",children:m.jsx("ul",{className:"space-y-2",children:d.topics.map((f,h)=>m.jsxs("li",{className:"flex items-center py-2 border-b last:border-0",children:[m.jsx(pc,{variant:"outline",className:"mr-2",children:h+1}),m.jsx("span",{children:f})]},h))})})]},d.week))})})]})})]})}function gt(t){this.content=t}gt.prototype={constructor:gt,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,s=r.find(t),i=r.content.slice();return s==-1?i.push(n||t,e):(i[s+1]=e,n&&(i[s]=n)),new gt(i)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new gt(n)},addToStart:function(t,e){return new gt([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new gt(n)},addBefore:function(t,e,n){var r=this.remove(e),s=r.content.slice(),i=r.find(t);return s.splice(i==-1?s.length:i,0,e,n),new gt(s)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=gt.from(t),t.size?new gt(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=gt.from(t),t.size?new gt(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=gt.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};gt.from=function(t){if(t instanceof gt)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new gt(e)};function F_(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let s=t.child(r),i=e.child(r);if(s==i){n+=s.nodeSize;continue}if(!s.sameMarkup(i))return n;if(s.isText&&s.text!=i.text){for(let o=0;s.text[o]==i.text[o];o++)n++;return n}if(s.content.size||i.content.size){let o=F_(s.content,i.content,n+1);if(o!=null)return o}n+=s.nodeSize}}function z_(t,e,n,r){for(let s=t.childCount,i=e.childCount;;){if(s==0||i==0)return s==i?null:{a:n,b:r};let o=t.child(--s),a=e.child(--i),l=o.nodeSize;if(o==a){n-=l,r-=l;continue}if(!o.sameMarkup(a))return{a:n,b:r};if(o.isText&&o.text!=a.text){let c=0,u=Math.min(o.text.length,a.text.length);for(;c<u&&o.text[o.text.length-c-1]==a.text[a.text.length-c-1];)c++,n--,r--;return{a:n,b:r}}if(o.content.size||a.content.size){let c=z_(o.content,a.content,n-1,r-1);if(c)return c}n-=l,r-=l}}class ${constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,s=0,i){for(let o=0,a=0;a<n;o++){let l=this.content[o],c=a+l.nodeSize;if(c>e&&r(l,s+a,i||null,o)!==!1&&l.content.size){let u=a+1;l.nodesBetween(Math.max(0,e-u),Math.min(l.content.size,n-u),r,s+u)}a=c}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,s){let i="",o=!0;return this.nodesBetween(e,n,(a,l)=>{let c=a.isText?a.text.slice(Math.max(e,l)-l,n-l):a.isLeaf?s?typeof s=="function"?s(a):s:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&c||a.isTextblock)&&r&&(o?o=!1:i+=r),i+=c},0),i}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,s=this.content.slice(),i=0;for(n.isText&&n.sameMarkup(r)&&(s[s.length-1]=n.withText(n.text+r.text),i=1);i<e.content.length;i++)s.push(e.content[i]);return new $(s,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],s=0;if(n>e)for(let i=0,o=0;o<n;i++){let a=this.content[i],l=o+a.nodeSize;l>e&&((o<e||l>n)&&(a.isText?a=a.cut(Math.max(0,e-o),Math.min(a.text.length,n-o)):a=a.cut(Math.max(0,e-o-1),Math.min(a.content.size,n-o-1))),r.push(a),s+=a.nodeSize),o=l}return new $(r,s)}cutByIndex(e,n){return e==n?$.empty:e==0&&n==this.content.length?this:new $(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let s=this.content.slice(),i=this.size+n.nodeSize-r.nodeSize;return s[e]=n,new $(s,i)}addToStart(e){return new $([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new $(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let s=this.content[n];e(s,r,n),r+=s.nodeSize}}findDiffStart(e,n=0){return F_(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return z_(this,e,n,r)}findIndex(e,n=-1){if(e==0)return Pu(0,e);if(e==this.size)return Pu(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,s=0;;r++){let i=this.child(r),o=s+i.nodeSize;if(o>=e)return o==e||n>0?Pu(r+1,o):Pu(r,s);s=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return $.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new $(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return $.empty;let n,r=0;for(let s=0;s<e.length;s++){let i=e[s];r+=i.nodeSize,s&&i.isText&&e[s-1].sameMarkup(i)?(n||(n=e.slice(0,s)),n[n.length-1]=i.withText(n[n.length-1].text+i.text)):n&&n.push(i)}return new $(n||e,r)}static from(e){if(!e)return $.empty;if(e instanceof $)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new $([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}$.empty=new $([],0);const gp={index:0,offset:0};function Pu(t,e){return gp.index=t,gp.offset=e,gp}function qd(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!qd(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!qd(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let Te=class mg{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let s=0;s<e.length;s++){let i=e[s];if(this.eq(i))return e;if(this.type.excludes(i.type))n||(n=e.slice(0,s));else{if(i.type.excludes(this.type))return e;!r&&i.type.rank>this.type.rank&&(n||(n=e.slice(0,s)),n.push(this),r=!0),n&&n.push(i)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&qd(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let s=r.create(n.attrs);return r.checkAttrs(s.attrs),s}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return mg.none;if(e instanceof mg)return[e];let n=e.slice();return n.sort((r,s)=>r.type.rank-s.type.rank),n}};Te.none=[];class Gd extends Error{}class K{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=V_(this.content,e+this.openStart,n);return r&&new K(r,this.openStart,this.openEnd)}removeBetween(e,n){return new K(B_(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return K.empty;let r=n.openStart||0,s=n.openEnd||0;if(typeof r!="number"||typeof s!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new K($.fromJSON(e,n.content),r,s)}static maxOpen(e,n=!0){let r=0,s=0;for(let i=e.firstChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.firstChild)r++;for(let i=e.lastChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.lastChild)s++;return new K(e,r,s)}}K.empty=new K($.empty,0,0);function B_(t,e,n){let{index:r,offset:s}=t.findIndex(e),i=t.maybeChild(r),{index:o,offset:a}=t.findIndex(n);if(s==e||i.isText){if(a!=n&&!t.child(o).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=o)throw new RangeError("Removing non-flat range");return t.replaceChild(r,i.copy(B_(i.content,e-s-1,n-s-1)))}function V_(t,e,n,r){let{index:s,offset:i}=t.findIndex(e),o=t.maybeChild(s);if(i==e||o.isText)return t.cut(0,e).append(n).append(t.cut(e));let a=V_(o.content,e-i-1,n);return a&&t.replaceChild(s,o.copy(a))}function R9(t,e,n){if(n.openStart>t.depth)throw new Gd("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new Gd("Inconsistent open depths");return U_(t,e,n,0)}function U_(t,e,n,r){let s=t.index(r),i=t.node(r);if(s==e.index(r)&&r<t.depth-n.openStart){let o=U_(t,e,n,r+1);return i.copy(i.content.replaceChild(s,o))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let o=t.parent,a=o.content;return Bi(o,a.cut(0,t.parentOffset).append(n.content).append(a.cut(e.parentOffset)))}else{let{start:o,end:a}=I9(n,t);return Bi(i,W_(t,o,a,e,r))}else return Bi(i,Jd(t,e,r))}function H_(t,e){if(!e.type.compatibleContent(t.type))throw new Gd("Cannot join "+e.type.name+" onto "+t.type.name)}function gg(t,e,n){let r=t.node(n);return H_(r,e.node(n)),r}function zi(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function Vl(t,e,n,r){let s=(e||t).node(n),i=0,o=e?e.index(n):s.childCount;t&&(i=t.index(n),t.depth>n?i++:t.textOffset&&(zi(t.nodeAfter,r),i++));for(let a=i;a<o;a++)zi(s.child(a),r);e&&e.depth==n&&e.textOffset&&zi(e.nodeBefore,r)}function Bi(t,e){return t.type.checkContent(e),t.copy(e)}function W_(t,e,n,r,s){let i=t.depth>s&&gg(t,e,s+1),o=r.depth>s&&gg(n,r,s+1),a=[];return Vl(null,t,s,a),i&&o&&e.index(s)==n.index(s)?(H_(i,o),zi(Bi(i,W_(t,e,n,r,s+1)),a)):(i&&zi(Bi(i,Jd(t,e,s+1)),a),Vl(e,n,s,a),o&&zi(Bi(o,Jd(n,r,s+1)),a)),Vl(r,null,s,a),new $(a)}function Jd(t,e,n){let r=[];if(Vl(null,t,n,r),t.depth>n){let s=gg(t,e,n+1);zi(Bi(s,Jd(t,e,n+1)),r)}return Vl(e,null,n,r),new $(r)}function I9(t,e){let n=e.depth-t.openStart,s=e.node(n).copy(t.content);for(let i=n-1;i>=0;i--)s=e.node(i).copy($.from(s));return{start:s.resolveNoCache(t.openStart+n),end:s.resolveNoCache(s.content.size-t.openEnd-n)}}class wc{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],s=e.child(n);return r?e.child(n).cut(r):s}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],s=n==0?0:this.path[n*3-1]+1;for(let i=0;i<e;i++)s+=r.child(i).nodeSize;return s}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return Te.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),s=e.maybeChild(n);if(!r){let a=r;r=s,s=a}let i=r.marks;for(var o=0;o<i.length;o++)i[o].type.spec.inclusive===!1&&(!s||!i[o].isInSet(s.marks))&&(i=i[o--].removeFromSet(i));return i}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,s=e.parent.maybeChild(e.index());for(var i=0;i<r.length;i++)r[i].type.spec.inclusive===!1&&(!s||!r[i].isInSet(s.marks))&&(r=r[i--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new Qd(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],s=0,i=n;for(let o=e;;){let{index:a,offset:l}=o.content.findIndex(i),c=i-l;if(r.push(o,a,s+l),!c||(o=o.child(a),o.isText))break;i=c-1,s+=l+1}return new wc(n,r,i)}static resolveCached(e,n){let r=Uw.get(e);if(r)for(let i=0;i<r.elts.length;i++){let o=r.elts[i];if(o.pos==n)return o}else Uw.set(e,r=new D9);let s=r.elts[r.i]=wc.resolve(e,n);return r.i=(r.i+1)%j9,s}}class D9{constructor(){this.elts=[],this.i=0}}const j9=12,Uw=new WeakMap;class Qd{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const L9=Object.create(null);let Ws=class yg{constructor(e,n,r,s=Te.none){this.type=e,this.attrs=n,this.marks=s,this.content=r||$.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,s=0){this.content.nodesBetween(e,n,r,s,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,s){return this.content.textBetween(e,n,r,s)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&qd(this.attrs,n||e.defaultAttrs||L9)&&Te.sameSet(this.marks,r||Te.none)}copy(e=null){return e==this.content?this:new yg(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new yg(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return K.empty;let s=this.resolve(e),i=this.resolve(n),o=r?0:s.sharedDepth(n),a=s.start(o),c=s.node(o).content.cut(s.pos-a,i.pos-a);return new K(c,s.depth-o,i.depth-o)}replace(e,n,r){return R9(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:s}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(s==e||n.isText)return n;e-=s+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let s=this.content.child(n-1);return{node:s,index:n-1,offset:r-s.nodeSize}}resolve(e){return wc.resolveCached(this,e)}resolveNoCache(e){return wc.resolve(this,e)}rangeHasMark(e,n,r){let s=!1;return n>e&&this.nodesBetween(e,n,i=>(r.isInSet(i.marks)&&(s=!0),!s)),s}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),K_(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=$.empty,s=0,i=r.childCount){let o=this.contentMatchAt(e).matchFragment(r,s,i),a=o&&o.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(let l=s;l<i;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(e,n,r,s){if(s&&!this.type.allowsMarks(s))return!1;let i=this.contentMatchAt(e).matchType(r),o=i&&i.matchFragment(this.content,n);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Te.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!Te.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let s=$.fromJSON(e,n.content),i=e.nodeType(n.type).create(n.attrs,s,r);return i.type.checkAttrs(i.attrs),i}};Ws.prototype.text=void 0;class Yd extends Ws{constructor(e,n,r,s){if(super(e,n,null,s),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):K_(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Yd(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Yd(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function K_(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class no{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new $9(e,n);if(r.next==null)return no.empty;let s=q_(r);r.next&&r.err("Unexpected trailing text");let i=W9(H9(s));return K9(i,r),i}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let s=this;for(let i=n;s&&i<r;i++)s=s.matchType(e.child(i).type);return s}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let s=[this];function i(o,a){let l=o.matchFragment(e,r);if(l&&(!n||l.validEnd))return $.from(a.map(c=>c.createAndFill()));for(let c=0;c<o.next.length;c++){let{type:u,next:d}=o.next[c];if(!(u.isText||u.hasRequiredAttrs())&&s.indexOf(d)==-1){s.push(d);let f=i(d,a.concat(u));if(f)return f}}return null}return i(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let s=r.shift(),i=s.match;if(i.matchType(e)){let o=[];for(let a=s;a.type;a=a.via)o.push(a.type);return o.reverse()}for(let o=0;o<i.next.length;o++){let{type:a,next:l}=i.next[o];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in n)&&(!s.type||l.validEnd)&&(r.push({match:a.contentMatch,type:a,via:s}),n[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let s=0;s<r.next.length;s++)e.indexOf(r.next[s].next)==-1&&n(r.next[s].next)}return n(this),e.map((r,s)=>{let i=s+(r.validEnd?"*":" ")+" ";for(let o=0;o<r.next.length;o++)i+=(o?", ":"")+r.next[o].type.name+"->"+e.indexOf(r.next[o].next);return i}).join(`
`)}}no.empty=new no(!0);class $9{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function q_(t){let e=[];do e.push(F9(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function F9(t){let e=[];do e.push(z9(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function z9(t){let e=U9(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=B9(t,e);else break;return e}function Hw(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function B9(t,e){let n=Hw(t),r=n;return t.eat(",")&&(t.next!="}"?r=Hw(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function V9(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let s=[];for(let i in n){let o=n[i];o.isInGroup(e)&&s.push(o)}return s.length==0&&t.err("No node type or group '"+e+"' found"),s}function U9(t){if(t.eat("(")){let e=q_(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=V9(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function H9(t){let e=[[]];return s(i(t,0),n()),e;function n(){return e.push([])-1}function r(o,a,l){let c={term:l,to:a};return e[o].push(c),c}function s(o,a){o.forEach(l=>l.to=a)}function i(o,a){if(o.type=="choice")return o.exprs.reduce((l,c)=>l.concat(i(c,a)),[]);if(o.type=="seq")for(let l=0;;l++){let c=i(o.exprs[l],a);if(l==o.exprs.length-1)return c;s(c,a=n())}else if(o.type=="star"){let l=n();return r(a,l),s(i(o.expr,l),l),[r(l)]}else if(o.type=="plus"){let l=n();return s(i(o.expr,a),l),s(i(o.expr,l),l),[r(l)]}else{if(o.type=="opt")return[r(a)].concat(i(o.expr,a));if(o.type=="range"){let l=a;for(let c=0;c<o.min;c++){let u=n();s(i(o.expr,l),u),l=u}if(o.max==-1)s(i(o.expr,l),l);else for(let c=o.min;c<o.max;c++){let u=n();r(l,u),s(i(o.expr,l),u),l=u}return[r(l)]}else{if(o.type=="name")return[r(a,void 0,o.value)];throw new Error("Unknown expr type")}}}}function G_(t,e){return e-t}function Ww(t,e){let n=[];return r(e),n.sort(G_);function r(s){let i=t[s];if(i.length==1&&!i[0].term)return r(i[0].to);n.push(s);for(let o=0;o<i.length;o++){let{term:a,to:l}=i[o];!a&&n.indexOf(l)==-1&&r(l)}}}function W9(t){let e=Object.create(null);return n(Ww(t,0));function n(r){let s=[];r.forEach(o=>{t[o].forEach(({term:a,to:l})=>{if(!a)return;let c;for(let u=0;u<s.length;u++)s[u][0]==a&&(c=s[u][1]);Ww(t,l).forEach(u=>{c||s.push([a,c=[]]),c.indexOf(u)==-1&&c.push(u)})})});let i=e[r.join(",")]=new no(r.indexOf(t.length-1)>-1);for(let o=0;o<s.length;o++){let a=s[o][1].sort(G_);i.next.push({type:s[o][0],next:e[a.join(",")]||n(a)})}return i}}function K9(t,e){for(let n=0,r=[t];n<r.length;n++){let s=r[n],i=!s.validEnd,o=[];for(let a=0;a<s.next.length;a++){let{type:l,next:c}=s.next[a];o.push(l.name),i&&!(l.isText||l.hasRequiredAttrs())&&(i=!1),r.indexOf(c)==-1&&r.push(c)}i&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function J_(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function Q_(t,e){let n=Object.create(null);for(let r in t){let s=e&&e[r];if(s===void 0){let i=t[r];if(i.hasDefault)s=i.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=s}return n}function Y_(t,e,n,r){for(let s in e)if(!(s in t))throw new RangeError(`Unsupported attribute ${s} for ${n} of type ${s}`);for(let s in t){let i=t[s];i.validate&&i.validate(e[s])}}function X_(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new G9(t,r,e[r]);return n}let Kw=class Z_{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=X_(e,r.attrs),this.defaultAttrs=J_(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==no.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:Q_(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Ws(this,this.computeAttrs(e),$.from(n),Te.setFrom(r))}createChecked(e=null,n,r){return n=$.from(n),this.checkContent(n),new Ws(this,this.computeAttrs(e),n,Te.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=$.from(n),n.size){let o=this.contentMatch.fillBefore(n);if(!o)return null;n=o.append(n)}let s=this.contentMatch.matchFragment(n),i=s&&s.fillBefore($.empty,!0);return i?new Ws(this,e,n.append(i),Te.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){Y_(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:Te.none:e}static compile(e,n){let r=Object.create(null);e.forEach((i,o)=>r[i]=new Z_(i,n,o));let s=n.spec.topNode||"doc";if(!r[s])throw new RangeError("Schema is missing its top node type ('"+s+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let i in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function q9(t,e,n){let r=n.split("|");return s=>{let i=s===null?"null":typeof s;if(r.indexOf(i)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${i}`)}}class G9{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?q9(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class eh{constructor(e,n,r,s){this.name=e,this.rank=n,this.schema=r,this.spec=s,this.attrs=X_(e,s.attrs),this.excluded=null;let i=J_(this.attrs);this.instance=i?new Te(this,i):null}create(e=null){return!e&&this.instance?this.instance:new Te(this,Q_(this.attrs,e))}static compile(e,n){let r=Object.create(null),s=0;return e.forEach((i,o)=>r[i]=new eh(i,s++,n,o)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){Y_(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class eT{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let s in e)n[s]=e[s];n.nodes=gt.from(e.nodes),n.marks=gt.from(e.marks||{}),this.nodes=Kw.compile(this.spec.nodes,this),this.marks=eh.compile(this.spec.marks,this);let r=Object.create(null);for(let s in this.nodes){if(s in this.marks)throw new RangeError(s+" can not be both a node and a mark");let i=this.nodes[s],o=i.spec.content||"",a=i.spec.marks;if(i.contentMatch=r[o]||(r[o]=no.parse(o,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!i.isInline||!i.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=i}i.markSet=a=="_"?null:a?qw(this,a.split(" ")):a==""||!i.inlineContent?[]:null}for(let s in this.marks){let i=this.marks[s],o=i.spec.excludes;i.excluded=o==null?[i]:o==""?[]:qw(this,o.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,s){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof Kw){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,s)}text(e,n){let r=this.nodes.text;return new Yd(r,r.defaultAttrs,e,Te.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return Ws.fromJSON(this,e)}markFromJSON(e){return Te.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function qw(t,e){let n=[];for(let r=0;r<e.length;r++){let s=e[r],i=t.marks[s],o=i;if(i)n.push(i);else for(let a in t.marks){let l=t.marks[a];(s=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(s)>-1)&&n.push(o=l)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function J9(t){return t.tag!=null}function Q9(t){return t.style!=null}class Ks{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(s=>{if(J9(s))this.tags.push(s);else if(Q9(s)){let i=/[^=]*/.exec(s.style)[0];r.indexOf(i)<0&&r.push(i),this.styles.push(s)}}),this.normalizeLists=!this.tags.some(s=>{if(!/^(ul|ol)\b/.test(s.tag)||!s.node)return!1;let i=e.nodes[s.node];return i.contentMatch.matchType(i)})}parse(e,n={}){let r=new Jw(this,n,!1);return r.addAll(e,Te.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new Jw(this,n,!0);return r.addAll(e,Te.none,n.from,n.to),K.maxOpen(r.finish())}matchTag(e,n,r){for(let s=r?this.tags.indexOf(r)+1:0;s<this.tags.length;s++){let i=this.tags[s];if(Z9(e,i.tag)&&(i.namespace===void 0||e.namespaceURI==i.namespace)&&(!i.context||n.matchesContext(i.context))){if(i.getAttrs){let o=i.getAttrs(e);if(o===!1)continue;i.attrs=o||void 0}return i}}}matchStyle(e,n,r,s){for(let i=s?this.styles.indexOf(s)+1:0;i<this.styles.length;i++){let o=this.styles[i],a=o.style;if(!(a.indexOf(e)!=0||o.context&&!r.matchesContext(o.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=n))){if(o.getAttrs){let l=o.getAttrs(n);if(l===!1)continue;o.attrs=l||void 0}return o}}}static schemaRules(e){let n=[];function r(s){let i=s.priority==null?50:s.priority,o=0;for(;o<n.length;o++){let a=n[o];if((a.priority==null?50:a.priority)<i)break}n.splice(o,0,s)}for(let s in e.marks){let i=e.marks[s].spec.parseDOM;i&&i.forEach(o=>{r(o=Qw(o)),o.mark||o.ignore||o.clearMark||(o.mark=s)})}for(let s in e.nodes){let i=e.nodes[s].spec.parseDOM;i&&i.forEach(o=>{r(o=Qw(o)),o.node||o.ignore||o.mark||(o.node=s)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Ks(e,Ks.schemaRules(e)))}}const tT={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Y9={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},nT={ol:!0,ul:!0},xc=1,vg=2,Ul=4;function Gw(t,e,n){return e!=null?(e?xc:0)|(e==="full"?vg:0):t&&t.whitespace=="pre"?xc|vg:n&~Ul}class Au{constructor(e,n,r,s,i,o){this.type=e,this.attrs=n,this.marks=r,this.solid=s,this.options=o,this.content=[],this.activeMarks=Te.none,this.match=i||(o&Ul?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore($.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,s;return(s=r.findWrapping(e.type))?(this.match=r,s):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&xc)){let r=this.content[this.content.length-1],s;if(r&&r.isText&&(s=/[ \t\r\n\u000c]+$/.exec(r.text))){let i=r;r.text.length==s[0].length?this.content.pop():this.content[this.content.length-1]=i.withText(i.text.slice(0,i.text.length-s[0].length))}}let n=$.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore($.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!tT.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class Jw{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let s=n.topNode,i,o=Gw(null,n.preserveWhitespace,0)|(r?Ul:0);s?i=new Au(s.type,s.attrs,Te.none,!0,n.topMatch||s.type.contentMatch,o):r?i=new Au(null,null,Te.none,!0,null,o):i=new Au(e.schema.topNodeType,null,Te.none,!0,null,o),this.nodes=[i],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,s=this.top,i=s.options&vg?"full":this.localPreserveWS||(s.options&xc)>0;if(i==="full"||s.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(i)i!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let o=s.content[s.content.length-1],a=e.previousSibling;(!o||a&&a.nodeName=="BR"||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),n),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let s=this.localPreserveWS,i=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let o=e.nodeName.toLowerCase(),a;nT.hasOwnProperty(o)&&this.parser.normalizeLists&&X9(e);let l=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(a=this.parser.matchTag(e,this,r));e:if(l?l.ignore:Y9.hasOwnProperty(o))this.findInside(e),this.ignoreFallback(e,n);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(e=l.skip);let c,u=this.needsBlock;if(tT.hasOwnProperty(o))i.content.length&&i.content[0].isInline&&this.open&&(this.open--,i=this.top),c=!0,i.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let d=l&&l.skip?n:this.readStyles(e,n);d&&this.addAll(e,d),c&&this.sync(i),this.needsBlock=u}else{let c=this.readStyles(e,n);c&&this.addElementByRule(e,l,c,l.consuming===!1?a:void 0)}this.localPreserveWS=s}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let s=0;s<this.parser.matchedStyles.length;s++){let i=this.parser.matchedStyles[s],o=r.getPropertyValue(i);if(o)for(let a=void 0;;){let l=this.parser.matchStyle(i,o,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?n=n.filter(c=>!l.clearMark(c)):n=n.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)a=l;else break}}return n}addElementByRule(e,n,r,s){let i,o;if(n.node)if(o=this.parser.schema.nodes[n.node],o.isLeaf)this.insertNode(o.create(n.attrs),r)||this.leafFallback(e,r);else{let l=this.enter(o,n.attrs||null,r,n.preserveWhitespace);l&&(i=!0,r=l)}else{let l=this.parser.schema.marks[n.mark];r=r.concat(l.create(n.attrs))}let a=this.top;if(o&&o.isLeaf)this.findInside(e);else if(s)this.addElement(e,r,s);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l,r));else{let l=e;typeof n.contentElement=="string"?l=e.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(e):n.contentElement&&(l=n.contentElement),this.findAround(e,l,!0),this.addAll(l,r),this.findAround(e,l,!1)}i&&this.sync(a)&&this.open--}addAll(e,n,r,s){let i=r||0;for(let o=r?e.childNodes[r]:e.firstChild,a=s==null?null:e.childNodes[s];o!=a;o=o.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(o,n);this.findAtPoint(e,i)}findPlace(e,n){let r,s;for(let i=this.open;i>=0;i--){let o=this.nodes[i],a=o.findWrapping(e);if(a&&(!r||r.length>a.length)&&(r=a,s=o,!a.length)||o.solid)break}if(!r)return null;this.sync(s);for(let i=0;i<r.length;i++)n=this.enterInner(r[i],null,n,!1);return n}insertNode(e,n){if(e.isInline&&this.needsBlock&&!this.top.type){let s=this.textblockFromContext();s&&(n=this.enterInner(s,null,n))}let r=this.findPlace(e,n);if(r){this.closeExtra();let s=this.top;s.match&&(s.match=s.match.matchType(e.type));let i=Te.none;for(let o of r.concat(e.marks))(s.type?s.type.allowsMarkType(o.type):Yw(o.type,e.type))&&(i=o.addToSet(i));return s.content.push(e.mark(i)),!0}return!1}enter(e,n,r,s){let i=this.findPlace(e.create(n),r);return i&&(i=this.enterInner(e,n,r,!0,s)),i}enterInner(e,n,r,s=!1,i){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(e);let a=Gw(e,i,o.options);o.options&Ul&&o.content.length==0&&(a|=Ul);let l=Te.none;return r=r.filter(c=>(o.type?o.type.allowsMarkType(c.type):Yw(c.type,e))?(l=c.addToSet(l),!1):!0),this.nodes.push(new Au(e,n,l,s,null,a)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=xc)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let s=r.length-1;s>=0;s--)e+=r[s].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let s=0;s<this.find.length;s++)this.find[s].pos==null&&e.nodeType==1&&e.contains(this.find[s].node)&&n.compareDocumentPosition(this.find[s].node)&(r?2:4)&&(this.find[s].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,s=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),i=-(r?r.depth+1:0)+(s?0:1),o=(a,l)=>{for(;a>=0;a--){let c=n[a];if(c==""){if(a==n.length-1||a==0)continue;for(;l>=i;l--)if(o(a-1,l))return!0;return!1}else{let u=l>0||l==0&&s?this.nodes[l].type:r&&l>=i?r.node(l-i).type:null;if(!u||u.name!=c&&!u.isInGroup(c))return!1;l--}}return!0};return o(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function X9(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&nT.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function Z9(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function Qw(t){let e={};for(let n in t)e[n]=t[n];return e}function Yw(t,e){let n=e.schema.nodes;for(let r in n){let s=n[r];if(!s.allowsMarkType(t))continue;let i=[],o=a=>{i.push(a);for(let l=0;l<a.edgeCount;l++){let{type:c,next:u}=a.edge(l);if(c==e||i.indexOf(u)<0&&o(u))return!0}};if(o(s.contentMatch))return!0}}class ho{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=yp(n).createDocumentFragment());let s=r,i=[];return e.forEach(o=>{if(i.length||o.marks.length){let a=0,l=0;for(;a<i.length&&l<o.marks.length;){let c=o.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(i[a][0])||c.type.spec.spanning===!1)break;a++,l++}for(;a<i.length;)s=i.pop()[1];for(;l<o.marks.length;){let c=o.marks[l++],u=this.serializeMark(c,o.isInline,n);u&&(i.push([c,s]),s.appendChild(u.dom),s=u.contentDOM||u.dom)}}s.appendChild(this.serializeNodeInner(o,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:s}=id(yp(n),this.nodes[e.type.name](e),null,e.attrs);if(s){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,s)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let s=e.marks.length-1;s>=0;s--){let i=this.serializeMark(e.marks[s],e.isInline,n);i&&((i.contentDOM||i.dom).appendChild(r),r=i.dom)}return r}serializeMark(e,n,r={}){let s=this.marks[e.type.name];return s&&id(yp(r),s(e,n),null,e.attrs)}static renderSpec(e,n,r=null,s){return id(e,n,r,s)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new ho(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=Xw(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return Xw(e.marks)}}function Xw(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function yp(t){return t.document||window.document}const Zw=new WeakMap;function e8(t){let e=Zw.get(t);return e===void 0&&Zw.set(t,e=t8(t)),e}function t8(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let s=0;s<r.length;s++)n(r[s]);else for(let s in r)n(r[s])}return n(t),e}function id(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let s=e[0],i;if(typeof s!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(i=e8(r))&&i.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=s.indexOf(" ");o>0&&(n=s.slice(0,o),s=s.slice(o+1));let a,l=n?t.createElementNS(n,s):t.createElement(s),c=e[1],u=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){u=2;for(let d in c)if(c[d]!=null){let f=d.indexOf(" ");f>0?l.setAttributeNS(d.slice(0,f),d.slice(f+1),c[d]):l.setAttribute(d,c[d])}}for(let d=u;d<e.length;d++){let f=e[d];if(f===0){if(d<e.length-1||d>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:h,contentDOM:p}=id(t,f,n,r);if(l.appendChild(h),p){if(a)throw new RangeError("Multiple content holes");a=p}}}return{dom:l,contentDOM:a}}const rT=65535,sT=Math.pow(2,16);function n8(t,e){return t+e*sT}function ex(t){return t&rT}function r8(t){return(t-(t&rT))/sT}const iT=1,oT=2,od=4,aT=8;class wg{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&aT)>0}get deletedBefore(){return(this.delInfo&(iT|od))>0}get deletedAfter(){return(this.delInfo&(oT|od))>0}get deletedAcross(){return(this.delInfo&od)>0}}class cn{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&cn.empty)return cn.empty}recover(e){let n=0,r=ex(e);if(!this.inverted)for(let s=0;s<r;s++)n+=this.ranges[s*3+2]-this.ranges[s*3+1];return this.ranges[r*3]+n+r8(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let s=0,i=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?s:0);if(l>e)break;let c=this.ranges[a+i],u=this.ranges[a+o],d=l+c;if(e<=d){let f=c?e==l?-1:e==d?1:n:n,h=l+s+(f<0?0:u);if(r)return h;let p=e==(n<0?l:d)?null:n8(a/3,e-l),g=e==l?oT:e==d?iT:od;return(n<0?e!=l:e!=d)&&(g|=aT),new wg(h,g,p)}s+=u-c}return r?e+s:new wg(e+s,0,null)}touches(e,n){let r=0,s=ex(n),i=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>e)break;let c=this.ranges[a+i],u=l+c;if(e<=u&&a==s*3)return!0;r+=this.ranges[a+o]-c}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let s=0,i=0;s<this.ranges.length;s+=3){let o=this.ranges[s],a=o-(this.inverted?i:0),l=o+(this.inverted?0:i),c=this.ranges[s+n],u=this.ranges[s+r];e(a,a+c,l,l+u),i+=u-c}}invert(){return new cn(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?cn.empty:new cn(e<0?[0,-e,0]:[0,0,e])}}cn.empty=new cn([]);class na{constructor(e=[],n,r=0,s=e.length){this.maps=e,this.mirror=n,this.from=r,this.to=s}slice(e=0,n=this.maps.length){return new na(this.maps,this.mirror,e,n)}copy(){return new na(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,n){this.to=this.maps.push(e),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(e){for(let n=0,r=this.maps.length;n<e.maps.length;n++){let s=e.getMirror(n);this.appendMap(e.maps[n],s!=null&&s<n?r+s:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this.maps.length+e.maps.length;n>=0;n--){let s=e.getMirror(n);this.appendMap(e.maps[n].invert(),s!=null&&s>n?r-s-1:void 0)}}invert(){let e=new na;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this.maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let s=0;for(let i=this.from;i<this.to;i++){let o=this.maps[i],a=o.mapResult(e,n);if(a.recover!=null){let l=this.getMirror(i);if(l!=null&&l>i&&l<this.to){i=l,e=this.maps[l].recover(a.recover);continue}}s|=a.delInfo,e=a.pos}return r?e:new wg(e,s,null)}}const vp=Object.create(null);class At{getMap(){return cn.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=vp[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in vp)throw new RangeError("Duplicate use of step JSON ID "+e);return vp[e]=n,n.prototype.jsonID=e,n}}class Je{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new Je(e,null)}static fail(e){return new Je(null,e)}static fromReplace(e,n,r,s){try{return Je.ok(e.replace(n,r,s))}catch(i){if(i instanceof Gd)return Je.fail(i.message);throw i}}}function Oy(t,e,n){let r=[];for(let s=0;s<t.childCount;s++){let i=t.child(s);i.content.size&&(i=i.copy(Oy(i.content,e,i))),i.isInline&&(i=e(i,n,s)),r.push(i)}return $.fromArray(r)}class As extends At{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),s=r.node(r.sharedDepth(this.to)),i=new K(Oy(n.content,(o,a)=>!o.isAtom||!a.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),s),n.openStart,n.openEnd);return Je.fromReplace(e,this.from,this.to,i)}invert(){return new ur(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new As(n.pos,r.pos,this.mark)}merge(e){return e instanceof As&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new As(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new As(n.from,n.to,e.markFromJSON(n.mark))}}At.jsonID("addMark",As);class ur extends At{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new K(Oy(n.content,s=>s.mark(this.mark.removeFromSet(s.marks)),e),n.openStart,n.openEnd);return Je.fromReplace(e,this.from,this.to,r)}invert(){return new As(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new ur(n.pos,r.pos,this.mark)}merge(e){return e instanceof ur&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new ur(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new ur(n.from,n.to,e.markFromJSON(n.mark))}}At.jsonID("removeMark",ur);class Rs extends At{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Je.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return Je.fromReplace(e,this.pos,this.pos+1,new K($.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let s=0;s<n.marks.length;s++)if(!n.marks[s].isInSet(r))return new Rs(this.pos,n.marks[s]);return new Rs(this.pos,this.mark)}}return new Ra(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Rs(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Rs(n.pos,e.markFromJSON(n.mark))}}At.jsonID("addNodeMark",Rs);class Ra extends At{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Je.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return Je.fromReplace(e,this.pos,this.pos+1,new K($.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Rs(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Ra(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Ra(n.pos,e.markFromJSON(n.mark))}}At.jsonID("removeNodeMark",Ra);class lt extends At{constructor(e,n,r,s=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=s}apply(e){return this.structure&&xg(e,this.from,this.to)?Je.fail("Structure replace would overwrite content"):Je.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new cn([this.from,this.to-this.from,this.slice.size])}invert(e){return new lt(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new lt(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(e){if(!(e instanceof lt)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?K.empty:new K(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new lt(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?K.empty:new K(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new lt(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new lt(n.from,n.to,K.fromJSON(e,n.slice),!!n.structure)}}At.jsonID("replace",lt);class ut extends At{constructor(e,n,r,s,i,o,a=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=s,this.slice=i,this.insert=o,this.structure=a}apply(e){if(this.structure&&(xg(e,this.from,this.gapFrom)||xg(e,this.gapTo,this.to)))return Je.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Je.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?Je.fromReplace(e,this.from,this.to,r):Je.fail("Content does not fit in gap")}getMap(){return new cn([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new ut(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),s=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),i=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||s<n.pos||i>r.pos?null:new ut(n.pos,r.pos,s,i,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new ut(n.from,n.to,n.gapFrom,n.gapTo,K.fromJSON(e,n.slice),n.insert,!!n.structure)}}At.jsonID("replaceAround",ut);function xg(t,e,n){let r=t.resolve(e),s=n-e,i=r.depth;for(;s>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,s--;if(s>0){let o=r.node(i).maybeChild(r.indexAfter(i));for(;s>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,s--}}return!1}function s8(t,e,n,r){let s=[],i=[],o,a;t.doc.nodesBetween(e,n,(l,c,u)=>{if(!l.isInline)return;let d=l.marks;if(!r.isInSet(d)&&u.type.allowsMarkType(r.type)){let f=Math.max(c,e),h=Math.min(c+l.nodeSize,n),p=r.addToSet(d);for(let g=0;g<d.length;g++)d[g].isInSet(p)||(o&&o.to==f&&o.mark.eq(d[g])?o.to=h:s.push(o=new ur(f,h,d[g])));a&&a.to==f?a.to=h:i.push(a=new As(f,h,r))}}),s.forEach(l=>t.step(l)),i.forEach(l=>t.step(l))}function i8(t,e,n,r){let s=[],i=0;t.doc.nodesBetween(e,n,(o,a)=>{if(!o.isInline)return;i++;let l=null;if(r instanceof eh){let c=o.marks,u;for(;u=r.isInSet(c);)(l||(l=[])).push(u),c=u.removeFromSet(c)}else r?r.isInSet(o.marks)&&(l=[r]):l=o.marks;if(l&&l.length){let c=Math.min(a+o.nodeSize,n);for(let u=0;u<l.length;u++){let d=l[u],f;for(let h=0;h<s.length;h++){let p=s[h];p.step==i-1&&d.eq(s[h].style)&&(f=p)}f?(f.to=c,f.step=i):s.push({style:d,from:Math.max(a,e),to:c,step:i})}}}),s.forEach(o=>t.step(new ur(o.from,o.to,o.style)))}function Py(t,e,n,r=n.contentMatch,s=!0){let i=t.doc.nodeAt(e),o=[],a=e+1;for(let l=0;l<i.childCount;l++){let c=i.child(l),u=a+c.nodeSize,d=r.matchType(c.type);if(!d)o.push(new lt(a,u,K.empty));else{r=d;for(let f=0;f<c.marks.length;f++)n.allowsMarkType(c.marks[f].type)||t.step(new ur(a,u,c.marks[f]));if(s&&c.isText&&n.whitespace!="pre"){let f,h=/\r?\n|\r/g,p;for(;f=h.exec(c.text);)p||(p=new K($.from(n.schema.text(" ",n.allowedMarks(c.marks))),0,0)),o.push(new lt(a+f.index,a+f.index+f[0].length,p))}}a=u}if(!r.validEnd){let l=r.fillBefore($.empty,!0);t.replace(a,a,new K(l,0,0))}for(let l=o.length-1;l>=0;l--)t.step(o[l])}function o8(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function Ja(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let s=t.$from.node(r),i=t.$from.index(r),o=t.$to.indexAfter(r);if(r<t.depth&&s.canReplace(i,o,n))return r;if(r==0||s.type.spec.isolating||!o8(s,i,o))break}return null}function a8(t,e,n){let{$from:r,$to:s,depth:i}=e,o=r.before(i+1),a=s.after(i+1),l=o,c=a,u=$.empty,d=0;for(let p=i,g=!1;p>n;p--)g||r.index(p)>0?(g=!0,u=$.from(r.node(p).copy(u)),d++):l--;let f=$.empty,h=0;for(let p=i,g=!1;p>n;p--)g||s.after(p+1)<s.end(p)?(g=!0,f=$.from(s.node(p).copy(f)),h++):c++;t.step(new ut(l,c,o,a,new K(u.append(f),d,h),u.size-d,!0))}function Ay(t,e,n=null,r=t){let s=l8(t,e),i=s&&c8(r,e);return i?s.map(tx).concat({type:e,attrs:n}).concat(i.map(tx)):null}function tx(t){return{type:t,attrs:null}}function l8(t,e){let{parent:n,startIndex:r,endIndex:s}=t,i=n.contentMatchAt(r).findWrapping(e);if(!i)return null;let o=i.length?i[0]:e;return n.canReplaceWith(r,s,o)?i:null}function c8(t,e){let{parent:n,startIndex:r,endIndex:s}=t,i=n.child(r),o=e.contentMatch.findWrapping(i.type);if(!o)return null;let l=(o.length?o[o.length-1]:e).contentMatch;for(let c=r;l&&c<s;c++)l=l.matchType(n.child(c).type);return!l||!l.validEnd?null:o}function u8(t,e,n){let r=$.empty;for(let o=n.length-1;o>=0;o--){if(r.size){let a=n[o].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=$.from(n[o].type.create(n[o].attrs,r))}let s=e.start,i=e.end;t.step(new ut(s,i,s,i,new K(r,0,0),n.length,!0))}function d8(t,e,n,r,s){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let i=t.steps.length;t.doc.nodesBetween(e,n,(o,a)=>{let l=typeof s=="function"?s(o):s;if(o.isTextblock&&!o.hasMarkup(r,l)&&f8(t.doc,t.mapping.slice(i).map(a),r)){let c=null;if(r.schema.linebreakReplacement){let h=r.whitespace=="pre",p=!!r.contentMatch.matchType(r.schema.linebreakReplacement);h&&!p?c=!1:!h&&p&&(c=!0)}c===!1&&cT(t,o,a,i),Py(t,t.mapping.slice(i).map(a,1),r,void 0,c===null);let u=t.mapping.slice(i),d=u.map(a,1),f=u.map(a+o.nodeSize,1);return t.step(new ut(d,f,d+1,f-1,new K($.from(r.create(l,null,o.marks)),0,0),1,!0)),c===!0&&lT(t,o,a,i),!1}})}function lT(t,e,n,r){e.forEach((s,i)=>{if(s.isText){let o,a=/\r?\n|\r/g;for(;o=a.exec(s.text);){let l=t.mapping.slice(r).map(n+1+i+o.index);t.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}function cT(t,e,n,r){e.forEach((s,i)=>{if(s.type==s.type.schema.linebreakReplacement){let o=t.mapping.slice(r).map(n+1+i);t.replaceWith(o,o+1,e.type.schema.text(`
`))}})}function f8(t,e,n){let r=t.resolve(e),s=r.index();return r.parent.canReplaceWith(s,s+1,n)}function h8(t,e,n,r,s){let i=t.doc.nodeAt(e);if(!i)throw new RangeError("No node at given position");n||(n=i.type);let o=n.create(r,null,s||i.marks);if(i.isLeaf)return t.replaceWith(e,e+i.nodeSize,o);if(!n.validContent(i.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new ut(e,e+i.nodeSize,e+1,e+i.nodeSize-1,new K($.from(o),0,0),1,!0))}function ra(t,e,n=1,r){let s=t.resolve(e),i=s.depth-n,o=r&&r[r.length-1]||s.parent;if(i<0||s.parent.type.spec.isolating||!s.parent.canReplace(s.index(),s.parent.childCount)||!o.type.validContent(s.parent.content.cutByIndex(s.index(),s.parent.childCount)))return!1;for(let c=s.depth-1,u=n-2;c>i;c--,u--){let d=s.node(c),f=s.index(c);if(d.type.spec.isolating)return!1;let h=d.content.cutByIndex(f,d.childCount),p=r&&r[u+1];p&&(h=h.replaceChild(0,p.type.create(p.attrs)));let g=r&&r[u]||d;if(!d.canReplace(f+1,d.childCount)||!g.type.validContent(h))return!1}let a=s.indexAfter(i),l=r&&r[0];return s.node(i).canReplaceWith(a,a,l?l.type:s.node(i+1).type)}function p8(t,e,n=1,r){let s=t.doc.resolve(e),i=$.empty,o=$.empty;for(let a=s.depth,l=s.depth-n,c=n-1;a>l;a--,c--){i=$.from(s.node(a).copy(i));let u=r&&r[c];o=$.from(u?u.type.create(u.attrs,o):s.node(a).copy(o))}t.step(new lt(e,e,new K(i.append(o),n,n),!0))}function li(t,e){let n=t.resolve(e),r=n.index();return uT(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function m8(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let s=0;s<e.childCount;s++){let i=e.child(s),o=i.type==r?t.type.schema.nodes.text:i.type;if(n=n.matchType(o),!n||!t.type.allowsMarks(i.marks))return!1}return n.validEnd}function uT(t,e){return!!(t&&e&&!t.isLeaf&&m8(t,e))}function th(t,e,n=-1){let r=t.resolve(e);for(let s=r.depth;;s--){let i,o,a=r.index(s);if(s==r.depth?(i=r.nodeBefore,o=r.nodeAfter):n>0?(i=r.node(s+1),a++,o=r.node(s).maybeChild(a)):(i=r.node(s).maybeChild(a-1),o=r.node(s+1)),i&&!i.isTextblock&&uT(i,o)&&r.node(s).canReplace(a,a+1))return e;if(s==0)break;e=n<0?r.before(s):r.after(s)}}function g8(t,e,n){let r=null,{linebreakReplacement:s}=t.doc.type.schema,i=t.doc.resolve(e-n),o=i.node().type;if(s&&o.inlineContent){let u=o.whitespace=="pre",d=!!o.contentMatch.matchType(s);u&&!d?r=!1:!u&&d&&(r=!0)}let a=t.steps.length;if(r===!1){let u=t.doc.resolve(e+n);cT(t,u.node(),u.before(),a)}o.inlineContent&&Py(t,e+n-1,o,i.node().contentMatchAt(i.index()),r==null);let l=t.mapping.slice(a),c=l.map(e-n);if(t.step(new lt(c,l.map(e+n,-1),K.empty,!0)),r===!0){let u=t.doc.resolve(c);lT(t,u.node(),u.before(),t.steps.length)}return t}function y8(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let s=r.depth-1;s>=0;s--){let i=r.index(s);if(r.node(s).canReplaceWith(i,i,n))return r.before(s+1);if(i>0)return null}if(r.parentOffset==r.parent.content.size)for(let s=r.depth-1;s>=0;s--){let i=r.indexAfter(s);if(r.node(s).canReplaceWith(i,i,n))return r.after(s+1);if(i<r.node(s).childCount)return null}return null}function dT(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let s=n.content;for(let i=0;i<n.openStart;i++)s=s.firstChild.content;for(let i=1;i<=(n.openStart==0&&n.size?2:1);i++)for(let o=r.depth;o>=0;o--){let a=o==r.depth?0:r.pos<=(r.start(o+1)+r.end(o+1))/2?-1:1,l=r.index(o)+(a>0?1:0),c=r.node(o),u=!1;if(i==1)u=c.canReplace(l,l,s);else{let d=c.contentMatchAt(l).findWrapping(s.firstChild.type);u=d&&c.canReplaceWith(l,l,d[0])}if(u)return a==0?r.pos:a<0?r.before(o+1):r.after(o+1)}return null}function nh(t,e,n=e,r=K.empty){if(e==n&&!r.size)return null;let s=t.resolve(e),i=t.resolve(n);return fT(s,i,r)?new lt(e,n,r):new v8(s,i,r).fit()}function fT(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class v8{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=$.empty;for(let s=0;s<=e.depth;s++){let i=e.node(s);this.frontier.push({type:i.type,match:i.contentMatchAt(e.indexAfter(s))})}for(let s=e.depth;s>0;s--)this.placed=$.from(e.node(s).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,s=this.close(e<0?this.$to:r.doc.resolve(e));if(!s)return null;let i=this.placed,o=r.depth,a=s.depth;for(;o&&a&&i.childCount==1;)i=i.firstChild.content,o--,a--;let l=new K(i,o,a);return e>-1?new ut(r.pos,e,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new lt(r.pos,s.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,s=this.unplaced.openEnd;r<e;r++){let i=n.firstChild;if(n.childCount>1&&(s=0),i.type.spec.isolating&&s<=r){e=r;break}n=i.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let s,i=null;r?(i=wp(this.unplaced.content,r-1).firstChild,s=i.content):s=this.unplaced.content;let o=s.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:c}=this.frontier[a],u,d=null;if(n==1&&(o?c.matchType(o.type)||(d=c.fillBefore($.from(o),!1)):i&&l.compatibleContent(i.type)))return{sliceDepth:r,frontierDepth:a,parent:i,inject:d};if(n==2&&o&&(u=c.findWrapping(o.type)))return{sliceDepth:r,frontierDepth:a,parent:i,wrap:u};if(i&&c.matchType(i.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,s=wp(e,n);return!s.childCount||s.firstChild.isLeaf?!1:(this.unplaced=new K(e,n+1,Math.max(r,s.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,s=wp(e,n);if(s.childCount<=1&&n>0){let i=e.size-n<=n+s.size;this.unplaced=new K(Cl(e,n-1,1),n-1,i?n-1:r)}else this.unplaced=new K(Cl(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:s,wrap:i}){for(;this.depth>n;)this.closeFrontierNode();if(i)for(let g=0;g<i.length;g++)this.openFrontierNode(i[g]);let o=this.unplaced,a=r?r.content:o.content,l=o.openStart-e,c=0,u=[],{match:d,type:f}=this.frontier[n];if(s){for(let g=0;g<s.childCount;g++)u.push(s.child(g));d=d.matchFragment(s)}let h=a.size+e-(o.content.size-o.openEnd);for(;c<a.childCount;){let g=a.child(c),w=d.matchType(g.type);if(!w)break;c++,(c>1||l==0||g.content.size)&&(d=w,u.push(hT(g.mark(f.allowedMarks(g.marks)),c==1?l:0,c==a.childCount?h:-1)))}let p=c==a.childCount;p||(h=-1),this.placed=El(this.placed,n,$.from(u)),this.frontier[n].match=d,p&&h<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let g=0,w=a;g<h;g++){let v=w.lastChild;this.frontier.push({type:v.type,match:v.contentMatchAt(v.childCount)}),w=v.content}this.unplaced=p?e==0?K.empty:new K(Cl(o.content,e-1,1),e-1,h<0?o.openEnd:e-1):new K(Cl(o.content,e,c),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!xp(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,s=this.$to.after(r);for(;r>1&&s==this.$to.end(--r);)++s;return s}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:s}=this.frontier[n],i=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),o=xp(e,n,s,r,i);if(o){for(let a=n-1;a>=0;a--){let{match:l,type:c}=this.frontier[a],u=xp(e,a,c,l,!0);if(!u||u.childCount)continue e}return{depth:n,fit:o,move:i?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=El(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let s=e.node(r),i=s.type.contentMatch.fillBefore(s.content,!0,e.index(r));this.openFrontierNode(s.type,s.attrs,i)}return e}openFrontierNode(e,n=null,r){let s=this.frontier[this.depth];s.match=s.match.matchType(e),this.placed=El(this.placed,this.depth,$.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore($.empty,!0);n.childCount&&(this.placed=El(this.placed,this.frontier.length,n))}}function Cl(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(Cl(t.firstChild.content,e-1,n)))}function El(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(El(t.lastChild.content,e-1,n)))}function wp(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function hT(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,hT(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore($.empty,!0)))),t.copy(r)}function xp(t,e,n,r,s){let i=t.node(e),o=s?t.indexAfter(e):t.index(e);if(o==i.childCount&&!n.compatibleContent(i.type))return null;let a=r.fillBefore(i.content,!0,o);return a&&!w8(n,i.content,o)?a:null}function w8(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function x8(t){return t.spec.defining||t.spec.definingForContent}function b8(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let s=t.doc.resolve(e),i=t.doc.resolve(n);if(fT(s,i,r))return t.step(new lt(e,n,r));let o=mT(s,t.doc.resolve(n));o[o.length-1]==0&&o.pop();let a=-(s.depth+1);o.unshift(a);for(let f=s.depth,h=s.pos-1;f>0;f--,h--){let p=s.node(f).type.spec;if(p.defining||p.definingAsContext||p.isolating)break;o.indexOf(f)>-1?a=f:s.before(f)==h&&o.splice(1,0,-f)}let l=o.indexOf(a),c=[],u=r.openStart;for(let f=r.content,h=0;;h++){let p=f.firstChild;if(c.push(p),h==r.openStart)break;f=p.content}for(let f=u-1;f>=0;f--){let h=c[f],p=x8(h.type);if(p&&!h.sameMarkup(s.node(Math.abs(a)-1)))u=f;else if(p||!h.type.isTextblock)break}for(let f=r.openStart;f>=0;f--){let h=(f+u+1)%(r.openStart+1),p=c[h];if(p)for(let g=0;g<o.length;g++){let w=o[(g+l)%o.length],v=!0;w<0&&(v=!1,w=-w);let x=s.node(w-1),b=s.index(w-1);if(x.canReplaceWith(b,b,p.type,p.marks))return t.replace(s.before(w),v?i.after(w):n,new K(pT(r.content,0,r.openStart,h),h,r.openEnd))}}let d=t.steps.length;for(let f=o.length-1;f>=0&&(t.replace(e,n,r),!(t.steps.length>d));f--){let h=o[f];h<0||(e=s.before(h),n=i.after(h))}}function pT(t,e,n,r,s){if(e<n){let i=t.firstChild;t=t.replaceChild(0,i.copy(pT(i.content,e+1,n,r,i)))}if(e>r){let i=s.contentMatchAt(0),o=i.fillBefore(t).append(t);t=o.append(i.matchFragment(o).fillBefore($.empty,!0))}return t}function S8(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let s=y8(t.doc,e,r.type);s!=null&&(e=n=s)}t.replaceRange(e,n,new K($.from(r),0,0))}function k8(t,e,n){let r=t.doc.resolve(e),s=t.doc.resolve(n),i=mT(r,s);for(let o=0;o<i.length;o++){let a=i[o],l=o==i.length-1;if(l&&a==0||r.node(a).type.contentMatch.validEnd)return t.delete(r.start(a),s.end(a));if(a>0&&(l||r.node(a-1).canReplace(r.index(a-1),s.indexAfter(a-1))))return t.delete(r.before(a),s.after(a))}for(let o=1;o<=r.depth&&o<=s.depth;o++)if(e-r.start(o)==r.depth-o&&n>r.end(o)&&s.end(o)-n!=s.depth-o&&r.start(o-1)==s.start(o-1)&&r.node(o-1).canReplace(r.index(o-1),s.index(o-1)))return t.delete(r.before(o),n);t.delete(e,n)}function mT(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let s=r;s>=0;s--){let i=t.start(s);if(i<t.pos-(t.depth-s)||e.end(s)>e.pos+(e.depth-s)||t.node(s).type.spec.isolating||e.node(s).type.spec.isolating)break;(i==e.start(s)||s==t.depth&&s==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&s&&e.start(s-1)==i-1)&&n.push(s)}return n}class sa extends At{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return Je.fail("No node at attribute step's position");let r=Object.create(null);for(let i in n.attrs)r[i]=n.attrs[i];r[this.attr]=this.value;let s=n.type.create(r,null,n.marks);return Je.fromReplace(e,this.pos,this.pos+1,new K($.from(s),0,n.isLeaf?0:1))}getMap(){return cn.empty}invert(e){return new sa(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new sa(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new sa(n.pos,n.attr,n.value)}}At.jsonID("attr",sa);class bc extends At{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let s in e.attrs)n[s]=e.attrs[s];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return Je.ok(r)}getMap(){return cn.empty}invert(e){return new bc(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new bc(n.attr,n.value)}}At.jsonID("docAttr",bc);let Ia=class extends Error{};Ia=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};Ia.prototype=Object.create(Error.prototype);Ia.prototype.constructor=Ia;Ia.prototype.name="TransformError";class C8{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new na}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new Ia(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=K.empty){let s=nh(this.doc,e,n,r);return s&&this.step(s),this}replaceWith(e,n,r){return this.replace(e,n,new K($.from(r),0,0))}delete(e,n){return this.replace(e,n,K.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return b8(this,e,n,r),this}replaceRangeWith(e,n,r){return S8(this,e,n,r),this}deleteRange(e,n){return k8(this,e,n),this}lift(e,n){return a8(this,e,n),this}join(e,n=1){return g8(this,e,n),this}wrap(e,n){return u8(this,e,n),this}setBlockType(e,n=e,r,s=null){return d8(this,e,n,r,s),this}setNodeMarkup(e,n,r=null,s){return h8(this,e,n,r,s),this}setNodeAttribute(e,n,r){return this.step(new sa(e,n,r)),this}setDocAttribute(e,n){return this.step(new bc(e,n)),this}addNodeMark(e,n){return this.step(new Rs(e,n)),this}removeNodeMark(e,n){if(!(n instanceof Te)){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n=n.isInSet(r.marks),!n)return this}return this.step(new Ra(e,n)),this}split(e,n=1,r){return p8(this,e,n,r),this}addMark(e,n,r){return s8(this,e,n,r),this}removeMark(e,n,r){return i8(this,e,n,r),this}clearIncompatible(e,n,r){return Py(this,e,n,r),this}}const bp=Object.create(null);class de{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new E8(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=K.empty){let r=n.content.lastChild,s=null;for(let a=0;a<n.openEnd;a++)s=r,r=r.lastChild;let i=e.steps.length,o=this.ranges;for(let a=0;a<o.length;a++){let{$from:l,$to:c}=o[a],u=e.mapping.slice(i);e.replaceRange(u.map(l.pos),u.map(c.pos),a?K.empty:n),a==0&&sx(e,i,(r?r.isInline:s&&s.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,s=this.ranges;for(let i=0;i<s.length;i++){let{$from:o,$to:a}=s[i],l=e.mapping.slice(r),c=l.map(o.pos),u=l.map(a.pos);i?e.deleteRange(c,u):(e.replaceRangeWith(c,u,n),sx(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let s=e.parent.inlineContent?new le(e):No(e.node(0),e.parent,e.pos,e.index(),n,r);if(s)return s;for(let i=e.depth-1;i>=0;i--){let o=n<0?No(e.node(0),e.node(i),e.before(i+1),e.index(i),n,r):No(e.node(0),e.node(i),e.after(i+1),e.index(i)+1,n,r);if(o)return o}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new Kn(e.node(0))}static atStart(e){return No(e,e,0,0,1)||new Kn(e)}static atEnd(e){return No(e,e,e.content.size,e.childCount,-1)||new Kn(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=bp[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in bp)throw new RangeError("Duplicate use of selection JSON ID "+e);return bp[e]=n,n.prototype.jsonID=e,n}getBookmark(){return le.between(this.$anchor,this.$head).getBookmark()}}de.prototype.visible=!0;class E8{constructor(e,n){this.$from=e,this.$to=n}}let nx=!1;function rx(t){!nx&&!t.parent.inlineContent&&(nx=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class le extends de{constructor(e,n=e){rx(e),rx(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return de.near(r);let s=e.resolve(n.map(this.anchor));return new le(s.parent.inlineContent?s:r,r)}replace(e,n=K.empty){if(super.replace(e,n),n==K.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof le&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new rh(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new le(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let s=e.resolve(n);return new this(s,r==n?s:e.resolve(r))}static between(e,n,r){let s=e.pos-n.pos;if((!r||s)&&(r=s>=0?1:-1),!n.parent.inlineContent){let i=de.findFrom(n,r,!0)||de.findFrom(n,-r,!0);if(i)n=i.$head;else return de.near(n,r)}return e.parent.inlineContent||(s==0?e=n:(e=(de.findFrom(e,-r,!0)||de.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=s<0&&(e=n))),new le(e,n)}}de.jsonID("text",le);class rh{constructor(e,n){this.anchor=e,this.head=n}map(e){return new rh(e.map(this.anchor),e.map(this.head))}resolve(e){return le.between(e.resolve(this.anchor),e.resolve(this.head))}}class re extends de{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:s}=n.mapResult(this.anchor),i=e.resolve(s);return r?de.near(i):new re(i)}content(){return new K($.from(this.node),0,0)}eq(e){return e instanceof re&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Ry(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new re(e.resolve(n.anchor))}static create(e,n){return new re(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}re.prototype.visible=!1;de.jsonID("node",re);class Ry{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new rh(r,r):new Ry(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&re.isSelectable(r)?new re(n):de.near(n)}}class Kn extends de{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=K.empty){if(n==K.empty){e.delete(0,e.doc.content.size);let r=de.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new Kn(e)}map(e){return new Kn(e)}eq(e){return e instanceof Kn}getBookmark(){return _8}}de.jsonID("all",Kn);const _8={map(){return this},resolve(t){return new Kn(t)}};function No(t,e,n,r,s,i=!1){if(e.inlineContent)return le.create(t,n);for(let o=r-(s>0?0:1);s>0?o<e.childCount:o>=0;o+=s){let a=e.child(o);if(a.isAtom){if(!i&&re.isSelectable(a))return re.create(t,n-(s<0?a.nodeSize:0))}else{let l=No(t,a,n+s,s<0?a.childCount:0,s,i);if(l)return l}n+=a.nodeSize*s}return null}function sx(t,e,n){let r=t.steps.length-1;if(r<e)return;let s=t.steps[r];if(!(s instanceof lt||s instanceof ut))return;let i=t.mapping.maps[r],o;i.forEach((a,l,c,u)=>{o==null&&(o=u)}),t.setSelection(de.near(t.doc.resolve(o),n))}const ix=1,Ru=2,ox=4;class T8 extends C8{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|ix)&~Ru,this.storedMarks=null,this}get selectionSet(){return(this.updated&ix)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Ru,this}ensureMarks(e){return Te.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Ru)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~Ru,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Te.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let s=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(s.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let i=this.storedMarks;if(!i){let o=this.doc.resolve(n);i=r==n?o.marks():o.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,s.text(e,i)),this.selection.empty||this.setSelection(de.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=ox,this}get scrolledIntoView(){return(this.updated&ox)>0}}function ax(t,e){return!e||!t?t:t.bind(e)}class _l{constructor(e,n,r){this.name=e,this.init=ax(n.init,r),this.apply=ax(n.apply,r)}}const N8=[new _l("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new _l("selection",{init(t,e){return t.selection||de.atStart(e.doc)},apply(t){return t.selection}}),new _l("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new _l("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class Sp{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=N8.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new _l(r.key,r.spec.state,r))})}}class Uo{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let s=this.config.plugins[r];if(s.spec.filterTransaction&&!s.spec.filterTransaction.call(s,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),s=null;for(;;){let i=!1;for(let o=0;o<this.config.plugins.length;o++){let a=this.config.plugins[o];if(a.spec.appendTransaction){let l=s?s[o].n:0,c=s?s[o].state:this,u=l<n.length&&a.spec.appendTransaction.call(a,l?n.slice(l):n,c,r);if(u&&r.filterTransaction(u,o)){if(u.setMeta("appendedTransaction",e),!s){s=[];for(let d=0;d<this.config.plugins.length;d++)s.push(d<o?{state:r,n:n.length}:{state:this,n:0})}n.push(u),r=r.applyInner(u),i=!0}s&&(s[o]={state:r,n:n.length})}}if(!i)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Uo(this.config),r=this.config.fields;for(let s=0;s<r.length;s++){let i=r[s];n[i.name]=i.apply(e,this[i.name],this,n)}return n}get tr(){return new T8(this)}static create(e){let n=new Sp(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Uo(n);for(let s=0;s<n.fields.length;s++)r[n.fields[s].name]=n.fields[s].init(e,r);return r}reconfigure(e){let n=new Sp(this.schema,e.plugins),r=n.fields,s=new Uo(n);for(let i=0;i<r.length;i++){let o=r[i].name;s[o]=this.hasOwnProperty(o)?this[o]:r[i].init(e,s)}return s}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let s=e[r],i=s.spec.state;i&&i.toJSON&&(n[r]=i.toJSON.call(s,this[s.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let s=new Sp(e.schema,e.plugins),i=new Uo(s);return s.fields.forEach(o=>{if(o.name=="doc")i.doc=Ws.fromJSON(e.schema,n.doc);else if(o.name=="selection")i.selection=de.fromJSON(i.doc,n.selection);else if(o.name=="storedMarks")n.storedMarks&&(i.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let a in r){let l=r[a],c=l.spec.state;if(l.key==o.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(n,a)){i[o.name]=c.fromJSON.call(l,e,n[a],i);return}}i[o.name]=o.init(e,i)}}),i}}function gT(t,e,n){for(let r in t){let s=t[r];s instanceof Function?s=s.bind(e):r=="handleDOMEvents"&&(s=gT(s,e,{})),n[r]=s}return n}class rn{constructor(e){this.spec=e,this.props={},e.props&&gT(e.props,this,this.props),this.key=e.key?e.key.key:yT("plugin")}getState(e){return e[this.key]}}const kp=Object.create(null);function yT(t){return t in kp?t+"$"+ ++kp[t]:(kp[t]=0,t+"$")}class xr{constructor(e="key"){this.key=yT(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const yt=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Sc=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let bg=null;const Mr=function(t,e,n){let r=bg||(bg=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},M8=function(){bg=null},ro=function(t,e,n,r){return n&&(lx(t,e,n,r,-1)||lx(t,e,n,r,1))},O8=/^(img|br|input|textarea|hr)$/i;function lx(t,e,n,r,s){for(;;){if(t==n&&e==r)return!0;if(e==(s<0?0:Sn(t))){let i=t.parentNode;if(!i||i.nodeType!=1||Gc(t)||O8.test(t.nodeName)||t.contentEditable=="false")return!1;e=yt(t)+(s<0?0:1),t=i}else if(t.nodeType==1){if(t=t.childNodes[e+(s<0?-1:0)],t.contentEditable=="false")return!1;e=s<0?Sn(t):0}else return!1}}function Sn(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function P8(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=Sn(t)}else if(t.parentNode&&!Gc(t))e=yt(t),t=t.parentNode;else return null}}function A8(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!Gc(t))e=yt(t)+1,t=t.parentNode;else return null}}function R8(t,e,n){for(let r=e==0,s=e==Sn(t);r||s;){if(t==n)return!0;let i=yt(t);if(t=t.parentNode,!t)return!1;r=r&&i==0,s=s&&i==Sn(t)}}function Gc(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const sh=function(t){return t.focusNode&&ro(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function vi(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function I8(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function D8(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(Sn(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(Sn(r.startContainer),r.startOffset)}}}const mr=typeof navigator<"u"?navigator:null,cx=typeof document<"u"?document:null,ci=mr&&mr.userAgent||"",Sg=/Edge\/(\d+)/.exec(ci),vT=/MSIE \d/.exec(ci),kg=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ci),nn=!!(vT||kg||Sg),qs=vT?document.documentMode:kg?+kg[1]:Sg?+Sg[1]:0,Gn=!nn&&/gecko\/(\d+)/i.test(ci);Gn&&+(/Firefox\/(\d+)/.exec(ci)||[0,0])[1];const Cg=!nn&&/Chrome\/(\d+)/.exec(ci),Nt=!!Cg,wT=Cg?+Cg[1]:0,zt=!nn&&!!mr&&/Apple Computer/.test(mr.vendor),Da=zt&&(/Mobile\/\w+/.test(ci)||!!mr&&mr.maxTouchPoints>2),wn=Da||(mr?/Mac/.test(mr.platform):!1),j8=mr?/Win/.test(mr.platform):!1,Dr=/Android \d/.test(ci),Jc=!!cx&&"webkitFontSmoothing"in cx.documentElement.style,L8=Jc?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function $8(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Er(t,e){return typeof t=="number"?t:t[e]}function F8(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function ux(t,e,n){let r=t.someProp("scrollThreshold")||0,s=t.someProp("scrollMargin")||5,i=t.dom.ownerDocument;for(let o=n||t.dom;o;o=Sc(o)){if(o.nodeType!=1)continue;let a=o,l=a==i.body,c=l?$8(i):F8(a),u=0,d=0;if(e.top<c.top+Er(r,"top")?d=-(c.top-e.top+Er(s,"top")):e.bottom>c.bottom-Er(r,"bottom")&&(d=e.bottom-e.top>c.bottom-c.top?e.top+Er(s,"top")-c.top:e.bottom-c.bottom+Er(s,"bottom")),e.left<c.left+Er(r,"left")?u=-(c.left-e.left+Er(s,"left")):e.right>c.right-Er(r,"right")&&(u=e.right-c.right+Er(s,"right")),u||d)if(l)i.defaultView.scrollBy(u,d);else{let f=a.scrollLeft,h=a.scrollTop;d&&(a.scrollTop+=d),u&&(a.scrollLeft+=u);let p=a.scrollLeft-f,g=a.scrollTop-h;e={left:e.left-p,top:e.top-g,right:e.right-p,bottom:e.bottom-g}}if(l||/^(fixed|sticky)$/.test(getComputedStyle(o).position))break}}function z8(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,s;for(let i=(e.left+e.right)/2,o=n+1;o<Math.min(innerHeight,e.bottom);o+=5){let a=t.root.elementFromPoint(i,o);if(!a||a==t.dom||!t.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=n-20){r=a,s=l.top;break}}return{refDOM:r,refTop:s,stack:xT(t.dom)}}function xT(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=Sc(r));return e}function B8({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;bT(n,r==0?0:r-e)}function bT(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:s,left:i}=t[n];r.scrollTop!=s+e&&(r.scrollTop=s+e),r.scrollLeft!=i&&(r.scrollLeft=i)}}let Eo=null;function V8(t){if(t.setActive)return t.setActive();if(Eo)return t.focus(Eo);let e=xT(t);t.focus(Eo==null?{get preventScroll(){return Eo={preventScroll:!0},!0}}:void 0),Eo||(Eo=!1,bT(e,0))}function ST(t,e){let n,r=2e8,s,i=0,o=e.top,a=e.top,l,c;for(let u=t.firstChild,d=0;u;u=u.nextSibling,d++){let f;if(u.nodeType==1)f=u.getClientRects();else if(u.nodeType==3)f=Mr(u).getClientRects();else continue;for(let h=0;h<f.length;h++){let p=f[h];if(p.top<=o&&p.bottom>=a){o=Math.max(p.bottom,o),a=Math.min(p.top,a);let g=p.left>e.left?p.left-e.left:p.right<e.left?e.left-p.right:0;if(g<r){n=u,r=g,s=g&&n.nodeType==3?{left:p.right<e.left?p.right:p.left,top:e.top}:e,u.nodeType==1&&g&&(i=d+(e.left>=(p.left+p.right)/2?1:0));continue}}else p.top>e.top&&!l&&p.left<=e.left&&p.right>=e.left&&(l=u,c={left:Math.max(p.left,Math.min(p.right,e.left)),top:p.top});!n&&(e.left>=p.right&&e.top>=p.top||e.left>=p.left&&e.top>=p.bottom)&&(i=d+1)}}return!n&&l&&(n=l,s=c,r=0),n&&n.nodeType==3?U8(n,s):!n||r&&n.nodeType==1?{node:t,offset:i}:ST(n,s)}function U8(t,e){let n=t.nodeValue.length,r=document.createRange();for(let s=0;s<n;s++){r.setEnd(t,s+1),r.setStart(t,s);let i=ls(r,1);if(i.top!=i.bottom&&Iy(e,i))return{node:t,offset:s+(e.left>=(i.left+i.right)/2?1:0)}}return{node:t,offset:0}}function Iy(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function H8(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function W8(t,e,n){let{node:r,offset:s}=ST(e,n),i=-1;if(r.nodeType==1&&!r.firstChild){let o=r.getBoundingClientRect();i=o.left!=o.right&&n.left>(o.left+o.right)/2?1:-1}return t.docView.posFromDOM(r,s,i)}function K8(t,e,n,r){let s=-1;for(let i=e,o=!1;i!=t.dom;){let a=t.docView.nearestDesc(i,!0),l;if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)&&((l=a.dom.getBoundingClientRect()).width||l.height)&&(a.node.isBlock&&a.parent&&(!o&&l.left>r.left||l.top>r.top?s=a.posBefore:(!o&&l.right<r.left||l.bottom<r.top)&&(s=a.posAfter),o=!0),!a.contentDOM&&s<0&&!a.node.isText))return(a.node.isBlock?r.top<(l.top+l.bottom)/2:r.left<(l.left+l.right)/2)?a.posBefore:a.posAfter;i=a.dom.parentNode}return s>-1?s:t.docView.posFromDOM(e,n,-1)}function kT(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let s=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),i=s;;){let o=t.childNodes[i];if(o.nodeType==1){let a=o.getClientRects();for(let l=0;l<a.length;l++){let c=a[l];if(Iy(e,c))return kT(o,e,c)}}if((i=(i+1)%r)==s)break}return t}function q8(t,e){let n=t.dom.ownerDocument,r,s=0,i=D8(n,e.left,e.top);i&&({node:r,offset:s}=i);let o=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),a;if(!o||!t.dom.contains(o.nodeType!=1?o.parentNode:o)){let c=t.dom.getBoundingClientRect();if(!Iy(e,c)||(o=kT(t.dom,e,c),!o))return null}if(zt)for(let c=o;r&&c;c=Sc(c))c.draggable&&(r=void 0);if(o=H8(o,e),r){if(Gn&&r.nodeType==1&&(s=Math.min(s,r.childNodes.length),s<r.childNodes.length)){let u=r.childNodes[s],d;u.nodeName=="IMG"&&(d=u.getBoundingClientRect()).right<=e.left&&d.bottom>e.top&&s++}let c;Jc&&s&&r.nodeType==1&&(c=r.childNodes[s-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=e.top&&s--,r==t.dom&&s==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?a=t.state.doc.content.size:(s==0||r.nodeType!=1||r.childNodes[s-1].nodeName!="BR")&&(a=K8(t,r,s,e))}a==null&&(a=W8(t,o,e));let l=t.docView.nearestDesc(o,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function dx(t){return t.top<t.bottom||t.left<t.right}function ls(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(dx(r))return r}return Array.prototype.find.call(n,dx)||t.getBoundingClientRect()}const G8=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function CT(t,e,n){let{node:r,offset:s,atom:i}=t.docView.domFromPos(e,n<0?-1:1),o=Jc||Gn;if(r.nodeType==3)if(o&&(G8.test(r.nodeValue)||(n<0?!s:s==r.nodeValue.length))){let l=ls(Mr(r,s,s),n);if(Gn&&s&&/\s/.test(r.nodeValue[s-1])&&s<r.nodeValue.length){let c=ls(Mr(r,s-1,s-1),-1);if(c.top==l.top){let u=ls(Mr(r,s,s+1),-1);if(u.top!=l.top)return gl(u,u.left<c.left)}}return l}else{let l=s,c=s,u=n<0?1:-1;return n<0&&!s?(c++,u=-1):n>=0&&s==r.nodeValue.length?(l--,u=1):n<0?l--:c++,gl(ls(Mr(r,l,c),u),u<0)}if(!t.state.doc.resolve(e-(i||0)).parent.inlineContent){if(i==null&&s&&(n<0||s==Sn(r))){let l=r.childNodes[s-1];if(l.nodeType==1)return Cp(l.getBoundingClientRect(),!1)}if(i==null&&s<Sn(r)){let l=r.childNodes[s];if(l.nodeType==1)return Cp(l.getBoundingClientRect(),!0)}return Cp(r.getBoundingClientRect(),n>=0)}if(i==null&&s&&(n<0||s==Sn(r))){let l=r.childNodes[s-1],c=l.nodeType==3?Mr(l,Sn(l)-(o?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return gl(ls(c,1),!1)}if(i==null&&s<Sn(r)){let l=r.childNodes[s];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?Mr(l,0,o?0:1):l.nodeType==1?l:null:null;if(c)return gl(ls(c,-1),!0)}return gl(ls(r.nodeType==3?Mr(r):r,-n),n>=0)}function gl(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function Cp(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function ET(t,e,n){let r=t.state,s=t.root.activeElement;r!=e&&t.updateState(e),s!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),s!=t.dom&&s&&s.focus()}}function J8(t,e,n){let r=e.selection,s=n=="up"?r.$from:r.$to;return ET(t,e,()=>{let{node:i}=t.docView.domFromPos(s.pos,n=="up"?-1:1);for(;;){let a=t.docView.nearestDesc(i,!0);if(!a)break;if(a.node.isBlock){i=a.contentDOM||a.dom;break}i=a.dom.parentNode}let o=CT(t,s.pos,1);for(let a=i.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=Mr(a,0,a.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let u=l[c];if(u.bottom>u.top+1&&(n=="up"?o.top-u.top>(u.bottom-o.top)*2:u.bottom-o.bottom>(o.bottom-u.top)*2))return!1}}return!0})}const Q8=/[\u0590-\u08ac]/;function Y8(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let s=r.parentOffset,i=!s,o=s==r.parent.content.size,a=t.domSelection();return a?!Q8.test(r.parent.textContent)||!a.modify?n=="left"||n=="backward"?i:o:ET(t,e,()=>{let{focusNode:l,focusOffset:c,anchorNode:u,anchorOffset:d}=t.domSelectionRange(),f=a.caretBidiLevel;a.modify("move",n,"character");let h=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:p,focusOffset:g}=t.domSelectionRange(),w=p&&!h.contains(p.nodeType==1?p:p.parentNode)||l==p&&c==g;try{a.collapse(u,d),l&&(l!=u||c!=d)&&a.extend&&a.extend(l,c)}catch{}return f!=null&&(a.caretBidiLevel=f),w}):r.pos==r.start()||r.pos==r.end()}let fx=null,hx=null,px=!1;function X8(t,e,n){return fx==e&&hx==n?px:(fx=e,hx=n,px=n=="up"||n=="down"?J8(t,e,n):Y8(t,e,n))}const _n=0,mx=1,_i=2,gr=3;class Qc{constructor(e,n,r,s){this.parent=e,this.children=n,this.dom=r,this.contentDOM=s,this.dirty=_n,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let s=this.children[n];if(s==e)return r;r+=s.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let i,o;if(e==this.contentDOM)i=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.previousSibling}for(;i&&!((o=i.pmViewDesc)&&o.parent==this);)i=i.previousSibling;return i?this.posBeforeChild(o)+o.size:this.posAtStart}else{let i,o;if(e==this.contentDOM)i=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.nextSibling}for(;i&&!((o=i.pmViewDesc)&&o.parent==this);)i=i.nextSibling;return i?this.posBeforeChild(o):this.posAtEnd}let s;if(e==this.dom&&this.contentDOM)s=n>yt(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let i=e;;i=i.parentNode){if(i==this.dom){s=!1;break}if(i.previousSibling)break}if(s==null&&n==e.childNodes.length)for(let i=e;;i=i.parentNode){if(i==this.dom){s=!0;break}if(i.nextSibling)break}}return s??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,s=e;s;s=s.parentNode){let i=this.getDesc(s),o;if(i&&(!n||i.node))if(r&&(o=i.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))r=!1;else return i}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let s=e;s;s=s.parentNode){let i=this.getDesc(s);if(i)return i.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let s=this.children[n],i=r+s.size;if(r==e&&i!=r){for(;!s.border&&s.children.length;)s=s.children[0];return s}if(e<i)return s.descAt(e-r-s.border);r=i}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,s=0;for(let i=0;r<this.children.length;r++){let o=this.children[r],a=i+o.size;if(a>e||o instanceof TT){s=e-i;break}i=a}if(s)return this.children[r].domFromPos(s-this.children[r].border,n);for(let i;r&&!(i=this.children[r-1]).size&&i instanceof _T&&i.side>=0;r--);if(n<=0){let i,o=!0;for(;i=r?this.children[r-1]:null,!(!i||i.dom.parentNode==this.contentDOM);r--,o=!1);return i&&n&&o&&!i.border&&!i.domAtom?i.domFromPos(i.size,n):{node:this.contentDOM,offset:i?yt(i.dom)+1:0}}else{let i,o=!0;for(;i=r<this.children.length?this.children[r]:null,!(!i||i.dom.parentNode==this.contentDOM);r++,o=!1);return i&&o&&!i.border&&!i.domAtom?i.domFromPos(0,n):{node:this.contentDOM,offset:i?yt(i.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let s=-1,i=-1;for(let o=r,a=0;;a++){let l=this.children[a],c=o+l.size;if(s==-1&&e<=c){let u=o+l.border;if(e>=u&&n<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,n,u);e=o;for(let d=a;d>0;d--){let f=this.children[d-1];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(1)){s=yt(f.dom)+1;break}e-=f.size}s==-1&&(s=0)}if(s>-1&&(c>n||a==this.children.length-1)){n=c;for(let u=a+1;u<this.children.length;u++){let d=this.children[u];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){i=yt(d.dom);break}n+=d.size}i==-1&&(i=this.contentDOM.childNodes.length);break}o=c}return{node:this.contentDOM,from:e,to:n,fromOffset:s,toOffset:i}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,s=!1){let i=Math.min(e,n),o=Math.max(e,n);for(let h=0,p=0;h<this.children.length;h++){let g=this.children[h],w=p+g.size;if(i>p&&o<w)return g.setSelection(e-p-g.border,n-p-g.border,r,s);p=w}let a=this.domFromPos(e,e?-1:1),l=n==e?a:this.domFromPos(n,n?-1:1),c=r.root.getSelection(),u=r.domSelectionRange(),d=!1;if((Gn||zt)&&e==n){let{node:h,offset:p}=a;if(h.nodeType==3){if(d=!!(p&&h.nodeValue[p-1]==`
`),d&&p==h.nodeValue.length)for(let g=h,w;g;g=g.parentNode){if(w=g.nextSibling){w.nodeName=="BR"&&(a=l={node:w.parentNode,offset:yt(w)+1});break}let v=g.pmViewDesc;if(v&&v.node&&v.node.isBlock)break}}else{let g=h.childNodes[p-1];d=g&&(g.nodeName=="BR"||g.contentEditable=="false")}}if(Gn&&u.focusNode&&u.focusNode!=l.node&&u.focusNode.nodeType==1){let h=u.focusNode.childNodes[u.focusOffset];h&&h.contentEditable=="false"&&(s=!0)}if(!(s||d&&zt)&&ro(a.node,a.offset,u.anchorNode,u.anchorOffset)&&ro(l.node,l.offset,u.focusNode,u.focusOffset))return;let f=!1;if((c.extend||e==n)&&!d){c.collapse(a.node,a.offset);try{e!=n&&c.extend(l.node,l.offset),f=!0}catch{}}if(!f){if(e>n){let p=a;a=l,l=p}let h=document.createRange();h.setEnd(l.node,l.offset),h.setStart(a.node,a.offset),c.removeAllRanges(),c.addRange(h)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,s=0;s<this.children.length;s++){let i=this.children[s],o=r+i.size;if(r==o?e<=o&&n>=r:e<o&&n>r){let a=r+i.border,l=o-i.border;if(e>=a&&n<=l){this.dirty=e==r||n==o?_i:mx,e==a&&n==l&&(i.contentLost||i.dom.parentNode!=this.contentDOM)?i.dirty=gr:i.markDirty(e-a,n-a);return}else i.dirty=i.dom==i.contentDOM&&i.dom.parentNode==this.contentDOM&&!i.children.length?_i:gr}r=o}this.dirty=_i}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?_i:mx;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class _T extends Qc{constructor(e,n,r,s){let i,o=n.type.toDOM;if(typeof o=="function"&&(o=o(r,()=>{if(!i)return s;if(i.parent)return i.parent.posBeforeChild(i)})),!n.type.spec.raw){if(o.nodeType!=1){let a=document.createElement("span");a.appendChild(o),o=a}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=n,this.widget=n,i=this}matchesWidget(e){return this.dirty==_n&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class Z8 extends Qc{constructor(e,n,r,s){super(e,[],n,null),this.textDOM=r,this.text=s}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class so extends Qc{constructor(e,n,r,s,i){super(e,[],r,s),this.mark=n,this.spec=i}static create(e,n,r,s){let i=s.nodeViews[n.type.name],o=i&&i(n,s,r);return(!o||!o.dom)&&(o=ho.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new so(e,n,o.dom,o.contentDOM||o.dom,o)}parseRule(){return this.dirty&gr||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=gr&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=_n){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=_n}}slice(e,n,r){let s=so.create(this.parent,this.mark,!0,r),i=this.children,o=this.size;n<o&&(i=_g(i,n,o,r)),e>0&&(i=_g(i,0,e,r));for(let a=0;a<i.length;a++)i[a].parent=s;return s.children=i,s}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Gs extends Qc{constructor(e,n,r,s,i,o,a,l,c){super(e,[],i,o),this.node=n,this.outerDeco=r,this.innerDeco=s,this.nodeDOM=a}static create(e,n,r,s,i,o){let a=i.nodeViews[n.type.name],l,c=a&&a(n,i,()=>{if(!l)return o;if(l.parent)return l.parent.posBeforeChild(l)},r,s),u=c&&c.dom,d=c&&c.contentDOM;if(n.isText){if(!u)u=document.createTextNode(n.text);else if(u.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else u||({dom:u,contentDOM:d}=ho.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!d&&!n.isText&&u.nodeName!="BR"&&(u.hasAttribute("contenteditable")||(u.contentEditable="false"),n.type.spec.draggable&&(u.draggable=!0));let f=u;return u=OT(u,r,n),c?l=new eL(e,n,r,s,u,d||null,f,c,i,o+1):n.isText?new ih(e,n,r,s,u,f,i):new Gs(e,n,r,s,u,d||null,f,i,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>$.empty)}return e}matchesNode(e,n,r){return this.dirty==_n&&e.eq(this.node)&&Xd(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,s=n,i=e.composing?this.localCompositionInfo(e,n):null,o=i&&i.pos>-1?i:null,a=i&&i.pos<0,l=new nL(this,o&&o.node,e);iL(this.node,this.innerDeco,(c,u,d)=>{c.spec.marks?l.syncToMarks(c.spec.marks,r,e):c.type.side>=0&&!d&&l.syncToMarks(u==this.node.childCount?Te.none:this.node.child(u).marks,r,e),l.placeWidget(c,e,s)},(c,u,d,f)=>{l.syncToMarks(c.marks,r,e);let h;l.findNodeMatch(c,u,d,f)||a&&e.state.selection.from>s&&e.state.selection.to<s+c.nodeSize&&(h=l.findIndexWithChild(i.node))>-1&&l.updateNodeAt(c,u,d,h,e)||l.updateNextNode(c,u,d,e,f,s)||l.addNode(c,u,d,e,s),s+=c.nodeSize}),l.syncToMarks([],r,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==_i)&&(o&&this.protectLocalComposition(e,o),NT(this.contentDOM,this.children,e),Da&&oL(this.dom))}localCompositionInfo(e,n){let{from:r,to:s}=e.state.selection;if(!(e.state.selection instanceof le)||r<n||s>n+this.node.content.size)return null;let i=e.input.compositionNode;if(!i||!this.dom.contains(i.parentNode))return null;if(this.node.inlineContent){let o=i.nodeValue,a=aL(this.node.content,o,r-n,s-n);return a<0?null:{node:i,pos:a,text:o}}else return{node:i,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:s}){if(this.getDesc(n))return;let i=n;for(;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}let o=new Z8(this,i,n,s);e.input.compositionNodes.push(o),this.children=_g(this.children,r,r+s.length,e,o)}update(e,n,r,s){return this.dirty==gr||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,s),!0)}updateInner(e,n,r,s){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(s,this.posAtStart),this.dirty=_n}updateOuterDeco(e){if(Xd(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=MT(this.dom,this.nodeDOM,Eg(this.outerDeco,this.node,n),Eg(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function gx(t,e,n,r,s){OT(r,e,t);let i=new Gs(void 0,t,e,n,r,r,r,s,0);return i.contentDOM&&i.updateChildren(s,0),i}class ih extends Gs{constructor(e,n,r,s,i,o,a){super(e,n,r,s,i,null,o,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,s){return this.dirty==gr||this.dirty!=_n&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=_n||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,s.trackWrites==this.nodeDOM&&(s.trackWrites=null)),this.node=e,this.dirty=_n,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let s=this.node.cut(e,n),i=document.createTextNode(s.text);return new ih(this.parent,s,this.outerDeco,this.innerDeco,i,i,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=gr)}get domAtom(){return!1}isText(e){return this.node.text==e}}class TT extends Qc{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==_n&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class eL extends Gs{constructor(e,n,r,s,i,o,a,l,c,u){super(e,n,r,s,i,o,a,c,u),this.spec=l}update(e,n,r,s){if(this.dirty==gr)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let i=this.spec.update(e,n,r);return i&&this.updateInner(e,n,r,s),i}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,s)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,s){this.spec.setSelection?this.spec.setSelection(e,n,r.root):super.setSelection(e,n,r,s)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function NT(t,e,n){let r=t.firstChild,s=!1;for(let i=0;i<e.length;i++){let o=e[i],a=o.dom;if(a.parentNode==t){for(;a!=r;)r=yx(r),s=!0;r=r.nextSibling}else s=!0,t.insertBefore(a,r);if(o instanceof so){let l=r?r.previousSibling:t.lastChild;NT(o.contentDOM,o.children,n),r=l?l.nextSibling:t.firstChild}}for(;r;)r=yx(r),s=!0;s&&n.trackWrites==t&&(n.trackWrites=null)}const Hl=function(t){t&&(this.nodeName=t)};Hl.prototype=Object.create(null);const Ti=[new Hl];function Eg(t,e,n){if(t.length==0)return Ti;let r=n?Ti[0]:new Hl,s=[r];for(let i=0;i<t.length;i++){let o=t[i].type.attrs;if(o){o.nodeName&&s.push(r=new Hl(o.nodeName));for(let a in o){let l=o[a];l!=null&&(n&&s.length==1&&s.push(r=new Hl(e.isInline?"span":"div")),a=="class"?r.class=(r.class?r.class+" ":"")+l:a=="style"?r.style=(r.style?r.style+";":"")+l:a!="nodeName"&&(r[a]=l))}}}return s}function MT(t,e,n,r){if(n==Ti&&r==Ti)return e;let s=e;for(let i=0;i<r.length;i++){let o=r[i],a=n[i];if(i){let l;a&&a.nodeName==o.nodeName&&s!=t&&(l=s.parentNode)&&l.nodeName.toLowerCase()==o.nodeName||(l=document.createElement(o.nodeName),l.pmIsDeco=!0,l.appendChild(s),a=Ti[0]),s=l}tL(s,a||Ti[0],o)}return s}function tL(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],s=n.class?n.class.split(" ").filter(Boolean):[];for(let i=0;i<r.length;i++)s.indexOf(r[i])==-1&&t.classList.remove(r[i]);for(let i=0;i<s.length;i++)r.indexOf(s[i])==-1&&t.classList.add(s[i]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,s;for(;s=r.exec(e.style);)t.style.removeProperty(s[1])}n.style&&(t.style.cssText+=n.style)}}function OT(t,e,n){return MT(t,t,Ti,Eg(e,n,t.nodeType!=1))}function Xd(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function yx(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class nL{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=rL(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let s=0,i=this.stack.length>>1,o=Math.min(i,e.length);for(;s<o&&(s==i-1?this.top:this.stack[s+1<<1]).matchesMark(e[s])&&e[s].type.spec.spanning!==!1;)s++;for(;s<i;)this.destroyRest(),this.top.dirty=_n,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<e.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let c=this.top.children[l];if(c.matchesMark(e[i])&&!this.isLocked(c.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=so.create(this.top,e[i],n,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,i++}}findNodeMatch(e,n,r,s){let i=-1,o;if(s>=this.preMatch.index&&(o=this.preMatch.matches[s-this.preMatch.index]).parent==this.top&&o.matchesNode(e,n,r))i=this.top.children.indexOf(o,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let c=this.top.children[a];if(c.matchesNode(e,n,r)&&!this.preMatch.matched.has(c)){i=a;break}}return i<0?!1:(this.destroyBetween(this.index,i),this.index++,!0)}updateNodeAt(e,n,r,s,i){let o=this.top.children[s];return o.dirty==gr&&o.dom==o.contentDOM&&(o.dirty=_i),o.update(e,n,r,i)?(this.destroyBetween(this.index,s),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let s=this.index;s<this.top.children.length;s++)if(this.top.children[s]==r)return s}return-1}e=n}}updateNextNode(e,n,r,s,i,o){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof Gs){let c=this.preMatch.matched.get(l);if(c!=null&&c!=i)return!1;let u=l.dom,d,f=this.isLocked(u)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=gr&&Xd(n,l.outerDeco));if(!f&&l.update(e,n,r,s))return this.destroyBetween(this.index,a),l.dom!=u&&(this.changed=!0),this.index++,!0;if(!f&&(d=this.recreateWrapper(l,e,n,r,s,o)))return this.destroyBetween(this.index,a),this.top.children[this.index]=d,d.contentDOM&&(d.dirty=_i,d.updateChildren(s,o+1),d.dirty=_n),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,s,i,o){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!Xd(r,e.outerDeco)||!s.eq(e.innerDeco))return null;let a=Gs.create(this.top,n,r,s,i,o);if(a.contentDOM){a.children=e.children,e.children=[];for(let l of a.children)l.parent=a}return e.destroy(),a}addNode(e,n,r,s,i){let o=Gs.create(this.top,e,n,r,s,i);o.contentDOM&&o.updateChildren(s,i+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,n,r){let s=this.index<this.top.children.length?this.top.children[this.index]:null;if(s&&s.matchesWidget(e)&&(e==s.widget||!s.widget.type.toDOM.parentNode))this.index++;else{let i=new _T(this.top,e,n,r);this.top.children.splice(this.index++,0,i),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof so;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof ih)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((zt||Nt)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let s=new TT(this.top,[],r,null);n!=this.top?n.children.push(s):n.children.splice(this.index++,0,s),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function rL(t,e){let n=e,r=n.children.length,s=t.childCount,i=new Map,o=[];e:for(;s>0;){let a;for(;;)if(r){let c=n.children[r-1];if(c instanceof so)n=c,r=c.children.length;else{a=c,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=a.node;if(l){if(l!=t.child(s-1))break;--s,i.set(a,s),o.push(a)}}return{index:s,matched:i,matches:o.reverse()}}function sL(t,e){return t.type.side-e.type.side}function iL(t,e,n,r){let s=e.locals(t),i=0;if(s.length==0){for(let c=0;c<t.childCount;c++){let u=t.child(c);r(u,s,e.forChild(i,u),c),i+=u.nodeSize}return}let o=0,a=[],l=null;for(let c=0;;){let u,d;for(;o<s.length&&s[o].to==i;){let w=s[o++];w.widget&&(u?(d||(d=[u])).push(w):u=w)}if(u)if(d){d.sort(sL);for(let w=0;w<d.length;w++)n(d[w],c,!!l)}else n(u,c,!!l);let f,h;if(l)h=-1,f=l,l=null;else if(c<t.childCount)h=c,f=t.child(c++);else break;for(let w=0;w<a.length;w++)a[w].to<=i&&a.splice(w--,1);for(;o<s.length&&s[o].from<=i&&s[o].to>i;)a.push(s[o++]);let p=i+f.nodeSize;if(f.isText){let w=p;o<s.length&&s[o].from<w&&(w=s[o].from);for(let v=0;v<a.length;v++)a[v].to<w&&(w=a[v].to);w<p&&(l=f.cut(w-i),f=f.cut(0,w-i),p=w,h=-1)}else for(;o<s.length&&s[o].to<p;)o++;let g=f.isInline&&!f.isLeaf?a.filter(w=>!w.inline):a.slice();r(f,g,e.forChild(i,f),h),i=p}}function oL(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function aL(t,e,n,r){for(let s=0,i=0;s<t.childCount&&i<=r;){let o=t.child(s++),a=i;if(i+=o.nodeSize,!o.isText)continue;let l=o.text;for(;s<t.childCount;){let c=t.child(s++);if(i+=c.nodeSize,!c.isText)break;l+=c.text}if(i>=n){if(i>=r&&l.slice(r-e.length-a,r-a)==e)return r-e.length;let c=a<r?l.lastIndexOf(e,r-a-1):-1;if(c>=0&&c+e.length+a>=n)return a+c;if(n==r&&l.length>=r+e.length-a&&l.slice(r-a,r-a+e.length)==e)return r}}return-1}function _g(t,e,n,r,s){let i=[];for(let o=0,a=0;o<t.length;o++){let l=t[o],c=a,u=a+=l.size;c>=n||u<=e?i.push(l):(c<e&&i.push(l.slice(0,e-c,r)),s&&(i.push(s),s=void 0),u>n&&i.push(l.slice(n-c,l.size,r)))}return i}function Dy(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let s=t.docView.nearestDesc(n.focusNode),i=s&&s.size==0,o=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(o<0)return null;let a=r.resolve(o),l,c;if(sh(n)){for(l=o;s&&!s.node;)s=s.parent;let d=s.node;if(s&&d.isAtom&&re.isSelectable(d)&&s.parent&&!(d.isInline&&R8(n.focusNode,n.focusOffset,s.dom))){let f=s.posBefore;c=new re(o==f?a:r.resolve(f))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let d=o,f=o;for(let h=0;h<n.rangeCount;h++){let p=n.getRangeAt(h);d=Math.min(d,t.docView.posFromDOM(p.startContainer,p.startOffset,1)),f=Math.max(f,t.docView.posFromDOM(p.endContainer,p.endOffset,-1))}if(d<0)return null;[l,o]=f==t.state.selection.anchor?[f,d]:[d,f],a=r.resolve(o)}else l=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(l<0)return null}let u=r.resolve(l);if(!c){let d=e=="pointer"||t.state.selection.head<a.pos&&!i?1:-1;c=jy(t,u,a,d)}return c}function PT(t){return t.editable?t.hasFocus():RT(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function $r(t,e=!1){let n=t.state.selection;if(AT(t,n),!!PT(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&Nt){let r=t.domSelectionRange(),s=t.domObserver.currentSelection;if(r.anchorNode&&s.anchorNode&&ro(r.anchorNode,r.anchorOffset,s.anchorNode,s.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)cL(t);else{let{anchor:r,head:s}=n,i,o;vx&&!(n instanceof le)&&(n.$from.parent.inlineContent||(i=wx(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(o=wx(t,n.to))),t.docView.setSelection(r,s,t,e),vx&&(i&&xx(i),o&&xx(o)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&lL(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const vx=zt||Nt&&wT<63;function wx(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),s=r<n.childNodes.length?n.childNodes[r]:null,i=r?n.childNodes[r-1]:null;if(zt&&s&&s.contentEditable=="false")return Ep(s);if((!s||s.contentEditable=="false")&&(!i||i.contentEditable=="false")){if(s)return Ep(s);if(i)return Ep(i)}}function Ep(t){return t.contentEditable="true",zt&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function xx(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function lL(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,s=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=s)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!PT(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function cL(t){let e=t.domSelection(),n=document.createRange();if(!e)return;let r=t.cursorWrapper.dom,s=r.nodeName=="IMG";s?n.setStart(r.parentNode,yt(r)+1):n.setStart(r,0),n.collapse(!0),e.removeAllRanges(),e.addRange(n),!s&&!t.state.selection.visible&&nn&&qs<=11&&(r.disabled=!0,r.disabled=!1)}function AT(t,e){if(e instanceof re){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(bx(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else bx(t)}function bx(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function jy(t,e,n,r){return t.someProp("createSelectionBetween",s=>s(t,e,n))||le.between(e,n,r)}function Sx(t){return t.editable&&!t.hasFocus()?!1:RT(t)}function RT(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function uL(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return ro(e.node,e.offset,n.anchorNode,n.anchorOffset)}function Tg(t,e){let{$anchor:n,$head:r}=t.selection,s=e>0?n.max(r):n.min(r),i=s.parent.inlineContent?s.depth?t.doc.resolve(e>0?s.after():s.before()):null:s;return i&&de.findFrom(i,e)}function fs(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function kx(t,e,n){let r=t.state.selection;if(r instanceof le)if(n.indexOf("s")>-1){let{$head:s}=r,i=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter;if(!i||i.isText||!i.isLeaf)return!1;let o=t.state.doc.resolve(s.pos+i.nodeSize*(e<0?-1:1));return fs(t,new le(r.$anchor,o))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let s=Tg(t.state,e);return s&&s instanceof re?fs(t,s):!1}else if(!(wn&&n.indexOf("m")>-1)){let s=r.$head,i=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter,o;if(!i||i.isText)return!1;let a=e<0?s.pos-i.nodeSize:s.pos;return i.isAtom||(o=t.docView.descAt(a))&&!o.contentDOM?re.isSelectable(i)?fs(t,new re(e<0?t.state.doc.resolve(s.pos-i.nodeSize):s)):Jc?fs(t,new le(t.state.doc.resolve(e<0?a:a+i.nodeSize))):!1:!1}}else return!1;else{if(r instanceof re&&r.node.isInline)return fs(t,new le(e>0?r.$to:r.$from));{let s=Tg(t.state,e);return s?fs(t,s):!1}}}function Zd(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Wl(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function _o(t,e){return e<0?dL(t):fL(t)}function dL(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let s,i,o=!1;for(Gn&&n.nodeType==1&&r<Zd(n)&&Wl(n.childNodes[r],-1)&&(o=!0);;)if(r>0){if(n.nodeType!=1)break;{let a=n.childNodes[r-1];if(Wl(a,-1))s=n,i=--r;else if(a.nodeType==3)n=a,r=n.nodeValue.length;else break}}else{if(IT(n))break;{let a=n.previousSibling;for(;a&&Wl(a,-1);)s=n.parentNode,i=yt(a),a=a.previousSibling;if(a)n=a,r=Zd(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}o?Ng(t,n,r):s&&Ng(t,s,i)}function fL(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let s=Zd(n),i,o;for(;;)if(r<s){if(n.nodeType!=1)break;let a=n.childNodes[r];if(Wl(a,1))i=n,o=++r;else break}else{if(IT(n))break;{let a=n.nextSibling;for(;a&&Wl(a,1);)i=a.parentNode,o=yt(a)+1,a=a.nextSibling;if(a)n=a,r=0,s=Zd(n);else{if(n=n.parentNode,n==t.dom)break;r=s=0}}}i&&Ng(t,i,o)}function IT(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function hL(t,e){for(;t&&e==t.childNodes.length&&!Gc(t);)e=yt(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function pL(t,e){for(;t&&!e&&!Gc(t);)e=yt(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function Ng(t,e,n){if(e.nodeType!=3){let i,o;(o=hL(e,n))?(e=o,n=0):(i=pL(e,n))&&(e=i,n=i.nodeValue.length)}let r=t.domSelection();if(!r)return;if(sh(r)){let i=document.createRange();i.setEnd(e,n),i.setStart(e,n),r.removeAllRanges(),r.addRange(i)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:s}=t;setTimeout(()=>{t.state==s&&$r(t)},50)}function Cx(t,e){let n=t.state.doc.resolve(e);if(!(Nt||j8)&&n.parent.inlineContent){let s=t.coordsAtPos(e);if(e>n.start()){let i=t.coordsAtPos(e-1),o=(i.top+i.bottom)/2;if(o>s.top&&o<s.bottom&&Math.abs(i.left-s.left)>1)return i.left<s.left?"ltr":"rtl"}if(e<n.end()){let i=t.coordsAtPos(e+1),o=(i.top+i.bottom)/2;if(o>s.top&&o<s.bottom&&Math.abs(i.left-s.left)>1)return i.left>s.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function Ex(t,e,n){let r=t.state.selection;if(r instanceof le&&!r.empty||n.indexOf("s")>-1||wn&&n.indexOf("m")>-1)return!1;let{$from:s,$to:i}=r;if(!s.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let o=Tg(t.state,e);if(o&&o instanceof re)return fs(t,o)}if(!s.parent.inlineContent){let o=e<0?s:i,a=r instanceof Kn?de.near(o,e):de.findFrom(o,e);return a?fs(t,a):!1}return!1}function _x(t,e){if(!(t.state.selection instanceof le))return!0;let{$head:n,$anchor:r,empty:s}=t.state.selection;if(!n.sameParent(r))return!0;if(!s)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let i=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(i&&!i.isText){let o=t.state.tr;return e<0?o.delete(n.pos-i.nodeSize,n.pos):o.delete(n.pos,n.pos+i.nodeSize),t.dispatch(o),!0}return!1}function Tx(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function mL(t){if(!zt||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;Tx(t,r,"true"),setTimeout(()=>Tx(t,r,"false"),20)}return!1}function gL(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function yL(t,e){let n=e.keyCode,r=gL(e);if(n==8||wn&&n==72&&r=="c")return _x(t,-1)||_o(t,-1);if(n==46&&!e.shiftKey||wn&&n==68&&r=="c")return _x(t,1)||_o(t,1);if(n==13||n==27)return!0;if(n==37||wn&&n==66&&r=="c"){let s=n==37?Cx(t,t.state.selection.from)=="ltr"?-1:1:-1;return kx(t,s,r)||_o(t,s)}else if(n==39||wn&&n==70&&r=="c"){let s=n==39?Cx(t,t.state.selection.from)=="ltr"?1:-1:1;return kx(t,s,r)||_o(t,s)}else{if(n==38||wn&&n==80&&r=="c")return Ex(t,-1,r)||_o(t,-1);if(n==40||wn&&n==78&&r=="c")return mL(t)||Ex(t,1,r)||_o(t,1);if(r==(wn?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function DT(t,e){t.someProp("transformCopied",h=>{e=h(e,t)});let n=[],{content:r,openStart:s,openEnd:i}=e;for(;s>1&&i>1&&r.childCount==1&&r.firstChild.childCount==1;){s--,i--;let h=r.firstChild;n.push(h.type.name,h.attrs!=h.type.defaultAttrs?h.attrs:null),r=h.content}let o=t.someProp("clipboardSerializer")||ho.fromSchema(t.state.schema),a=BT(),l=a.createElement("div");l.appendChild(o.serializeFragment(r,{document:a}));let c=l.firstChild,u,d=0;for(;c&&c.nodeType==1&&(u=zT[c.nodeName.toLowerCase()]);){for(let h=u.length-1;h>=0;h--){let p=a.createElement(u[h]);for(;l.firstChild;)p.appendChild(l.firstChild);l.appendChild(p),d++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${s} ${i}${d?` -${d}`:""} ${JSON.stringify(n)}`);let f=t.someProp("clipboardTextSerializer",h=>h(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:f,slice:e}}function jT(t,e,n,r,s){let i=s.parent.type.spec.code,o,a;if(!n&&!e)return null;let l=e&&(r||i||!n);if(l){if(t.someProp("transformPastedText",f=>{e=f(e,i||r,t)}),i)return e?new K($.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):K.empty;let d=t.someProp("clipboardTextParser",f=>f(e,s,r,t));if(d)a=d;else{let f=s.marks(),{schema:h}=t.state,p=ho.fromSchema(h);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(g=>{let w=o.appendChild(document.createElement("p"));g&&w.appendChild(p.serializeNode(h.text(g,f)))})}}else t.someProp("transformPastedHTML",d=>{n=d(n,t)}),o=bL(n),Jc&&SL(o);let c=o&&o.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let d=+u[3];d>0;d--){let f=o.firstChild;for(;f&&f.nodeType!=1;)f=f.nextSibling;if(!f)break;o=f}if(a||(a=(t.someProp("clipboardParser")||t.someProp("domParser")||Ks.fromSchema(t.state.schema)).parseSlice(o,{preserveWhitespace:!!(l||u),context:s,ruleFromNode(f){return f.nodeName=="BR"&&!f.nextSibling&&f.parentNode&&!vL.test(f.parentNode.nodeName)?{ignore:!0}:null}})),u)a=kL(Nx(a,+u[1],+u[2]),u[4]);else if(a=K.maxOpen(wL(a.content,s),!0),a.openStart||a.openEnd){let d=0,f=0;for(let h=a.content.firstChild;d<a.openStart&&!h.type.spec.isolating;d++,h=h.firstChild);for(let h=a.content.lastChild;f<a.openEnd&&!h.type.spec.isolating;f++,h=h.lastChild);a=Nx(a,d,f)}return t.someProp("transformPasted",d=>{a=d(a,t)}),a}const vL=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function wL(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let s=e.node(n).contentMatchAt(e.index(n)),i,o=[];if(t.forEach(a=>{if(!o)return;let l=s.findWrapping(a.type),c;if(!l)return o=null;if(c=o.length&&i.length&&$T(l,i,a,o[o.length-1],0))o[o.length-1]=c;else{o.length&&(o[o.length-1]=FT(o[o.length-1],i.length));let u=LT(a,l);o.push(u),s=s.matchType(u.type),i=l}}),o)return $.from(o)}return t}function LT(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,$.from(t));return t}function $T(t,e,n,r,s){if(s<t.length&&s<e.length&&t[s]==e[s]){let i=$T(t,e,n,r.lastChild,s+1);if(i)return r.copy(r.content.replaceChild(r.childCount-1,i));if(r.contentMatchAt(r.childCount).matchType(s==t.length-1?n.type:t[s+1]))return r.copy(r.content.append($.from(LT(n,t,s+1))))}}function FT(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,FT(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore($.empty,!0);return t.copy(n.append(r))}function Mg(t,e,n,r,s,i){let o=e<0?t.firstChild:t.lastChild,a=o.content;return t.childCount>1&&(i=0),s<r-1&&(a=Mg(a,e,n,r,s+1,i)),s>=n&&(a=e<0?o.contentMatchAt(0).fillBefore(a,i<=s).append(a):a.append(o.contentMatchAt(o.childCount).fillBefore($.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,o.copy(a))}function Nx(t,e,n){return e<t.openStart&&(t=new K(Mg(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new K(Mg(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const zT={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Mx=null;function BT(){return Mx||(Mx=document.implementation.createHTMLDocument("title"))}let _p=null;function xL(t){let e=window.trustedTypes;return e?(_p||(_p=e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),_p.createHTML(t)):t}function bL(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=BT().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),s;if((s=r&&zT[r[1].toLowerCase()])&&(t=s.map(i=>"<"+i+">").join("")+t+s.map(i=>"</"+i+">").reverse().join("")),n.innerHTML=xL(t),s)for(let i=0;i<s.length;i++)n=n.querySelector(s[i])||n;return n}function SL(t){let e=t.querySelectorAll(Nt?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==" "&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function kL(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:s,openStart:i,openEnd:o}=t;for(let a=r.length-2;a>=0;a-=2){let l=n.nodes[r[a]];if(!l||l.hasRequiredAttrs())break;s=$.from(l.create(r[a+1],s)),i++,o++}return new K(s,i,o)}const Bt={},Vt={},CL={touchstart:!0,touchmove:!0};class EL{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function _L(t){for(let e in Bt){let n=Bt[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{NL(t,r)&&!Ly(t,r)&&(t.editable||!(r.type in Vt))&&n(t,r)},CL[e]?{passive:!0}:void 0)}zt&&t.dom.addEventListener("input",()=>null),Og(t)}function Is(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function TL(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function Og(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>Ly(t,r))})}function Ly(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function NL(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function ML(t,e){!Ly(t,e)&&Bt[e.type]&&(t.editable||!(e.type in Vt))&&Bt[e.type](t,e)}Vt.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!UT(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Dr&&Nt&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),Da&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",s=>s(t,vi(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||yL(t,n)?n.preventDefault():Is(t,"key")};Vt.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};Vt.keypress=(t,e)=>{let n=e;if(UT(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||wn&&n.metaKey)return;if(t.someProp("handleKeyPress",s=>s(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof le)||!r.$from.sameParent(r.$to)){let s=String.fromCharCode(n.charCode);!/[\r\n]/.test(s)&&!t.someProp("handleTextInput",i=>i(t,r.$from.pos,r.$to.pos,s))&&t.dispatch(t.state.tr.insertText(s).scrollIntoView()),n.preventDefault()}};function oh(t){return{left:t.clientX,top:t.clientY}}function OL(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function $y(t,e,n,r,s){if(r==-1)return!1;let i=t.state.doc.resolve(r);for(let o=i.depth+1;o>0;o--)if(t.someProp(e,a=>o>i.depth?a(t,n,i.nodeAfter,i.before(o),s,!0):a(t,n,i.node(o),i.before(o),s,!1)))return!0;return!1}function ia(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function PL(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&re.isSelectable(r)?(ia(t,new re(n)),!0):!1}function AL(t,e){if(e==-1)return!1;let n=t.state.selection,r,s;n instanceof re&&(r=n.node);let i=t.state.doc.resolve(e);for(let o=i.depth+1;o>0;o--){let a=o>i.depth?i.nodeAfter:i.node(o);if(re.isSelectable(a)){r&&n.$from.depth>0&&o>=n.$from.depth&&i.before(n.$from.depth+1)==n.$from.pos?s=i.before(n.$from.depth):s=i.before(o);break}}return s!=null?(ia(t,re.create(t.state.doc,s)),!0):!1}function RL(t,e,n,r,s){return $y(t,"handleClickOn",e,n,r)||t.someProp("handleClick",i=>i(t,e,r))||(s?AL(t,n):PL(t,n))}function IL(t,e,n,r){return $y(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",s=>s(t,e,r))}function DL(t,e,n,r){return $y(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",s=>s(t,e,r))||jL(t,n,r)}function jL(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(ia(t,le.create(r,0,r.content.size)),!0):!1;let s=r.resolve(e);for(let i=s.depth+1;i>0;i--){let o=i>s.depth?s.nodeAfter:s.node(i),a=s.before(i);if(o.inlineContent)ia(t,le.create(r,a+1,a+1+o.content.size));else if(re.isSelectable(o))ia(t,re.create(r,a));else continue;return!0}}function Fy(t){return ef(t)}const VT=wn?"metaKey":"ctrlKey";Bt.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=Fy(t),s=Date.now(),i="singleClick";s-t.input.lastClick.time<500&&OL(n,t.input.lastClick)&&!n[VT]&&(t.input.lastClick.type=="singleClick"?i="doubleClick":t.input.lastClick.type=="doubleClick"&&(i="tripleClick")),t.input.lastClick={time:s,x:n.clientX,y:n.clientY,type:i};let o=t.posAtCoords(oh(n));o&&(i=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new LL(t,o,n,!!r)):(i=="doubleClick"?IL:DL)(t,o.pos,o.inside,n)?n.preventDefault():Is(t,"pointer"))};class LL{constructor(e,n,r,s){this.view=e,this.pos=n,this.event=r,this.flushed=s,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[VT],this.allowDefault=r.shiftKey;let i,o;if(n.inside>-1)i=e.state.doc.nodeAt(n.inside),o=n.inside;else{let u=e.state.doc.resolve(n.pos);i=u.parent,o=u.depth?u.before():0}const a=s?null:r.target,l=a?e.docView.nearestDesc(a,!0):null;this.target=l&&l.dom.nodeType==1?l.dom:null;let{selection:c}=e.state;(r.button==0&&i.type.spec.draggable&&i.type.spec.selectable!==!1||c instanceof re&&c.from<=o&&c.to>o)&&(this.mightDrag={node:i,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Gn&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Is(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>$r(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(oh(e))),this.updateAllowDefault(e),this.allowDefault||!n?Is(this.view,"pointer"):RL(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||zt&&this.mightDrag&&!this.mightDrag.node.isAtom||Nt&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(ia(this.view,de.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):Is(this.view,"pointer")}move(e){this.updateAllowDefault(e),Is(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Bt.touchstart=t=>{t.input.lastTouch=Date.now(),Fy(t),Is(t,"pointer")};Bt.touchmove=t=>{t.input.lastTouch=Date.now(),Is(t,"pointer")};Bt.contextmenu=t=>Fy(t);function UT(t,e){return t.composing?!0:zt&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const $L=Dr?5e3:-1;Vt.compositionstart=Vt.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof le&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),ef(t,!0),t.markCursor=null;else if(ef(t,!e.selection.empty),Gn&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let s=r.focusNode,i=r.focusOffset;s&&s.nodeType==1&&i!=0;){let o=i<0?s.lastChild:s.childNodes[i-1];if(!o)break;if(o.nodeType==3){let a=t.domSelection();a&&a.collapse(o,o.nodeValue.length);break}else s=o,i=-1}}t.input.composing=!0}HT(t,$L)};Vt.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,HT(t,20))};function HT(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>ef(t),e))}function WT(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=zL());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function FL(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=P8(e.focusNode,e.focusOffset),r=A8(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let s=r.pmViewDesc,i=t.domObserver.lastChangedTextNode;if(n==i||r==i)return i;if(!s||!s.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let o=n.pmViewDesc;if(!(!o||!o.isText(n.nodeValue)))return r}}return n||r}function zL(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function ef(t,e=!1){if(!(Dr&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),WT(t),e||t.docView&&t.docView.dirty){let n=Dy(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!t.state.selection.empty?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function BL(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),s=document.createRange();s.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(s),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const kc=nn&&qs<15||Da&&L8<604;Bt.copy=Vt.cut=(t,e)=>{let n=e,r=t.state.selection,s=n.type=="cut";if(r.empty)return;let i=kc?null:n.clipboardData,o=r.content(),{dom:a,text:l}=DT(t,o);i?(n.preventDefault(),i.clearData(),i.setData("text/html",a.innerHTML),i.setData("text/plain",l)):BL(t,a),s&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function VL(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function UL(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let s=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Cc(t,r.value,null,s,e):Cc(t,r.textContent,r.innerHTML,s,e)},50)}function Cc(t,e,n,r,s){let i=jT(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",l=>l(t,s,i||K.empty)))return!0;if(!i)return!1;let o=VL(i),a=o?t.state.tr.replaceSelectionWith(o,r):t.state.tr.replaceSelection(i);return t.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function KT(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}Vt.paste=(t,e)=>{let n=e;if(t.composing&&!Dr)return;let r=kc?null:n.clipboardData,s=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&Cc(t,KT(r),r.getData("text/html"),s,n)?n.preventDefault():UL(t,n)};class qT{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const GT=wn?"altKey":"ctrlKey";Bt.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let s=t.state.selection,i=s.empty?null:t.posAtCoords(oh(n)),o;if(!(i&&i.pos>=s.from&&i.pos<=(s instanceof re?s.to-1:s.to))){if(r&&r.mightDrag)o=re.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let d=t.docView.nearestDesc(n.target,!0);d&&d.node.type.spec.draggable&&d!=t.docView&&(o=re.create(t.state.doc,d.posBefore))}}let a=(o||t.state.selection).content(),{dom:l,text:c,slice:u}=DT(t,a);(!n.dataTransfer.files.length||!Nt||wT>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(kc?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",kc||n.dataTransfer.setData("text/plain",c),t.dragging=new qT(u,!n[GT],o)};Bt.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};Vt.dragover=Vt.dragenter=(t,e)=>e.preventDefault();Vt.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let s=t.posAtCoords(oh(n));if(!s)return;let i=t.state.doc.resolve(s.pos),o=r&&r.slice;o?t.someProp("transformPasted",p=>{o=p(o,t)}):o=jT(t,KT(n.dataTransfer),kc?null:n.dataTransfer.getData("text/html"),!1,i);let a=!!(r&&!n[GT]);if(t.someProp("handleDrop",p=>p(t,n,o||K.empty,a))){n.preventDefault();return}if(!o)return;n.preventDefault();let l=o?dT(t.state.doc,i.pos,o):i.pos;l==null&&(l=i.pos);let c=t.state.tr;if(a){let{node:p}=r;p?p.replace(c):c.deleteSelection()}let u=c.mapping.map(l),d=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,f=c.doc;if(d?c.replaceRangeWith(u,u,o.content.firstChild):c.replaceRange(u,u,o),c.doc.eq(f))return;let h=c.doc.resolve(u);if(d&&re.isSelectable(o.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(o.content.firstChild))c.setSelection(new re(h));else{let p=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((g,w,v,x)=>p=x),c.setSelection(jy(t,h,c.doc.resolve(p)))}t.focus(),t.dispatch(c.setMeta("uiEvent","drop"))};Bt.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&$r(t)},20))};Bt.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};Bt.beforeinput=(t,e)=>{if(Nt&&Dr&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",i=>i(t,vi(8,"Backspace")))))return;let{$cursor:s}=t.state.selection;s&&s.pos>0&&t.dispatch(t.state.tr.delete(s.pos-1,s.pos).scrollIntoView())},50)}};for(let t in Vt)Bt[t]=Vt[t];function Ec(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class tf{constructor(e,n){this.toDOM=e,this.spec=n||Vi,this.side=this.spec.side||0}map(e,n,r,s){let{pos:i,deleted:o}=e.mapResult(n.from+s,this.side<0?-1:1);return o?null:new Cn(i-r,i-r,this)}valid(){return!0}eq(e){return this==e||e instanceof tf&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Ec(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Js{constructor(e,n){this.attrs=e,this.spec=n||Vi}map(e,n,r,s){let i=e.map(n.from+s,this.spec.inclusiveStart?-1:1)-r,o=e.map(n.to+s,this.spec.inclusiveEnd?1:-1)-r;return i>=o?null:new Cn(i,o,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof Js&&Ec(this.attrs,e.attrs)&&Ec(this.spec,e.spec)}static is(e){return e.type instanceof Js}destroy(){}}class zy{constructor(e,n){this.attrs=e,this.spec=n||Vi}map(e,n,r,s){let i=e.mapResult(n.from+s,1);if(i.deleted)return null;let o=e.mapResult(n.to+s,-1);return o.deleted||o.pos<=i.pos?null:new Cn(i.pos-r,o.pos-r,this)}valid(e,n){let{index:r,offset:s}=e.content.findIndex(n.from),i;return s==n.from&&!(i=e.child(r)).isText&&s+i.nodeSize==n.to}eq(e){return this==e||e instanceof zy&&Ec(this.attrs,e.attrs)&&Ec(this.spec,e.spec)}destroy(){}}class Cn{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new Cn(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new Cn(e,e,new tf(n,r))}static inline(e,n,r,s){return new Cn(e,n,new Js(r,s))}static node(e,n,r,s){return new Cn(e,n,new zy(r,s))}get spec(){return this.type.spec}get inline(){return this.type instanceof Js}get widget(){return this.type instanceof tf}}const Mo=[],Vi={};class tt{constructor(e,n){this.local=e.length?e:Mo,this.children=n.length?n:Mo}static create(e,n){return n.length?nf(n,e,0,Vi):_t}find(e,n,r){let s=[];return this.findInner(e??0,n??1e9,s,0,r),s}findInner(e,n,r,s,i){for(let o=0;o<this.local.length;o++){let a=this.local[o];a.from<=n&&a.to>=e&&(!i||i(a.spec))&&r.push(a.copy(a.from+s,a.to+s))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<n&&this.children[o+1]>e){let a=this.children[o]+1;this.children[o+2].findInner(e-a,n-a,r,s+a,i)}}map(e,n,r){return this==_t||e.maps.length==0?this:this.mapInner(e,n,0,0,r||Vi)}mapInner(e,n,r,s,i){let o;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(e,r,s);l&&l.type.valid(n,l)?(o||(o=[])).push(l):i.onRemove&&i.onRemove(this.local[a].spec)}return this.children.length?HL(this.children,o||[],e,n,r,s,i):o?new tt(o.sort(Ui),Mo):_t}add(e,n){return n.length?this==_t?tt.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let s,i=0;e.forEach((a,l)=>{let c=l+r,u;if(u=QT(n,a,c)){for(s||(s=this.children.slice());i<s.length&&s[i]<l;)i+=3;s[i]==l?s[i+2]=s[i+2].addInner(a,u,c+1):s.splice(i,0,l,l+a.nodeSize,nf(u,a,c+1,Vi)),i+=3}});let o=JT(i?YT(n):n,-r);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||o.splice(a--,1);return new tt(o.length?this.local.concat(o).sort(Ui):this.local,s||this.children)}remove(e){return e.length==0||this==_t?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,s=this.local;for(let i=0;i<r.length;i+=3){let o,a=r[i]+n,l=r[i+1]+n;for(let u=0,d;u<e.length;u++)(d=e[u])&&d.from>a&&d.to<l&&(e[u]=null,(o||(o=[])).push(d));if(!o)continue;r==this.children&&(r=this.children.slice());let c=r[i+2].removeInner(o,a+1);c!=_t?r[i+2]=c:(r.splice(i,3),i-=3)}if(s.length){for(let i=0,o;i<e.length;i++)if(o=e[i])for(let a=0;a<s.length;a++)s[a].eq(o,n)&&(s==this.local&&(s=this.local.slice()),s.splice(a--,1))}return r==this.children&&s==this.local?this:s.length||r.length?new tt(s,r):_t}forChild(e,n){if(this==_t)return this;if(n.isLeaf)return tt.empty;let r,s;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(r=this.children[a+2]);break}let i=e+1,o=i+n.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<o&&l.to>i&&l.type instanceof Js){let c=Math.max(i,l.from)-i,u=Math.min(o,l.to)-i;c<u&&(s||(s=[])).push(l.copy(c,u))}}if(s){let a=new tt(s.sort(Ui),Mo);return r?new vs([a,r]):a}return r||_t}eq(e){if(this==e)return!0;if(!(e instanceof tt)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return By(this.localsInner(e))}localsInner(e){if(this==_t)return Mo;if(e.inlineContent||!this.local.some(Js.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Js||n.push(this.local[r]);return n}forEachSet(e){e(this)}}tt.empty=new tt([],[]);tt.removeOverlap=By;const _t=tt.empty;class vs{constructor(e){this.members=e}map(e,n){const r=this.members.map(s=>s.map(e,n,Vi));return vs.from(r)}forChild(e,n){if(n.isLeaf)return tt.empty;let r=[];for(let s=0;s<this.members.length;s++){let i=this.members[s].forChild(e,n);i!=_t&&(i instanceof vs?r=r.concat(i.members):r.push(i))}return vs.from(r)}eq(e){if(!(e instanceof vs)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let s=0;s<this.members.length;s++){let i=this.members[s].localsInner(e);if(i.length)if(!n)n=i;else{r&&(n=n.slice(),r=!1);for(let o=0;o<i.length;o++)n.push(i[o])}}return n?By(r?n:n.sort(Ui)):Mo}static from(e){switch(e.length){case 0:return _t;case 1:return e[0];default:return new vs(e.every(n=>n instanceof tt)?e:e.reduce((n,r)=>n.concat(r instanceof tt?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function HL(t,e,n,r,s,i,o){let a=t.slice();for(let c=0,u=i;c<n.maps.length;c++){let d=0;n.maps[c].forEach((f,h,p,g)=>{let w=g-p-(h-f);for(let v=0;v<a.length;v+=3){let x=a[v+1];if(x<0||f>x+u-d)continue;let b=a[v]+u-d;h>=b?a[v+1]=f<=b?-2:-1:f>=u&&w&&(a[v]+=w,a[v+1]+=w)}d+=w}),u=n.maps[c].map(u,-1)}let l=!1;for(let c=0;c<a.length;c+=3)if(a[c+1]<0){if(a[c+1]==-2){l=!0,a[c+1]=-1;continue}let u=n.map(t[c]+i),d=u-s;if(d<0||d>=r.content.size){l=!0;continue}let f=n.map(t[c+1]+i,-1),h=f-s,{index:p,offset:g}=r.content.findIndex(d),w=r.maybeChild(p);if(w&&g==d&&g+w.nodeSize==h){let v=a[c+2].mapInner(n,w,u+1,t[c]+i+1,o);v!=_t?(a[c]=d,a[c+1]=h,a[c+2]=v):(a[c+1]=-2,l=!0)}else l=!0}if(l){let c=WL(a,t,e,n,s,i,o),u=nf(c,r,0,o);e=u.local;for(let d=0;d<a.length;d+=3)a[d+1]<0&&(a.splice(d,3),d-=3);for(let d=0,f=0;d<u.children.length;d+=3){let h=u.children[d];for(;f<a.length&&a[f]<h;)f+=3;a.splice(f,0,u.children[d],u.children[d+1],u.children[d+2])}}return new tt(e.sort(Ui),a)}function JT(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let s=t[r];n.push(new Cn(s.from+e,s.to+e,s.type))}return n}function WL(t,e,n,r,s,i,o){function a(l,c){for(let u=0;u<l.local.length;u++){let d=l.local[u].map(r,s,c);d?n.push(d):o.onRemove&&o.onRemove(l.local[u].spec)}for(let u=0;u<l.children.length;u+=3)a(l.children[u+2],l.children[u]+c+1)}for(let l=0;l<t.length;l+=3)t[l+1]==-1&&a(t[l+2],e[l]+i+1);return n}function QT(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,s=null;for(let i=0,o;i<t.length;i++)(o=t[i])&&o.from>n&&o.to<r&&((s||(s=[])).push(o),t[i]=null);return s}function YT(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function nf(t,e,n,r){let s=[],i=!1;e.forEach((a,l)=>{let c=QT(t,a,l+n);if(c){i=!0;let u=nf(c,a,n+l+1,r);u!=_t&&s.push(l,l+a.nodeSize,u)}});let o=JT(i?YT(t):t,-n).sort(Ui);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||(r.onRemove&&r.onRemove(o[a].spec),o.splice(a--,1));return o.length||s.length?new tt(o,s):_t}function Ui(t,e){return t.from-e.from||t.to-e.to}function By(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let s=n+1;s<e.length;s++){let i=e[s];if(i.from==r.from){i.to!=r.to&&(e==t&&(e=t.slice()),e[s]=i.copy(i.from,r.to),Ox(e,s+1,i.copy(r.to,i.to)));continue}else{i.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,i.from),Ox(e,s,r.copy(i.from,r.to)));break}}}return e}function Ox(t,e,n){for(;e<t.length&&Ui(n,t[e])>0;)e++;t.splice(e,0,n)}function Tp(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=_t&&e.push(r)}),t.cursorWrapper&&e.push(tt.create(t.state.doc,[t.cursorWrapper.deco])),vs.from(e)}const KL={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},qL=nn&&qs<=11;class GL{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class JL{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new GL,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let s=0;s<r.length;s++)this.queue.push(r[s]);nn&&qs<=11&&r.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():this.flush()}),qL&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,KL)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(Sx(this.view)){if(this.suppressingSelectionUpdates)return $r(this.view);if(nn&&qs<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&ro(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let i=e.focusNode;i;i=Sc(i))n.add(i);for(let i=e.anchorNode;i;i=Sc(i))if(n.has(i)){r=i;break}let s=r&&this.view.docView.nearestDesc(r);if(s&&s.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),s=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&Sx(e)&&!this.ignoreSelectionChange(r),i=-1,o=-1,a=!1,l=[];if(e.editable)for(let u=0;u<n.length;u++){let d=this.registerMutation(n[u],l);d&&(i=i<0?d.from:Math.min(d.from,i),o=o<0?d.to:Math.max(d.to,o),d.typeOver&&(a=!0))}if(Gn&&l.length){let u=l.filter(d=>d.nodeName=="BR");if(u.length==2){let[d,f]=u;d.parentNode&&d.parentNode.parentNode==f.parentNode?f.remove():d.remove()}else{let{focusNode:d}=this.currentSelection;for(let f of u){let h=f.parentNode;h&&h.nodeName=="LI"&&(!d||XL(e,d)!=h)&&f.remove()}}}let c=null;i<0&&s&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&sh(r)&&(c=Dy(e))&&c.eq(de.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,$r(e),this.currentSelection.set(r),e.scrollToSelection()):(i>-1||s)&&(i>-1&&(e.docView.markDirty(i,o),QL(e)),this.handleDOMChange(i,o,a,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||$r(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let u=0;u<e.addedNodes.length;u++){let d=e.addedNodes[u];n.push(d),d.nodeType==3&&(this.lastChangedTextNode=d)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let s=e.previousSibling,i=e.nextSibling;if(nn&&qs<=11&&e.addedNodes.length)for(let u=0;u<e.addedNodes.length;u++){let{previousSibling:d,nextSibling:f}=e.addedNodes[u];(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(s=d),(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(i=f)}let o=s&&s.parentNode==e.target?yt(s)+1:0,a=r.localPosFromDOM(e.target,o,-1),l=i&&i.parentNode==e.target?yt(i):e.target.childNodes.length,c=r.localPosFromDOM(e.target,l,1);return{from:a,to:c}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let Px=new WeakMap,Ax=!1;function QL(t){if(!Px.has(t)&&(Px.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=Gn,Ax)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Ax=!0}}function Rx(t,e){let n=e.startContainer,r=e.startOffset,s=e.endContainer,i=e.endOffset,o=t.domAtPos(t.state.selection.anchor);return ro(o.node,o.offset,s,i)&&([n,r,s,i]=[s,i,n,r]),{anchorNode:n,anchorOffset:r,focusNode:s,focusOffset:i}}function YL(t,e){if(e.getComposedRanges){let s=e.getComposedRanges(t.root)[0];if(s)return Rx(t,s)}let n;function r(s){s.preventDefault(),s.stopImmediatePropagation(),n=s.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?Rx(t,n):null}function XL(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function ZL(t,e,n){let{node:r,fromOffset:s,toOffset:i,from:o,to:a}=t.docView.parseRange(e,n),l=t.domSelectionRange(),c,u=l.anchorNode;if(u&&t.dom.contains(u.nodeType==1?u:u.parentNode)&&(c=[{node:u,offset:l.anchorOffset}],sh(l)||c.push({node:l.focusNode,offset:l.focusOffset})),Nt&&t.input.lastKeyCode===8)for(let w=i;w>s;w--){let v=r.childNodes[w-1],x=v.pmViewDesc;if(v.nodeName=="BR"&&!x){i=w;break}if(!x||x.size)break}let d=t.state.doc,f=t.someProp("domParser")||Ks.fromSchema(t.state.schema),h=d.resolve(o),p=null,g=f.parse(r,{topNode:h.parent,topMatch:h.parent.contentMatchAt(h.index()),topOpen:!0,from:s,to:i,preserveWhitespace:h.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:e$,context:h});if(c&&c[0].pos!=null){let w=c[0].pos,v=c[1]&&c[1].pos;v==null&&(v=w),p={anchor:w+o,head:v+o}}return{doc:g,sel:p,from:o,to:a}}function e$(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(zt&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||zt&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const t$=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function n$(t,e,n,r,s){let i=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let O=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,P=Dy(t,O);if(P&&!t.state.selection.eq(P)){if(Nt&&Dr&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",I=>I(t,vi(13,"Enter"))))return;let L=t.state.tr.setSelection(P);O=="pointer"?L.setMeta("pointer",!0):O=="key"&&L.scrollIntoView(),i&&L.setMeta("composition",i),t.dispatch(L)}return}let o=t.state.doc.resolve(e),a=o.sharedDepth(n);e=o.before(a+1),n=t.state.doc.resolve(n).after(a+1);let l=t.state.selection,c=ZL(t,e,n),u=t.state.doc,d=u.slice(c.from,c.to),f,h;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(f=t.state.selection.to,h="end"):(f=t.state.selection.from,h="start"),t.input.lastKeyCode=null;let p=i$(d.content,c.doc.content,c.from,f,h);if(p&&t.input.domChangeCount++,(Da&&t.input.lastIOSEnter>Date.now()-225||Dr)&&s.some(O=>O.nodeType==1&&!t$.test(O.nodeName))&&(!p||p.endA>=p.endB)&&t.someProp("handleKeyDown",O=>O(t,vi(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!p)if(r&&l instanceof le&&!l.empty&&l.$head.sameParent(l.$anchor)&&!t.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))p={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let O=Ix(t,t.state.doc,c.sel);if(O&&!O.eq(t.state.selection)){let P=t.state.tr.setSelection(O);i&&P.setMeta("composition",i),t.dispatch(P)}}return}t.state.selection.from<t.state.selection.to&&p.start==p.endB&&t.state.selection instanceof le&&(p.start>t.state.selection.from&&p.start<=t.state.selection.from+2&&t.state.selection.from>=c.from?p.start=t.state.selection.from:p.endA<t.state.selection.to&&p.endA>=t.state.selection.to-2&&t.state.selection.to<=c.to&&(p.endB+=t.state.selection.to-p.endA,p.endA=t.state.selection.to)),nn&&qs<=11&&p.endB==p.start+1&&p.endA==p.start&&p.start>c.from&&c.doc.textBetween(p.start-c.from-1,p.start-c.from+1)=="  "&&(p.start--,p.endA--,p.endB--);let g=c.doc.resolveNoCache(p.start-c.from),w=c.doc.resolveNoCache(p.endB-c.from),v=u.resolve(p.start),x=g.sameParent(w)&&g.parent.inlineContent&&v.end()>=p.endA,b;if((Da&&t.input.lastIOSEnter>Date.now()-225&&(!x||s.some(O=>O.nodeName=="DIV"||O.nodeName=="P"))||!x&&g.pos<c.doc.content.size&&!g.sameParent(w)&&(b=de.findFrom(c.doc.resolve(g.pos+1),1,!0))&&b.head==w.pos)&&t.someProp("handleKeyDown",O=>O(t,vi(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>p.start&&s$(u,p.start,p.endA,g,w)&&t.someProp("handleKeyDown",O=>O(t,vi(8,"Backspace")))){Dr&&Nt&&t.domObserver.suppressSelectionUpdates();return}Nt&&p.endB==p.start&&(t.input.lastChromeDelete=Date.now()),Dr&&!x&&g.start()!=w.start()&&w.parentOffset==0&&g.depth==w.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==p.endA&&(p.endB-=2,w=c.doc.resolveNoCache(p.endB-c.from),setTimeout(()=>{t.someProp("handleKeyDown",function(O){return O(t,vi(13,"Enter"))})},20));let S=p.start,k=p.endA,C,_,M;if(x){if(g.pos==w.pos)nn&&qs<=11&&g.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>$r(t),20)),C=t.state.tr.delete(S,k),_=u.resolve(p.start).marksAcross(u.resolve(p.endA));else if(p.endA==p.endB&&(M=r$(g.parent.content.cut(g.parentOffset,w.parentOffset),v.parent.content.cut(v.parentOffset,p.endA-v.start()))))C=t.state.tr,M.type=="add"?C.addMark(S,k,M.mark):C.removeMark(S,k,M.mark);else if(g.parent.child(g.index()).isText&&g.index()==w.index()-(w.textOffset?0:1)){let O=g.parent.textBetween(g.parentOffset,w.parentOffset);if(t.someProp("handleTextInput",P=>P(t,S,k,O)))return;C=t.state.tr.insertText(O,S,k)}}if(C||(C=t.state.tr.replace(S,k,c.doc.slice(p.start-c.from,p.endB-c.from))),c.sel){let O=Ix(t,C.doc,c.sel);O&&!(Nt&&t.composing&&O.empty&&(p.start!=p.endB||t.input.lastChromeDelete<Date.now()-100)&&(O.head==S||O.head==C.mapping.map(k)-1)||nn&&O.empty&&O.head==S)&&C.setSelection(O)}_&&C.ensureMarks(_),i&&C.setMeta("composition",i),t.dispatch(C.scrollIntoView())}function Ix(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:jy(t,e.resolve(n.anchor),e.resolve(n.head))}function r$(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,s=n,i=r,o,a,l;for(let u=0;u<r.length;u++)s=r[u].removeFromSet(s);for(let u=0;u<n.length;u++)i=n[u].removeFromSet(i);if(s.length==1&&i.length==0)a=s[0],o="add",l=u=>u.mark(a.addToSet(u.marks));else if(s.length==0&&i.length==1)a=i[0],o="remove",l=u=>u.mark(a.removeFromSet(u.marks));else return null;let c=[];for(let u=0;u<e.childCount;u++)c.push(l(e.child(u)));if($.from(c).eq(t))return{mark:a,type:o}}function s$(t,e,n,r,s){if(n-e<=s.pos-r.pos||Np(r,!0,!1)<s.pos)return!1;let i=t.resolve(e);if(!r.parent.isTextblock){let a=i.nodeAfter;return a!=null&&n==e+a.nodeSize}if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;let o=t.resolve(Np(i,!0,!0));return!o.parent.isTextblock||o.pos>n||Np(o,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(o.parent.content)}function Np(t,e,n){let r=t.depth,s=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,s++,e=!1;if(n){let i=t.node(r).maybeChild(t.indexAfter(r));for(;i&&!i.isLeaf;)i=i.firstChild,s++}return s}function i$(t,e,n,r,s){let i=t.findDiffStart(e,n);if(i==null)return null;let{a:o,b:a}=t.findDiffEnd(e,n+t.size,n+e.size);if(s=="end"){let l=Math.max(0,i-Math.min(o,a));r-=o+l-i}if(o<i&&t.size<e.size){let l=r<=i&&r>=o?i-r:0;i-=l,i&&i<e.size&&Dx(e.textBetween(i-1,i+1))&&(i+=l?1:-1),a=i+(a-o),o=i}else if(a<i){let l=r<=i&&r>=a?i-r:0;i-=l,i&&i<t.size&&Dx(t.textBetween(i-1,i+1))&&(i+=l?1:-1),o=i+(o-a),a=i}return{start:i,endA:o,endB:a}}function Dx(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class o${constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new EL,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(zx),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=$x(this),Lx(this),this.nodeViews=Fx(this),this.docView=gx(this.state.doc,jx(this),Tp(this),this.dom,this),this.domObserver=new JL(this,(r,s,i,o)=>n$(this,r,s,i,o)),this.domObserver.start(),_L(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Og(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(zx),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let s=this.state,i=!1,o=!1;e.storedMarks&&this.composing&&(WT(this),o=!0),this.state=e;let a=s.plugins!=e.plugins||this._props.plugins!=n.plugins;if(a||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let h=Fx(this);l$(h,this.nodeViews)&&(this.nodeViews=h,i=!0)}(a||n.handleDOMEvents!=this._props.handleDOMEvents)&&Og(this),this.editable=$x(this),Lx(this);let l=Tp(this),c=jx(this),u=s.plugins!=e.plugins&&!s.doc.eq(e.doc)?"reset":e.scrollToSelection>s.scrollToSelection?"to selection":"preserve",d=i||!this.docView.matchesNode(e.doc,c,l);(d||!e.selection.eq(s.selection))&&(o=!0);let f=u=="preserve"&&o&&this.dom.style.overflowAnchor==null&&z8(this);if(o){this.domObserver.stop();let h=d&&(nn||Nt)&&!this.composing&&!s.selection.empty&&!e.selection.empty&&a$(s.selection,e.selection);if(d){let p=Nt?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=FL(this)),(i||!this.docView.update(e.doc,c,l,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=gx(e.doc,c,l,this.dom,this)),p&&!this.trackWrites&&(h=!0)}h||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&uL(this))?$r(this,h):(AT(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(s),!((r=this.dragging)===null||r===void 0)&&r.node&&!s.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,s),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():f&&B8(f)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof re){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&ux(this,n.getBoundingClientRect(),e)}else ux(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,s=-1;if(this.state.doc.nodeAt(r.from)==r.node)s=r.from;else{let i=r.from+(this.state.doc.content.size-n.doc.content.size);(i>0&&this.state.doc.nodeAt(i))==r.node&&(s=i)}this.dragging=new qT(e.slice,e.move,s<0?void 0:re.create(this.state.doc,s))}someProp(e,n){let r=this._props&&this._props[e],s;if(r!=null&&(s=n?n(r):r))return s;for(let o=0;o<this.directPlugins.length;o++){let a=this.directPlugins[o].props[e];if(a!=null&&(s=n?n(a):a))return s}let i=this.state.plugins;if(i)for(let o=0;o<i.length;o++){let a=i[o].props[e];if(a!=null&&(s=n?n(a):a))return s}}hasFocus(){if(nn){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&V8(this.dom),$r(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return q8(this,e)}coordsAtPos(e,n=1){return CT(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let s=this.docView.posFromDOM(e,n,r);if(s==null)throw new RangeError("DOM position not inside the editor");return s}endOfTextblock(e,n){return X8(this,n||this.state,e)}pasteHTML(e,n){return Cc(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return Cc(this,e,null,!0,n||new ClipboardEvent("paste"))}destroy(){this.docView&&(TL(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Tp(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,M8())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return ML(this,e)}dispatch(e){let n=this._props.dispatchTransaction;n?n.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?zt&&this.root.nodeType===11&&I8(this.dom.ownerDocument)==this.dom&&YL(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function jx(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[Cn.node(0,t.state.doc.content.size,e)]}function Lx(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:Cn.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function $x(t){return!t.someProp("editable",e=>e(t.state)===!1)}function a$(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function Fx(t){let e=Object.create(null);function n(r){for(let s in r)Object.prototype.hasOwnProperty.call(e,s)||(e[s]=r[s])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function l$(t,e){let n=0,r=0;for(let s in t){if(t[s]!=e[s])return!0;n++}for(let s in e)r++;return n!=r}function zx(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var ei={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},rf={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},c$=typeof navigator<"u"&&/Mac/.test(navigator.platform),u$=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var vt=0;vt<10;vt++)ei[48+vt]=ei[96+vt]=String(vt);for(var vt=1;vt<=24;vt++)ei[vt+111]="F"+vt;for(var vt=65;vt<=90;vt++)ei[vt]=String.fromCharCode(vt+32),rf[vt]=String.fromCharCode(vt);for(var Mp in ei)rf.hasOwnProperty(Mp)||(rf[Mp]=ei[Mp]);function d$(t){var e=c$&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||u$&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?rf:ei)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const f$=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function h$(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,s,i,o;for(let a=0;a<e.length-1;a++){let l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))s=!0;else if(/^s(hift)?$/i.test(l))i=!0;else if(/^mod$/i.test(l))f$?o=!0:s=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(n="Alt-"+n),s&&(n="Ctrl-"+n),o&&(n="Meta-"+n),i&&(n="Shift-"+n),n}function p$(t){let e=Object.create(null);for(let n in t)e[h$(n)]=t[n];return e}function Op(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function m$(t){return new rn({props:{handleKeyDown:XT(t)}})}function XT(t){let e=p$(t);return function(n,r){let s=d$(r),i,o=e[Op(s,r)];if(o&&o(n.state,n.dispatch,n))return!0;if(s.length==1&&s!=" "){if(r.shiftKey){let a=e[Op(s,r,!1)];if(a&&a(n.state,n.dispatch,n))return!0}if((r.shiftKey||r.altKey||r.metaKey||s.charCodeAt(0)>127)&&(i=ei[r.keyCode])&&i!=s){let a=e[Op(i,r)];if(a&&a(n.state,n.dispatch,n))return!0}}return!1}}const g$=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function ZT(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const y$=(t,e,n)=>{let r=ZT(t,n);if(!r)return!1;let s=Vy(r);if(!s){let o=r.blockRange(),a=o&&Ja(o);return a==null?!1:(e&&e(t.tr.lift(o,a).scrollIntoView()),!0)}let i=s.nodeBefore;if(r3(t,s,e,-1))return!0;if(r.parent.content.size==0&&(ja(i,"end")||re.isSelectable(i)))for(let o=r.depth;;o--){let a=nh(t.doc,r.before(o),r.after(o),K.empty);if(a&&a.slice.size<a.to-a.from){if(e){let l=t.tr.step(a);l.setSelection(ja(i,"end")?de.findFrom(l.doc.resolve(l.mapping.map(s.pos,-1)),-1):re.create(l.doc,s.pos-i.nodeSize)),e(l.scrollIntoView())}return!0}if(o==1||r.node(o-1).childCount>1)break}return i.isAtom&&s.depth==r.depth-1?(e&&e(t.tr.delete(s.pos-i.nodeSize,s.pos).scrollIntoView()),!0):!1},v$=(t,e,n)=>{let r=ZT(t,n);if(!r)return!1;let s=Vy(r);return s?e3(t,s,e):!1},w$=(t,e,n)=>{let r=t3(t,n);if(!r)return!1;let s=Uy(r);return s?e3(t,s,e):!1};function e3(t,e,n){let r=e.nodeBefore,s=r,i=e.pos-1;for(;!s.isTextblock;i--){if(s.type.spec.isolating)return!1;let u=s.lastChild;if(!u)return!1;s=u}let o=e.nodeAfter,a=o,l=e.pos+1;for(;!a.isTextblock;l++){if(a.type.spec.isolating)return!1;let u=a.firstChild;if(!u)return!1;a=u}let c=nh(t.doc,i,l,K.empty);if(!c||c.from!=i||c instanceof lt&&c.slice.size>=l-i)return!1;if(n){let u=t.tr.step(c);u.setSelection(le.create(u.doc,i)),n(u.scrollIntoView())}return!0}function ja(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const x$=(t,e,n)=>{let{$head:r,empty:s}=t.selection,i=r;if(!s)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;i=Vy(r)}let o=i&&i.nodeBefore;return!o||!re.isSelectable(o)?!1:(e&&e(t.tr.setSelection(re.create(t.doc,i.pos-o.nodeSize)).scrollIntoView()),!0)};function Vy(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function t3(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const b$=(t,e,n)=>{let r=t3(t,n);if(!r)return!1;let s=Uy(r);if(!s)return!1;let i=s.nodeAfter;if(r3(t,s,e,1))return!0;if(r.parent.content.size==0&&(ja(i,"start")||re.isSelectable(i))){let o=nh(t.doc,r.before(),r.after(),K.empty);if(o&&o.slice.size<o.to-o.from){if(e){let a=t.tr.step(o);a.setSelection(ja(i,"start")?de.findFrom(a.doc.resolve(a.mapping.map(s.pos)),1):re.create(a.doc,a.mapping.map(s.pos))),e(a.scrollIntoView())}return!0}}return i.isAtom&&s.depth==r.depth-1?(e&&e(t.tr.delete(s.pos,s.pos+i.nodeSize).scrollIntoView()),!0):!1},S$=(t,e,n)=>{let{$head:r,empty:s}=t.selection,i=r;if(!s)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;i=Uy(r)}let o=i&&i.nodeAfter;return!o||!re.isSelectable(o)?!1:(e&&e(t.tr.setSelection(re.create(t.doc,i.pos)).scrollIntoView()),!0)};function Uy(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const k$=(t,e)=>{let n=t.selection,r=n instanceof re,s;if(r){if(n.node.isTextblock||!li(t.doc,n.from))return!1;s=n.from}else if(s=th(t.doc,n.from,-1),s==null)return!1;if(e){let i=t.tr.join(s);r&&i.setSelection(re.create(i.doc,s-t.doc.resolve(s).nodeBefore.nodeSize)),e(i.scrollIntoView())}return!0},C$=(t,e)=>{let n=t.selection,r;if(n instanceof re){if(n.node.isTextblock||!li(t.doc,n.to))return!1;r=n.to}else if(r=th(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},E$=(t,e)=>{let{$from:n,$to:r}=t.selection,s=n.blockRange(r),i=s&&Ja(s);return i==null?!1:(e&&e(t.tr.lift(s,i).scrollIntoView()),!0)},_$=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function n3(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const T$=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let s=n.node(-1),i=n.indexAfter(-1),o=n3(s.contentMatchAt(i));if(!o||!s.canReplaceWith(i,i,o))return!1;if(e){let a=n.after(),l=t.tr.replaceWith(a,a,o.createAndFill());l.setSelection(de.near(l.doc.resolve(a),1)),e(l.scrollIntoView())}return!0},N$=(t,e)=>{let n=t.selection,{$from:r,$to:s}=n;if(n instanceof Kn||r.parent.inlineContent||s.parent.inlineContent)return!1;let i=n3(s.parent.contentMatchAt(s.indexAfter()));if(!i||!i.isTextblock)return!1;if(e){let o=(!r.parentOffset&&s.index()<s.parent.childCount?r:s).pos,a=t.tr.insert(o,i.createAndFill());a.setSelection(le.create(a.doc,o+1)),e(a.scrollIntoView())}return!0},M$=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let i=n.before();if(ra(t.doc,i))return e&&e(t.tr.split(i).scrollIntoView()),!0}let r=n.blockRange(),s=r&&Ja(r);return s==null?!1:(e&&e(t.tr.lift(r,s).scrollIntoView()),!0)},O$=(t,e)=>{let{$from:n,to:r}=t.selection,s,i=n.sharedDepth(r);return i==0?!1:(s=n.before(i),e&&e(t.tr.setSelection(re.create(t.doc,s))),!0)};function P$(t,e,n){let r=e.nodeBefore,s=e.nodeAfter,i=e.index();return!r||!s||!r.type.compatibleContent(s.type)?!1:!r.content.size&&e.parent.canReplace(i-1,i)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(i,i+1)||!(s.isTextblock||li(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function r3(t,e,n,r){let s=e.nodeBefore,i=e.nodeAfter,o,a,l=s.type.spec.isolating||i.type.spec.isolating;if(!l&&P$(t,e,n))return!0;let c=!l&&e.parent.canReplace(e.index(),e.index()+1);if(c&&(o=(a=s.contentMatchAt(s.childCount)).findWrapping(i.type))&&a.matchType(o[0]||i.type).validEnd){if(n){let h=e.pos+i.nodeSize,p=$.empty;for(let v=o.length-1;v>=0;v--)p=$.from(o[v].create(null,p));p=$.from(s.copy(p));let g=t.tr.step(new ut(e.pos-1,h,e.pos,h,new K(p,1,0),o.length,!0)),w=g.doc.resolve(h+2*o.length);w.nodeAfter&&w.nodeAfter.type==s.type&&li(g.doc,w.pos)&&g.join(w.pos),n(g.scrollIntoView())}return!0}let u=i.type.spec.isolating||r>0&&l?null:de.findFrom(e,1),d=u&&u.$from.blockRange(u.$to),f=d&&Ja(d);if(f!=null&&f>=e.depth)return n&&n(t.tr.lift(d,f).scrollIntoView()),!0;if(c&&ja(i,"start",!0)&&ja(s,"end")){let h=s,p=[];for(;p.push(h),!h.isTextblock;)h=h.lastChild;let g=i,w=1;for(;!g.isTextblock;g=g.firstChild)w++;if(h.canReplace(h.childCount,h.childCount,g.content)){if(n){let v=$.empty;for(let b=p.length-1;b>=0;b--)v=$.from(p[b].copy(v));let x=t.tr.step(new ut(e.pos-p.length,e.pos+i.nodeSize,e.pos+w,e.pos+i.nodeSize-w,new K(v,p.length,0),0,!0));n(x.scrollIntoView())}return!0}}return!1}function s3(t){return function(e,n){let r=e.selection,s=t<0?r.$from:r.$to,i=s.depth;for(;s.node(i).isInline;){if(!i)return!1;i--}return s.node(i).isTextblock?(n&&n(e.tr.setSelection(le.create(e.doc,t<0?s.start(i):s.end(i)))),!0):!1}}const A$=s3(-1),R$=s3(1);function I$(t,e=null){return function(n,r){let{$from:s,$to:i}=n.selection,o=s.blockRange(i),a=o&&Ay(o,t,e);return a?(r&&r(n.tr.wrap(o,a).scrollIntoView()),!0):!1}}function Bx(t,e=null){return function(n,r){let s=!1;for(let i=0;i<n.selection.ranges.length&&!s;i++){let{$from:{pos:o},$to:{pos:a}}=n.selection.ranges[i];n.doc.nodesBetween(o,a,(l,c)=>{if(s)return!1;if(!(!l.isTextblock||l.hasMarkup(t,e)))if(l.type==t)s=!0;else{let u=n.doc.resolve(c),d=u.index();s=u.parent.canReplaceWith(d,d+1,t)}})}if(!s)return!1;if(r){let i=n.tr;for(let o=0;o<n.selection.ranges.length;o++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[o];i.setBlockType(a,l,t,e)}r(i.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function D$(t,e=null){return function(n,r){let{$from:s,$to:i}=n.selection,o=s.blockRange(i);if(!o)return!1;let a=r?n.tr:null;return j$(a,o,t,e)?(r&&r(a.scrollIntoView()),!0):!1}}function j$(t,e,n,r=null){let s=!1,i=e,o=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let l=o.resolve(e.start-2);i=new Qd(l,l,e.depth),e.endIndex<e.parent.childCount&&(e=new Qd(e.$from,o.resolve(e.$to.end(e.depth)),e.depth)),s=!0}let a=Ay(i,n,r,e);return a?(t&&L$(t,e,a,s,n),!0):!1}function L$(t,e,n,r,s){let i=$.empty;for(let u=n.length-1;u>=0;u--)i=$.from(n[u].type.create(n[u].attrs,i));t.step(new ut(e.start-(r?2:0),e.end,e.start,e.end,new K(i,0,0),n.length,!0));let o=0;for(let u=0;u<n.length;u++)n[u].type==s&&(o=u+1);let a=n.length-o,l=e.start+n.length-(r?2:0),c=e.parent;for(let u=e.startIndex,d=e.endIndex,f=!0;u<d;u++,f=!1)!f&&ra(t.doc,l,a)&&(t.split(l,a),l+=2*a),l+=c.child(u).nodeSize;return t}function $$(t){return function(e,n){let{$from:r,$to:s}=e.selection,i=r.blockRange(s,o=>o.childCount>0&&o.firstChild.type==t);return i?n?r.node(i.depth-1).type==t?F$(e,n,t,i):z$(e,n,i):!0:!1}}function F$(t,e,n,r){let s=t.tr,i=r.end,o=r.$to.end(r.depth);i<o&&(s.step(new ut(i-1,o,i,o,new K($.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new Qd(s.doc.resolve(r.$from.pos),s.doc.resolve(o),r.depth));const a=Ja(r);if(a==null)return!1;s.lift(r,a);let l=s.mapping.map(i,-1)-1;return li(s.doc,l)&&s.join(l),e(s.scrollIntoView()),!0}function z$(t,e,n){let r=t.tr,s=n.parent;for(let h=n.end,p=n.endIndex-1,g=n.startIndex;p>g;p--)h-=s.child(p).nodeSize,r.delete(h-1,h+1);let i=r.doc.resolve(n.start),o=i.nodeAfter;if(r.mapping.map(n.end)!=n.start+i.nodeAfter.nodeSize)return!1;let a=n.startIndex==0,l=n.endIndex==s.childCount,c=i.node(-1),u=i.index(-1);if(!c.canReplace(u+(a?0:1),u+1,o.content.append(l?$.empty:$.from(s))))return!1;let d=i.pos,f=d+o.nodeSize;return r.step(new ut(d-(a?1:0),f+(l?1:0),d+1,f-1,new K((a?$.empty:$.from(s.copy($.empty))).append(l?$.empty:$.from(s.copy($.empty))),a?0:1,l?0:1),a?0:1)),e(r.scrollIntoView()),!0}function B$(t){return function(e,n){let{$from:r,$to:s}=e.selection,i=r.blockRange(s,c=>c.childCount>0&&c.firstChild.type==t);if(!i)return!1;let o=i.startIndex;if(o==0)return!1;let a=i.parent,l=a.child(o-1);if(l.type!=t)return!1;if(n){let c=l.lastChild&&l.lastChild.type==a.type,u=$.from(c?t.create():null),d=new K($.from(t.create(null,$.from(a.type.create(null,u)))),c?3:1,0),f=i.start,h=i.end;n(e.tr.step(new ut(f-(c?3:1),h,f,h,d,1,!0)).scrollIntoView())}return!0}}function ah(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:s}=n,{storedMarks:i}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return i},get selection(){return r},get doc(){return s},get tr(){return r=n.selection,s=n.doc,i=n.storedMarks,n}}}class lh{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:n,state:r}=this,{view:s}=n,{tr:i}=r,o=this.buildProps(i);return Object.fromEntries(Object.entries(e).map(([a,l])=>[a,(...u)=>{const d=l(...u)(o);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(i),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,n=!0){const{rawCommands:r,editor:s,state:i}=this,{view:o}=s,a=[],l=!!e,c=e||i.tr,u=()=>(!l&&n&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(c),a.every(f=>f===!0)),d={...Object.fromEntries(Object.entries(r).map(([f,h])=>[f,(...g)=>{const w=this.buildProps(c,n),v=h(...g)(w);return a.push(v),d}])),run:u};return d}createCan(e){const{rawCommands:n,state:r}=this,s=!1,i=e||r.tr,o=this.buildProps(i,s);return{...Object.fromEntries(Object.entries(n).map(([l,c])=>[l,(...u)=>c(...u)({...o,dispatch:void 0})])),chain:()=>this.createChain(i,s)}}buildProps(e,n=!0){const{rawCommands:r,editor:s,state:i}=this,{view:o}=s,a={tr:e,editor:s,view:o,state:ah({state:i,transaction:e}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(e,n),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([l,c])=>[l,(...u)=>c(...u)(a)]))}};return a}}class V${constructor(){this.callbacks={}}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),this}emit(e,...n){const r=this.callbacks[e];return r&&r.forEach(s=>s.apply(this,n)),this}off(e,n){const r=this.callbacks[e];return r&&(n?this.callbacks[e]=r.filter(s=>s!==n):delete this.callbacks[e]),this}once(e,n){const r=(...s)=>{this.off(e,r),n.apply(this,s)};return this.on(e,r)}removeAllListeners(){this.callbacks={}}}function Z(t,e,n){return t.config[e]===void 0&&t.parent?Z(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?Z(t.parent,e,n):null}):t.config[e]}function ch(t){const e=t.filter(s=>s.type==="extension"),n=t.filter(s=>s.type==="node"),r=t.filter(s=>s.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function i3(t){const e=[],{nodeExtensions:n,markExtensions:r}=ch(t),s=[...n,...r],i={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage,extensions:s},l=Z(o,"addGlobalAttributes",a);if(!l)return;l().forEach(u=>{u.types.forEach(d=>{Object.entries(u.attributes).forEach(([f,h])=>{e.push({type:d,name:f,attribute:{...i,...h}})})})})}),s.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage},l=Z(o,"addAttributes",a);if(!l)return;const c=l();Object.entries(c).forEach(([u,d])=>{const f={...i,...d};typeof(f==null?void 0:f.default)=="function"&&(f.default=f.default()),f!=null&&f.isRequired&&(f==null?void 0:f.default)===void 0&&delete f.default,e.push({type:o.name,name:u,attribute:f})})}),e}function ft(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function bt(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([s,i])=>{if(!r[s]){r[s]=i;return}if(s==="class"){const a=i?i.split(" "):[],l=r[s]?r[s].split(" "):[],c=a.filter(u=>!l.includes(u));r[s]=[...l,...c].join(" ")}else if(s==="style"){const a=i?i.split(";").map(u=>u.trim()).filter(Boolean):[],l=r[s]?r[s].split(";").map(u=>u.trim()).filter(Boolean):[],c=new Map;l.forEach(u=>{const[d,f]=u.split(":").map(h=>h.trim());c.set(d,f)}),a.forEach(u=>{const[d,f]=u.split(":").map(h=>h.trim());c.set(d,f)}),r[s]=Array.from(c.entries()).map(([u,d])=>`${u}: ${d}`).join("; ")}else r[s]=i}),r},{})}function Pg(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>bt(n,r),{})}function o3(t){return typeof t=="function"}function me(t,e=void 0,...n){return o3(t)?e?t.bind(e)(...n):t(...n):t}function U$(t={}){return Object.keys(t).length===0&&t.constructor===Object}function H$(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function Vx(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const s=e.reduce((i,o)=>{const a=o.attribute.parseHTML?o.attribute.parseHTML(n):H$(n.getAttribute(o.name));return a==null?i:{...i,[o.name]:a}},{});return{...r,...s}}}}function Ux(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&U$(n)?!1:n!=null))}function W$(t,e){var n;const r=i3(t),{nodeExtensions:s,markExtensions:i}=ch(t),o=(n=s.find(c=>Z(c,"topNode")))===null||n===void 0?void 0:n.name,a=Object.fromEntries(s.map(c=>{const u=r.filter(v=>v.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:e},f=t.reduce((v,x)=>{const b=Z(x,"extendNodeSchema",d);return{...v,...b?b(c):{}}},{}),h=Ux({...f,content:me(Z(c,"content",d)),marks:me(Z(c,"marks",d)),group:me(Z(c,"group",d)),inline:me(Z(c,"inline",d)),atom:me(Z(c,"atom",d)),selectable:me(Z(c,"selectable",d)),draggable:me(Z(c,"draggable",d)),code:me(Z(c,"code",d)),whitespace:me(Z(c,"whitespace",d)),linebreakReplacement:me(Z(c,"linebreakReplacement",d)),defining:me(Z(c,"defining",d)),isolating:me(Z(c,"isolating",d)),attrs:Object.fromEntries(u.map(v=>{var x;return[v.name,{default:(x=v==null?void 0:v.attribute)===null||x===void 0?void 0:x.default}]}))}),p=me(Z(c,"parseHTML",d));p&&(h.parseDOM=p.map(v=>Vx(v,u)));const g=Z(c,"renderHTML",d);g&&(h.toDOM=v=>g({node:v,HTMLAttributes:Pg(v,u)}));const w=Z(c,"renderText",d);return w&&(h.toText=w),[c.name,h]})),l=Object.fromEntries(i.map(c=>{const u=r.filter(w=>w.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:e},f=t.reduce((w,v)=>{const x=Z(v,"extendMarkSchema",d);return{...w,...x?x(c):{}}},{}),h=Ux({...f,inclusive:me(Z(c,"inclusive",d)),excludes:me(Z(c,"excludes",d)),group:me(Z(c,"group",d)),spanning:me(Z(c,"spanning",d)),code:me(Z(c,"code",d)),attrs:Object.fromEntries(u.map(w=>{var v;return[w.name,{default:(v=w==null?void 0:w.attribute)===null||v===void 0?void 0:v.default}]}))}),p=me(Z(c,"parseHTML",d));p&&(h.parseDOM=p.map(w=>Vx(w,u)));const g=Z(c,"renderHTML",d);return g&&(h.toDOM=w=>g({mark:w,HTMLAttributes:Pg(w,u)})),[c.name,h]}));return new eT({topNode:o,nodes:a,marks:l})}function Pp(t,e){return e.nodes[t]||e.marks[t]||null}function Hx(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function Hy(t,e){const n=ho.fromSchema(e).serializeFragment(t),s=document.implementation.createHTMLDocument().createElement("div");return s.appendChild(n),s.innerHTML}const K$=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(s,i,o,a)=>{var l,c;const u=((c=(l=s.type.spec).toText)===null||c===void 0?void 0:c.call(l,{node:s,pos:i,parent:o,index:a}))||s.textContent||"%leaf%";n+=s.isAtom&&!s.isText?u:u.slice(0,Math.max(0,r-i))}),n};function Wy(t){return Object.prototype.toString.call(t)==="[object RegExp]"}class uh{constructor(e){this.find=e.find,this.handler=e.handler}}const q$=(t,e)=>{if(Wy(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function Iu(t){var e;const{editor:n,from:r,to:s,text:i,rules:o,plugin:a}=t,{view:l}=n;if(l.composing)return!1;const c=l.state.doc.resolve(r);if(c.parent.type.spec.code||!((e=c.nodeBefore||c.nodeAfter)===null||e===void 0)&&e.marks.find(f=>f.type.spec.code))return!1;let u=!1;const d=K$(c)+i;return o.forEach(f=>{if(u)return;const h=q$(d,f.find);if(!h)return;const p=l.state.tr,g=ah({state:l.state,transaction:p}),w={from:r-(h[0].length-i.length),to:s},{commands:v,chain:x,can:b}=new lh({editor:n,state:g});f.handler({state:g,range:w,match:h,commands:v,chain:x,can:b})===null||!p.steps.length||(p.setMeta(a,{transform:p,from:r,to:s,text:i}),l.dispatch(p),u=!0)}),u}function G$(t){const{editor:e,rules:n}=t,r=new rn({state:{init(){return null},apply(s,i,o){const a=s.getMeta(r);if(a)return a;const l=s.getMeta("applyInputRules");return!!l&&setTimeout(()=>{let{text:u}=l;typeof u=="string"?u=u:u=Hy($.from(u),o.schema);const{from:d}=l,f=d+u.length;Iu({editor:e,from:d,to:f,text:u,rules:n,plugin:r})}),s.selectionSet||s.docChanged?null:i}},props:{handleTextInput(s,i,o,a){return Iu({editor:e,from:i,to:o,text:a,rules:n,plugin:r})},handleDOMEvents:{compositionend:s=>(setTimeout(()=>{const{$cursor:i}=s.state.selection;i&&Iu({editor:e,from:i.pos,to:i.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(s,i){if(i.key!=="Enter")return!1;const{$cursor:o}=s.state.selection;return o?Iu({editor:e,from:o.pos,to:o.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function J$(t){return Object.prototype.toString.call(t).slice(8,-1)}function Du(t){return J$(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function dh(t,e){const n={...t};return Du(t)&&Du(e)&&Object.keys(e).forEach(r=>{Du(e[r])&&Du(t[r])?n[r]=dh(t[r],e[r]):n[r]=e[r]}),n}class Hr{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=me(Z(this,"addOptions",{name:this.name}))),this.storage=me(Z(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Hr(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>dh(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new Hr(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=me(Z(n,"addOptions",{name:n.name})),n.storage=me(Z(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,s=e.state.selection.$from;if(s.pos===s.end()){const o=s.marks();if(!!!o.find(c=>(c==null?void 0:c.type.name)===n.name))return!1;const l=o.find(c=>(c==null?void 0:c.type.name)===n.name);return l&&r.removeStoredMark(l),r.insertText(" ",s.pos),e.view.dispatch(r),!0}return!1}}function Q$(t){return typeof t=="number"}class Y${constructor(e){this.find=e.find,this.handler=e.handler}}const X$=(t,e,n)=>{if(Wy(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(s=>{const i=[s.text];return i.index=s.index,i.input=t,i.data=s.data,s.replaceWith&&(s.text.includes(s.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),i.push(s.replaceWith)),i}):[]};function Z$(t){const{editor:e,state:n,from:r,to:s,rule:i,pasteEvent:o,dropEvent:a}=t,{commands:l,chain:c,can:u}=new lh({editor:e,state:n}),d=[];return n.doc.nodesBetween(r,s,(h,p)=>{if(!h.isTextblock||h.type.spec.code)return;const g=Math.max(r,p),w=Math.min(s,p+h.content.size),v=h.textBetween(g-p,w-p,void 0,"￼");X$(v,i.find,o).forEach(b=>{if(b.index===void 0)return;const S=g+b.index+1,k=S+b[0].length,C={from:n.tr.mapping.map(S),to:n.tr.mapping.map(k)},_=i.handler({state:n,range:C,match:b,commands:l,chain:c,can:u,pasteEvent:o,dropEvent:a});d.push(_)})}),d.every(h=>h!==null)}const e7=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)===null||e===void 0||e.setData("text/html",t),n};function t7(t){const{editor:e,rules:n}=t;let r=null,s=!1,i=!1,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,a;try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}const l=({state:u,from:d,to:f,rule:h,pasteEvt:p})=>{const g=u.tr,w=ah({state:u,transaction:g});if(!(!Z$({editor:e,state:w,from:Math.max(d-1,0),to:f.b-1,rule:h,pasteEvent:p,dropEvent:a})||!g.steps.length)){try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}return o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,g}};return n.map(u=>new rn({view(d){const f=h=>{var p;r=!((p=d.dom.parentElement)===null||p===void 0)&&p.contains(h.target)?d.dom.parentElement:null};return window.addEventListener("dragstart",f),{destroy(){window.removeEventListener("dragstart",f)}}},props:{handleDOMEvents:{drop:(d,f)=>(i=r===d.dom.parentElement,a=f,!1),paste:(d,f)=>{var h;const p=(h=f.clipboardData)===null||h===void 0?void 0:h.getData("text/html");return o=f,s=!!(p!=null&&p.includes("data-pm-slice")),!1}}},appendTransaction:(d,f,h)=>{const p=d[0],g=p.getMeta("uiEvent")==="paste"&&!s,w=p.getMeta("uiEvent")==="drop"&&!i,v=p.getMeta("applyPasteRules"),x=!!v;if(!g&&!w&&!x)return;if(x){let{text:k}=v;typeof k=="string"?k=k:k=Hy($.from(k),h.schema);const{from:C}=v,_=C+k.length,M=e7(k);return l({rule:u,state:h,from:C,to:{b:_},pasteEvt:M})}const b=f.doc.content.findDiffStart(h.doc.content),S=f.doc.content.findDiffEnd(h.doc.content);if(!(!Q$(b)||!S||b===S.b))return l({rule:u,state:h,from:b,to:S,pasteEvt:o})}}))}function n7(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}class Ho{constructor(e,n){this.splittableMarks=[],this.editor=n,this.extensions=Ho.resolve(e),this.schema=W$(this.extensions,n),this.setupExtensions()}static resolve(e){const n=Ho.sort(Ho.flatten(e)),r=n7(n.map(s=>s.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(s=>`'${s}'`).join(", ")}]. This can lead to issues.`),n}static flatten(e){return e.map(n=>{const r={name:n.name,options:n.options,storage:n.storage},s=Z(n,"addExtensions",r);return s?[n,...this.flatten(s())]:n}).flat(10)}static sort(e){return e.sort((r,s)=>{const i=Z(r,"priority")||100,o=Z(s,"priority")||100;return i>o?-1:i<o?1:0})}get commands(){return this.extensions.reduce((e,n)=>{const r={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:Pp(n.name,this.schema)},s=Z(n,"addCommands",r);return s?{...e,...s()}:e},{})}get plugins(){const{editor:e}=this,n=Ho.sort([...this.extensions].reverse()),r=[],s=[],i=n.map(o=>{const a={name:o.name,options:o.options,storage:o.storage,editor:e,type:Pp(o.name,this.schema)},l=[],c=Z(o,"addKeyboardShortcuts",a);let u={};if(o.type==="mark"&&Z(o,"exitable",a)&&(u.ArrowRight=()=>Hr.handleExit({editor:e,mark:o})),c){const g=Object.fromEntries(Object.entries(c()).map(([w,v])=>[w,()=>v({editor:e})]));u={...u,...g}}const d=m$(u);l.push(d);const f=Z(o,"addInputRules",a);Hx(o,e.options.enableInputRules)&&f&&r.push(...f());const h=Z(o,"addPasteRules",a);Hx(o,e.options.enablePasteRules)&&h&&s.push(...h());const p=Z(o,"addProseMirrorPlugins",a);if(p){const g=p();l.push(...g)}return l}).flat();return[G$({editor:e,rules:r}),...t7({editor:e,rules:s}),...i]}get attributes(){return i3(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:n}=ch(this.extensions);return Object.fromEntries(n.filter(r=>!!Z(r,"addNodeView")).map(r=>{const s=this.attributes.filter(l=>l.type===r.name),i={name:r.name,options:r.options,storage:r.storage,editor:e,type:ft(r.name,this.schema)},o=Z(r,"addNodeView",i);if(!o)return[];const a=(l,c,u,d,f)=>{const h=Pg(l,s);return o()({node:l,view:c,getPos:u,decorations:d,innerDecorations:f,editor:e,extension:r,HTMLAttributes:h})};return[r.name,a]}))}setupExtensions(){this.extensions.forEach(e=>{var n;this.editor.extensionStorage[e.name]=e.storage;const r={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:Pp(e.name,this.schema)};e.type==="mark"&&(!((n=me(Z(e,"keepOnSplit",r)))!==null&&n!==void 0)||n)&&this.splittableMarks.push(e.name);const s=Z(e,"onBeforeCreate",r),i=Z(e,"onCreate",r),o=Z(e,"onUpdate",r),a=Z(e,"onSelectionUpdate",r),l=Z(e,"onTransaction",r),c=Z(e,"onFocus",r),u=Z(e,"onBlur",r),d=Z(e,"onDestroy",r);s&&this.editor.on("beforeCreate",s),i&&this.editor.on("create",i),o&&this.editor.on("update",o),a&&this.editor.on("selectionUpdate",a),l&&this.editor.on("transaction",l),c&&this.editor.on("focus",c),u&&this.editor.on("blur",u),d&&this.editor.on("destroy",d)})}}class Ot{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=me(Z(this,"addOptions",{name:this.name}))),this.storage=me(Z(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Ot(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>dh(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new Ot({...this.config,...e});return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=me(Z(n,"addOptions",{name:n.name})),n.storage=me(Z(n,"addStorage",{name:n.name,options:n.options})),n}}function a3(t,e,n){const{from:r,to:s}=e,{blockSeparator:i=`

`,textSerializers:o={}}=n||{};let a="";return t.nodesBetween(r,s,(l,c,u,d)=>{var f;l.isBlock&&c>r&&(a+=i);const h=o==null?void 0:o[l.type.name];if(h)return u&&(a+=h({node:l,pos:c,parent:u,index:d,range:e})),!1;l.isText&&(a+=(f=l==null?void 0:l.text)===null||f===void 0?void 0:f.slice(Math.max(r,c)-c,s-c))}),a}function l3(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}const r7=Ot.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new rn({key:new xr("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:s}=e,{ranges:i}=s,o=Math.min(...i.map(u=>u.$from.pos)),a=Math.max(...i.map(u=>u.$to.pos)),l=l3(n);return a3(r,{from:o,to:a},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),s7=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),i7=(t=!1)=>({commands:e})=>e.setContent("",t),o7=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:s}=r;return n&&s.forEach(({$from:i,$to:o})=>{t.doc.nodesBetween(i.pos,o.pos,(a,l)=>{if(a.type.isText)return;const{doc:c,mapping:u}=e,d=c.resolve(u.map(l)),f=c.resolve(u.map(l+a.nodeSize)),h=d.blockRange(f);if(!h)return;const p=Ja(h);if(a.type.isTextblock){const{defaultType:g}=d.parent.contentMatchAt(d.index());e.setNodeMarkup(h.start,g)}(p||p===0)&&e.lift(h,p)})}),!0},a7=t=>e=>t(e),l7=()=>({state:t,dispatch:e})=>N$(t,e),c7=(t,e)=>({editor:n,tr:r})=>{const{state:s}=n,i=s.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const o=r.mapping.map(e);return r.insert(o,i.content),r.setSelection(new le(r.doc.resolve(o-1))),!0},u7=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const s=t.selection.$anchor;for(let i=s.depth;i>0;i-=1)if(s.node(i).type===r.type){if(e){const a=s.before(i),l=s.after(i);t.delete(a,l).scrollIntoView()}return!0}return!1},d7=t=>({tr:e,state:n,dispatch:r})=>{const s=ft(t,n.schema),i=e.selection.$anchor;for(let o=i.depth;o>0;o-=1)if(i.node(o).type===s){if(r){const l=i.before(o),c=i.after(o);e.delete(l,c).scrollIntoView()}return!0}return!1},f7=t=>({tr:e,dispatch:n})=>{const{from:r,to:s}=t;return n&&e.delete(r,s),!0},h7=()=>({state:t,dispatch:e})=>g$(t,e),p7=()=>({commands:t})=>t.keyboardShortcut("Enter"),m7=()=>({state:t,dispatch:e})=>T$(t,e);function sf(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(s=>n.strict?e[s]===t[s]:Wy(e[s])?e[s].test(t[s]):e[s]===t[s]):!0}function c3(t,e,n={}){return t.find(r=>r.type===e&&sf(Object.fromEntries(Object.keys(n).map(s=>[s,r.attrs[s]])),n))}function Wx(t,e,n={}){return!!c3(t,e,n)}function Ky(t,e,n){var r;if(!t||!e)return;let s=t.parent.childAfter(t.parentOffset);if((!s.node||!s.node.marks.some(u=>u.type===e))&&(s=t.parent.childBefore(t.parentOffset)),!s.node||!s.node.marks.some(u=>u.type===e)||(n=n||((r=s.node.marks[0])===null||r===void 0?void 0:r.attrs),!c3([...s.node.marks],e,n)))return;let o=s.index,a=t.start()+s.offset,l=o+1,c=a+s.node.nodeSize;for(;o>0&&Wx([...t.parent.child(o-1).marks],e,n);)o-=1,a-=t.parent.child(o).nodeSize;for(;l<t.parent.childCount&&Wx([...t.parent.child(l).marks],e,n);)c+=t.parent.child(l).nodeSize,l+=1;return{from:a,to:c}}function ui(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}const g7=(t,e={})=>({tr:n,state:r,dispatch:s})=>{const i=ui(t,r.schema),{doc:o,selection:a}=n,{$from:l,from:c,to:u}=a;if(s){const d=Ky(l,i,e);if(d&&d.from<=c&&d.to>=u){const f=le.create(o,d.from,d.to);n.setSelection(f)}}return!0},y7=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function u3(t){return t instanceof le}function Ni(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function d3(t,e=null){if(!e)return null;const n=de.atStart(t),r=de.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const s=n.from,i=r.to;return e==="all"?le.create(t,Ni(0,s,i),Ni(t.content.size,s,i)):le.create(t,Ni(e,s,i),Ni(e,s,i))}function qy(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const v7=(t=null,e={})=>({editor:n,view:r,tr:s,dispatch:i})=>{e={scrollIntoView:!0,...e};const o=()=>{qy()&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(i&&t===null&&!u3(n.state.selection))return o(),!0;const a=d3(s.doc,t)||n.state.selection,l=n.state.selection.eq(a);return i&&(l||s.setSelection(a),l&&s.storedMarks&&s.setStoredMarks(s.storedMarks),o()),!0},w7=(t,e)=>n=>t.every((r,s)=>e(r,{...n,index:s})),x7=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),f3=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&f3(r)}return t};function ju(t){const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return f3(n)}function of(t,e,n){if(t instanceof Ws||t instanceof $)return t;n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,s=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return $.fromArray(t.map(a=>e.nodeFromJSON(a)));const o=e.nodeFromJSON(t);return n.errorOnInvalidContent&&o.check(),o}catch(i){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:i});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",i),of("",e,n)}if(s){if(n.errorOnInvalidContent){let o=!1,a="";const l=new eT({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(o=!0,a=typeof c=="string"?c:c.outerHTML,null)}]}})});if(n.slice?Ks.fromSchema(l).parseSlice(ju(t),n.parseOptions):Ks.fromSchema(l).parse(ju(t),n.parseOptions),n.errorOnInvalidContent&&o)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${a}`)})}const i=Ks.fromSchema(e);return n.slice?i.parseSlice(ju(t),n.parseOptions).content:i.parse(ju(t),n.parseOptions)}return of("",e,n)}function b7(t,e,n){const r=t.steps.length-1;if(r<e)return;const s=t.steps[r];if(!(s instanceof lt||s instanceof ut))return;const i=t.mapping.maps[r];let o=0;i.forEach((a,l,c,u)=>{o===0&&(o=u)}),t.setSelection(de.near(t.doc.resolve(o),n))}const S7=t=>!("type"in t),k7=(t,e,n)=>({tr:r,dispatch:s,editor:i})=>{var o;if(s){n={parseOptions:i.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let a;try{a=of(e,i.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions},errorOnInvalidContent:(o=n.errorOnInvalidContent)!==null&&o!==void 0?o:i.options.enableContentCheck})}catch(p){return i.emit("contentError",{editor:i,error:p,disableCollaboration:()=>{i.storage.collaboration&&(i.storage.collaboration.isDisabled=!0)}}),!1}let{from:l,to:c}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},u=!0,d=!0;if((S7(a)?a:[a]).forEach(p=>{p.check(),u=u?p.isText&&p.marks.length===0:!1,d=d?p.isBlock:!1}),l===c&&d){const{parent:p}=r.doc.resolve(l);p.isTextblock&&!p.type.spec.code&&!p.childCount&&(l-=1,c+=1)}let h;if(u){if(Array.isArray(e))h=e.map(p=>p.text||"").join("");else if(e instanceof $){let p="";e.forEach(g=>{g.text&&(p+=g.text)}),h=p}else typeof e=="object"&&e&&e.text?h=e.text:h=e;r.insertText(h,l,c)}else h=a,r.replaceWith(l,c,h);n.updateSelection&&b7(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:l,text:h}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:l,text:h})}return!0},C7=()=>({state:t,dispatch:e})=>k$(t,e),E7=()=>({state:t,dispatch:e})=>C$(t,e),_7=()=>({state:t,dispatch:e})=>y$(t,e),T7=()=>({state:t,dispatch:e})=>b$(t,e),N7=()=>({state:t,dispatch:e,tr:n})=>{try{const r=th(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},M7=()=>({state:t,dispatch:e,tr:n})=>{try{const r=th(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},O7=()=>({state:t,dispatch:e})=>v$(t,e),P7=()=>({state:t,dispatch:e})=>w$(t,e);function h3(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function A7(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,s,i,o;for(let a=0;a<e.length-1;a+=1){const l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))s=!0;else if(/^s(hift)?$/i.test(l))i=!0;else if(/^mod$/i.test(l))qy()||h3()?o=!0:s=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(n=`Alt-${n}`),s&&(n=`Ctrl-${n}`),o&&(n=`Meta-${n}`),i&&(n=`Shift-${n}`),n}const R7=t=>({editor:e,view:n,tr:r,dispatch:s})=>{const i=A7(t).split(/-(?!$)/),o=i.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),a=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:i.includes("Alt"),ctrlKey:i.includes("Ctrl"),metaKey:i.includes("Meta"),shiftKey:i.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{n.someProp("handleKeyDown",c=>c(n,a))});return l==null||l.steps.forEach(c=>{const u=c.map(r.mapping);u&&s&&r.maybeStep(u)}),!0};function _c(t,e,n={}){const{from:r,to:s,empty:i}=t.selection,o=e?ft(e,t.schema):null,a=[];t.doc.nodesBetween(r,s,(d,f)=>{if(d.isText)return;const h=Math.max(r,f),p=Math.min(s,f+d.nodeSize);a.push({node:d,from:h,to:p})});const l=s-r,c=a.filter(d=>o?o.name===d.node.type.name:!0).filter(d=>sf(d.node.attrs,n,{strict:!1}));return i?!!c.length:c.reduce((d,f)=>d+f.to-f.from,0)>=l}const I7=(t,e={})=>({state:n,dispatch:r})=>{const s=ft(t,n.schema);return _c(n,s,e)?E$(n,r):!1},D7=()=>({state:t,dispatch:e})=>M$(t,e),j7=t=>({state:e,dispatch:n})=>{const r=ft(t,e.schema);return $$(r)(e,n)},L7=()=>({state:t,dispatch:e})=>_$(t,e);function fh(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function Kx(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,s)=>(n.includes(s)||(r[s]=t[s]),r),{})}const $7=(t,e)=>({tr:n,state:r,dispatch:s})=>{let i=null,o=null;const a=fh(typeof t=="string"?t:t.name,r.schema);return a?(a==="node"&&(i=ft(t,r.schema)),a==="mark"&&(o=ui(t,r.schema)),s&&n.selection.ranges.forEach(l=>{r.doc.nodesBetween(l.$from.pos,l.$to.pos,(c,u)=>{i&&i===c.type&&n.setNodeMarkup(u,void 0,Kx(c.attrs,e)),o&&c.marks.length&&c.marks.forEach(d=>{o===d.type&&n.addMark(u,u+c.nodeSize,o.create(Kx(d.attrs,e)))})})}),!0):!1},F7=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),z7=()=>({tr:t,commands:e})=>e.setTextSelection({from:0,to:t.doc.content.size}),B7=()=>({state:t,dispatch:e})=>x$(t,e),V7=()=>({state:t,dispatch:e})=>S$(t,e),U7=()=>({state:t,dispatch:e})=>O$(t,e),H7=()=>({state:t,dispatch:e})=>R$(t,e),W7=()=>({state:t,dispatch:e})=>A$(t,e);function Ag(t,e,n={},r={}){return of(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}const K7=(t,e=!1,n={},r={})=>({editor:s,tr:i,dispatch:o,commands:a})=>{var l,c;const{doc:u}=i;if(n.preserveWhitespace!=="full"){const d=Ag(t,s.schema,n,{errorOnInvalidContent:(l=r.errorOnInvalidContent)!==null&&l!==void 0?l:s.options.enableContentCheck});return o&&i.replaceWith(0,u.content.size,d).setMeta("preventUpdate",!e),!0}return o&&i.setMeta("preventUpdate",!e),a.insertContentAt({from:0,to:u.content.size},t,{parseOptions:n,errorOnInvalidContent:(c=r.errorOnInvalidContent)!==null&&c!==void 0?c:s.options.enableContentCheck})};function p3(t,e){const n=ui(e,t.schema),{from:r,to:s,empty:i}=t.selection,o=[];i?(t.storedMarks&&o.push(...t.storedMarks),o.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,s,l=>{o.push(...l.marks)});const a=o.find(l=>l.type.name===n.name);return a?{...a.attrs}:{}}function q7(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function G7(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function Gy(t){return e=>G7(e.$from,t)}function J7(t,e){const n={from:0,to:t.content.size};return a3(t,n,e)}function Q7(t,e){const n=ft(e,t.schema),{from:r,to:s}=t.selection,i=[];t.doc.nodesBetween(r,s,a=>{i.push(a)});const o=i.reverse().find(a=>a.type.name===n.name);return o?{...o.attrs}:{}}function Y7(t,e){const n=fh(typeof e=="string"?e:e.name,t.schema);return n==="node"?Q7(t,e):n==="mark"?p3(t,e):{}}function m3(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(s=>{const i=n.resolve(t),o=Ky(i,s.type);o&&r.push({mark:s,...o})}):n.nodesBetween(t,e,(s,i)=>{!s||(s==null?void 0:s.nodeSize)===void 0||r.push(...s.marks.map(o=>({from:i,to:i+s.nodeSize,mark:o})))}),r}function ad(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const s=t.find(i=>i.type===e&&i.name===r);return s?s.attribute.keepOnSplit:!1}))}function Rg(t,e,n={}){const{empty:r,ranges:s}=t.selection,i=e?ui(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(d=>i?i.name===d.type.name:!0).find(d=>sf(d.attrs,n,{strict:!1}));let o=0;const a=[];if(s.forEach(({$from:d,$to:f})=>{const h=d.pos,p=f.pos;t.doc.nodesBetween(h,p,(g,w)=>{if(!g.isText&&!g.marks.length)return;const v=Math.max(h,w),x=Math.min(p,w+g.nodeSize),b=x-v;o+=b,a.push(...g.marks.map(S=>({mark:S,from:v,to:x})))})}),o===0)return!1;const l=a.filter(d=>i?i.name===d.mark.type.name:!0).filter(d=>sf(d.mark.attrs,n,{strict:!1})).reduce((d,f)=>d+f.to-f.from,0),c=a.filter(d=>i?d.mark.type!==i&&d.mark.type.excludes(i):!0).reduce((d,f)=>d+f.to-f.from,0);return(l>0?l+c:l)>=o}function X7(t,e,n={}){if(!e)return _c(t,null,n)||Rg(t,null,n);const r=fh(e,t.schema);return r==="node"?_c(t,e,n):r==="mark"?Rg(t,e,n):!1}function qx(t,e){const{nodeExtensions:n}=ch(e),r=n.find(o=>o.name===t);if(!r)return!1;const s={name:r.name,options:r.options,storage:r.storage},i=me(Z(r,"group",s));return typeof i!="string"?!1:i.split(" ").includes("list")}function Jy(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!==null&&r!==void 0?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let s=!0;return t.content.forEach(i=>{s!==!1&&(Jy(i,{ignoreWhitespace:n,checkChildren:e})||(s=!1))}),s}return!1}function Z7(t){return t instanceof re}function eF(t,e,n){var r;const{selection:s}=e;let i=null;if(u3(s)&&(i=s.$cursor),i){const a=(r=t.storedMarks)!==null&&r!==void 0?r:i.marks();return!!n.isInSet(a)||!a.some(l=>l.type.excludes(n))}const{ranges:o}=s;return o.some(({$from:a,$to:l})=>{let c=a.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(a.pos,l.pos,(u,d,f)=>{if(c)return!1;if(u.isInline){const h=!f||f.type.allowsMarkType(n),p=!!n.isInSet(u.marks)||!u.marks.some(g=>g.type.excludes(n));c=h&&p}return!c}),c})}const tF=(t,e={})=>({tr:n,state:r,dispatch:s})=>{const{selection:i}=n,{empty:o,ranges:a}=i,l=ui(t,r.schema);if(s)if(o){const c=p3(r,l);n.addStoredMark(l.create({...c,...e}))}else a.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;r.doc.nodesBetween(u,d,(f,h)=>{const p=Math.max(h,u),g=Math.min(h+f.nodeSize,d);f.marks.find(v=>v.type===l)?f.marks.forEach(v=>{l===v.type&&n.addMark(p,g,l.create({...v.attrs,...e}))}):n.addMark(p,g,l.create(e))})});return eF(r,n,l)},nF=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),rF=(t,e={})=>({state:n,dispatch:r,chain:s})=>{const i=ft(t,n.schema);let o;return n.selection.$anchor.sameParent(n.selection.$head)&&(o=n.selection.$anchor.parent.attrs),i.isTextblock?s().command(({commands:a})=>Bx(i,{...o,...e})(n)?!0:a.clearNodes()).command(({state:a})=>Bx(i,{...o,...e})(a,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},sF=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,s=Ni(t,0,r.content.size),i=re.create(r,s);e.setSelection(i)}return!0},iF=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:s,to:i}=typeof t=="number"?{from:t,to:t}:t,o=le.atStart(r).from,a=le.atEnd(r).to,l=Ni(s,o,a),c=Ni(i,o,a),u=le.create(r,l,c);e.setSelection(u)}return!0},oF=t=>({state:e,dispatch:n})=>{const r=ft(t,e.schema);return B$(r)(e,n)};function Gx(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(s=>e==null?void 0:e.includes(s.type.name));t.tr.ensureMarks(r)}}const aF=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:s})=>{const{selection:i,doc:o}=e,{$from:a,$to:l}=i,c=s.extensionManager.attributes,u=ad(c,a.node().type.name,a.node().attrs);if(i instanceof re&&i.node.isBlock)return!a.parentOffset||!ra(o,a.pos)?!1:(r&&(t&&Gx(n,s.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;const d=l.parentOffset===l.parent.content.size,f=a.depth===0?void 0:q7(a.node(-1).contentMatchAt(a.indexAfter(-1)));let h=d&&f?[{type:f,attrs:u}]:void 0,p=ra(e.doc,e.mapping.map(a.pos),1,h);if(!h&&!p&&ra(e.doc,e.mapping.map(a.pos),1,f?[{type:f}]:void 0)&&(p=!0,h=f?[{type:f,attrs:u}]:void 0),r){if(p&&(i instanceof le&&e.deleteSelection(),e.split(e.mapping.map(a.pos),1,h),f&&!d&&!a.parentOffset&&a.parent.type!==f)){const g=e.mapping.map(a.before()),w=e.doc.resolve(g);a.node(-1).canReplaceWith(w.index(),w.index()+1,f)&&e.setNodeMarkup(e.mapping.map(a.before()),f)}t&&Gx(n,s.extensionManager.splittableMarks),e.scrollIntoView()}return p},lF=(t,e={})=>({tr:n,state:r,dispatch:s,editor:i})=>{var o;const a=ft(t,r.schema),{$from:l,$to:c}=r.selection,u=r.selection.node;if(u&&u.isBlock||l.depth<2||!l.sameParent(c))return!1;const d=l.node(-1);if(d.type!==a)return!1;const f=i.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==a||l.index(-2)!==l.node(-2).childCount-1)return!1;if(s){let v=$.empty;const x=l.index(-1)?1:l.index(-2)?2:3;for(let M=l.depth-x;M>=l.depth-3;M-=1)v=$.from(l.node(M).copy(v));const b=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,S={...ad(f,l.node().type.name,l.node().attrs),...e},k=((o=a.contentMatch.defaultType)===null||o===void 0?void 0:o.createAndFill(S))||void 0;v=v.append($.from(a.createAndFill(null,k)||void 0));const C=l.before(l.depth-(x-1));n.replace(C,l.after(-b),new K(v,4-x,0));let _=-1;n.doc.nodesBetween(C,n.doc.content.size,(M,O)=>{if(_>-1)return!1;M.isTextblock&&M.content.size===0&&(_=O+1)}),_>-1&&n.setSelection(le.near(n.doc.resolve(_))),n.scrollIntoView()}return!0}const h=c.pos===l.end()?d.contentMatchAt(0).defaultType:null,p={...ad(f,d.type.name,d.attrs),...e},g={...ad(f,l.node().type.name,l.node().attrs),...e};n.delete(l.pos,c.pos);const w=h?[{type:a,attrs:p},{type:h,attrs:g}]:[{type:a,attrs:p}];if(!ra(n.doc,l.pos,2))return!1;if(s){const{selection:v,storedMarks:x}=r,{splittableMarks:b}=i.extensionManager,S=x||v.$to.parentOffset&&v.$from.marks();if(n.split(l.pos,2,w).scrollIntoView(),!S||!s)return!0;const k=S.filter(C=>b.includes(C.type.name));n.ensureMarks(k)}return!0},Ap=(t,e)=>{const n=Gy(o=>o.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const s=t.doc.nodeAt(r);return n.node.type===(s==null?void 0:s.type)&&li(t.doc,n.pos)&&t.join(n.pos),!0},Rp=(t,e)=>{const n=Gy(o=>o.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const s=t.doc.nodeAt(r);return n.node.type===(s==null?void 0:s.type)&&li(t.doc,r)&&t.join(r),!0},cF=(t,e,n,r={})=>({editor:s,tr:i,state:o,dispatch:a,chain:l,commands:c,can:u})=>{const{extensions:d,splittableMarks:f}=s.extensionManager,h=ft(t,o.schema),p=ft(e,o.schema),{selection:g,storedMarks:w}=o,{$from:v,$to:x}=g,b=v.blockRange(x),S=w||g.$to.parentOffset&&g.$from.marks();if(!b)return!1;const k=Gy(C=>qx(C.type.name,d))(g);if(b.depth>=1&&k&&b.depth-k.depth<=1){if(k.node.type===h)return c.liftListItem(p);if(qx(k.node.type.name,d)&&h.validContent(k.node.content)&&a)return l().command(()=>(i.setNodeMarkup(k.pos,h),!0)).command(()=>Ap(i,h)).command(()=>Rp(i,h)).run()}return!n||!S||!a?l().command(()=>u().wrapInList(h,r)?!0:c.clearNodes()).wrapInList(h,r).command(()=>Ap(i,h)).command(()=>Rp(i,h)).run():l().command(()=>{const C=u().wrapInList(h,r),_=S.filter(M=>f.includes(M.type.name));return i.ensureMarks(_),C?!0:c.clearNodes()}).wrapInList(h,r).command(()=>Ap(i,h)).command(()=>Rp(i,h)).run()},uF=(t,e={},n={})=>({state:r,commands:s})=>{const{extendEmptyMarkRange:i=!1}=n,o=ui(t,r.schema);return Rg(r,o,e)?s.unsetMark(o,{extendEmptyMarkRange:i}):s.setMark(o,e)},dF=(t,e,n={})=>({state:r,commands:s})=>{const i=ft(t,r.schema),o=ft(e,r.schema),a=_c(r,i,n);let l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),a?s.setNode(o,l):s.setNode(i,{...l,...n})},fF=(t,e={})=>({state:n,commands:r})=>{const s=ft(t,n.schema);return _c(n,s,e)?r.lift(s):r.wrapIn(s,e)},hF=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const s=n[r];let i;if(s.spec.isInputRules&&(i=s.getState(t))){if(e){const o=t.tr,a=i.transform;for(let l=a.steps.length-1;l>=0;l-=1)o.step(a.steps[l].invert(a.docs[l]));if(i.text){const l=o.doc.resolve(i.from).marks();o.replaceWith(i.from,i.to,t.schema.text(i.text,l))}else o.delete(i.from,i.to)}return!0}}return!1},pF=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:s}=n;return r||e&&s.forEach(i=>{t.removeMark(i.$from.pos,i.$to.pos)}),!0},mF=(t,e={})=>({tr:n,state:r,dispatch:s})=>{var i;const{extendEmptyMarkRange:o=!1}=e,{selection:a}=n,l=ui(t,r.schema),{$from:c,empty:u,ranges:d}=a;if(!s)return!0;if(u&&o){let{from:f,to:h}=a;const p=(i=c.marks().find(w=>w.type===l))===null||i===void 0?void 0:i.attrs,g=Ky(c,l,p);g&&(f=g.from,h=g.to),n.removeMark(f,h,l)}else d.forEach(f=>{n.removeMark(f.$from.pos,f.$to.pos,l)});return n.removeStoredMark(l),!0},gF=(t,e={})=>({tr:n,state:r,dispatch:s})=>{let i=null,o=null;const a=fh(typeof t=="string"?t:t.name,r.schema);return a?(a==="node"&&(i=ft(t,r.schema)),a==="mark"&&(o=ui(t,r.schema)),s&&n.selection.ranges.forEach(l=>{const c=l.$from.pos,u=l.$to.pos;let d,f,h,p;n.selection.empty?r.doc.nodesBetween(c,u,(g,w)=>{i&&i===g.type&&(h=Math.max(w,c),p=Math.min(w+g.nodeSize,u),d=w,f=g)}):r.doc.nodesBetween(c,u,(g,w)=>{w<c&&i&&i===g.type&&(h=Math.max(w,c),p=Math.min(w+g.nodeSize,u),d=w,f=g),w>=c&&w<=u&&(i&&i===g.type&&n.setNodeMarkup(w,void 0,{...g.attrs,...e}),o&&g.marks.length&&g.marks.forEach(v=>{if(o===v.type){const x=Math.max(w,c),b=Math.min(w+g.nodeSize,u);n.addMark(x,b,o.create({...v.attrs,...e}))}}))}),f&&(d!==void 0&&n.setNodeMarkup(d,void 0,{...f.attrs,...e}),o&&f.marks.length&&f.marks.forEach(g=>{o===g.type&&n.addMark(h,p,o.create({...g.attrs,...e}))}))}),!0):!1},yF=(t,e={})=>({state:n,dispatch:r})=>{const s=ft(t,n.schema);return I$(s,e)(n,r)},vF=(t,e={})=>({state:n,dispatch:r})=>{const s=ft(t,n.schema);return D$(s,e)(n,r)};var wF=Object.freeze({__proto__:null,blur:s7,clearContent:i7,clearNodes:o7,command:a7,createParagraphNear:l7,cut:c7,deleteCurrentNode:u7,deleteNode:d7,deleteRange:f7,deleteSelection:h7,enter:p7,exitCode:m7,extendMarkRange:g7,first:y7,focus:v7,forEach:w7,insertContent:x7,insertContentAt:k7,joinBackward:_7,joinDown:E7,joinForward:T7,joinItemBackward:N7,joinItemForward:M7,joinTextblockBackward:O7,joinTextblockForward:P7,joinUp:C7,keyboardShortcut:R7,lift:I7,liftEmptyBlock:D7,liftListItem:j7,newlineInCode:L7,resetAttributes:$7,scrollIntoView:F7,selectAll:z7,selectNodeBackward:B7,selectNodeForward:V7,selectParentNode:U7,selectTextblockEnd:H7,selectTextblockStart:W7,setContent:K7,setMark:tF,setMeta:nF,setNode:rF,setNodeSelection:sF,setTextSelection:iF,sinkListItem:oF,splitBlock:aF,splitListItem:lF,toggleList:cF,toggleMark:uF,toggleNode:dF,toggleWrap:fF,undoInputRule:hF,unsetAllMarks:pF,unsetMark:mF,updateAttributes:gF,wrapIn:yF,wrapInList:vF});const xF=Ot.create({name:"commands",addCommands(){return{...wF}}}),bF=Ot.create({name:"drop",addProseMirrorPlugins(){return[new rn({key:new xr("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),SF=Ot.create({name:"editable",addProseMirrorPlugins(){return[new rn({key:new xr("editable"),props:{editable:()=>this.editor.options.editable}})]}}),kF=Ot.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new rn({key:new xr("focusEvents"),props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),CF=Ot.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:a})=>{const{selection:l,doc:c}=a,{empty:u,$anchor:d}=l,{pos:f,parent:h}=d,p=d.parent.isTextblock&&f>0?a.doc.resolve(f-1):d,g=p.parent.type.spec.isolating,w=d.pos-d.parentOffset,v=g&&p.parent.childCount===1?w===d.pos:de.atStart(c).from===f;return!u||!h.type.isTextblock||h.textContent.length||!v||v&&d.parent.type.name==="paragraph"?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},s={...r},i={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return qy()||h3()?i:s},addProseMirrorPlugins(){return[new rn({key:new xr("clearDocument"),appendTransaction:(t,e,n)=>{const r=t.some(g=>g.docChanged)&&!e.doc.eq(n.doc),s=t.some(g=>g.getMeta("preventClearDocument"));if(!r||s)return;const{empty:i,from:o,to:a}=e.selection,l=de.atStart(e.doc).from,c=de.atEnd(e.doc).to;if(i||!(o===l&&a===c)||!Jy(n.doc))return;const f=n.tr,h=ah({state:n,transaction:f}),{commands:p}=new lh({editor:this.editor,state:h});if(p.clearNodes(),!!f.steps.length)return f}})]}}),EF=Ot.create({name:"paste",addProseMirrorPlugins(){return[new rn({key:new xr("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),_F=Ot.create({name:"tabindex",addProseMirrorPlugins(){return[new rn({key:new xr("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class wi{get name(){return this.node.type.name}constructor(e,n,r=!1,s=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=s}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You can’t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new wi(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new wi(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new wi(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const s=n.isBlock&&!n.isTextblock,i=n.isAtom&&!n.isText,o=this.pos+r+(i?0:1),a=this.resolvedPos.doc.resolve(o);if(!s&&a.depth<=this.depth)return;const l=new wi(a,this.editor,s,s?n:null);s&&(l.actualDepth=this.depth+1),e.push(new wi(a,this.editor,s,s?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,s=this.parent;for(;s&&!r;){if(s.node.type.name===e)if(Object.keys(n).length>0){const i=s.node.attrs,o=Object.keys(n);for(let a=0;a<o.length;a+=1){const l=o[a];if(i[l]!==n[l])break}}else r=s;s=s.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let s=[];if(!this.children||this.children.length===0)return s;const i=Object.keys(n);return this.children.forEach(o=>{r&&s.length>0||(o.node.type.name===e&&i.every(l=>n[l]===o.node.attrs[l])&&s.push(o),!(r&&s.length>0)&&(s=s.concat(o.querySelectorAll(e,n,r))))}),s}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}}const TF=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function NF(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const s=document.createElement("style");return e&&s.setAttribute("nonce",e),s.setAttribute("data-tiptap-style",""),s.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(s),s}let MF=class extends V${constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:n})=>{throw n},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:n,slice:r,moved:s})=>this.options.onDrop(n,r,s)),this.on("paste",({event:n,slice:r})=>this.options.onPaste(n,r)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=NF(TF,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,n=!0){this.setOptions({editable:e}),n&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,n){const r=o3(n)?n(e,[...this.state.plugins]):[...this.state.plugins,e],s=this.state.reconfigure({plugins:r});return this.view.updateState(s),s}unregisterPlugin(e){if(this.isDestroyed)return;const n=this.state.plugins;let r=n;if([].concat(e).forEach(i=>{const o=typeof i=="string"?`${i}$`:i.key;r=n.filter(a=>!a.key.startsWith(o))}),n.length===r.length)return;const s=this.state.reconfigure({plugins:r});return this.view.updateState(s),s}createExtensionManager(){var e,n;const s=[...this.options.enableCoreExtensions?[SF,r7.configure({blockSeparator:(n=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||n===void 0?void 0:n.blockSeparator}),xF,kF,CF,_F,bF,EF].filter(i=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[i.name]!==!1:!0):[],...this.options.extensions].filter(i=>["extension","node","mark"].includes(i==null?void 0:i.type));this.extensionManager=new Ho(s,this)}createCommandManager(){this.commandManager=new lh({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let n;try{n=Ag(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(o){if(!(o instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(o.message))throw o;this.emit("contentError",{editor:this,error:o,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(a=>a.name!=="collaboration"),this.createExtensionManager()}}),n=Ag(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const r=d3(n,this.options.autofocus);this.view=new o$(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:Uo.create({doc:n,selection:r||void 0})});const s=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(s),this.createNodeViews(),this.prependClass();const i=this.view.dom;i.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(o=>{var a;return(a=this.capturedTransaction)===null||a===void 0?void 0:a.step(o)});return}const n=this.state.apply(e),r=!this.state.selection.eq(n.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:n}),this.view.updateState(n),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const s=e.getMeta("focus"),i=e.getMeta("blur");s&&this.emit("focus",{editor:this,event:s.event,transaction:e}),i&&this.emit("blur",{editor:this,event:i.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return Y7(this.state,e)}isActive(e,n){const r=typeof e=="string"?e:null,s=typeof e=="string"?n:e;return X7(this.state,r,s)}getJSON(){return this.state.doc.toJSON()}getHTML(){return Hy(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:n=`

`,textSerializers:r={}}=e||{};return J7(this.state.doc,{blockSeparator:n,textSerializers:{...l3(this.schema),...r}})}get isEmpty(){return Jy(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,n){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelector(e,n))||null}$nodes(e,n){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelectorAll(e,n))||null}$pos(e){const n=this.state.doc.resolve(e);return new wi(n,this)}get $doc(){return this.$pos(0)}};function La(t){return new uh({find:t.find,handler:({state:e,range:n,match:r})=>{const s=me(t.getAttributes,void 0,r);if(s===!1||s===null)return null;const{tr:i}=e,o=r[r.length-1],a=r[0];if(o){const l=a.search(/\S/),c=n.from+a.indexOf(o),u=c+o.length;if(m3(n.from,n.to,e.doc).filter(h=>h.mark.type.excluded.find(g=>g===t.type&&g!==h.mark.type)).filter(h=>h.to>c).length)return null;u<n.to&&i.delete(u,n.to),c>n.from&&i.delete(n.from+l,c);const f=n.from+l+o.length;i.addMark(n.from+l,f,t.type.create(s||{})),i.removeStoredMark(t.type)}}})}function g3(t){return new uh({find:t.find,handler:({state:e,range:n,match:r})=>{const s=me(t.getAttributes,void 0,r)||{},{tr:i}=e,o=n.from;let a=n.to;const l=t.type.create(s);if(r[1]){const c=r[0].lastIndexOf(r[1]);let u=o+c;u>a?u=a:a=u+r[1].length;const d=r[0][r[0].length-1];i.insertText(d,o+r[0].length-1),i.replaceWith(u,a,l)}else if(r[0]){const c=t.type.isInline?o:o-1;i.insert(c,t.type.create(s)).delete(i.mapping.map(o),i.mapping.map(a))}i.scrollIntoView()}})}function Ig(t){return new uh({find:t.find,handler:({state:e,range:n,match:r})=>{const s=e.doc.resolve(n.from),i=me(t.getAttributes,void 0,r)||{};if(!s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,i)}})}function Tc(t){return new uh({find:t.find,handler:({state:e,range:n,match:r,chain:s})=>{const i=me(t.getAttributes,void 0,r)||{},o=e.tr.delete(n.from,n.to),l=o.doc.resolve(n.from).blockRange(),c=l&&Ay(l,t.type,i);if(!c)return null;if(o.wrap(l,c),t.keepMarks&&t.editor){const{selection:d,storedMarks:f}=e,{splittableMarks:h}=t.editor.extensionManager,p=f||d.$to.parentOffset&&d.$from.marks();if(p){const g=p.filter(w=>h.includes(w.type.name));o.ensureMarks(g)}}if(t.keepAttributes){const d=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";s().updateAttributes(d,i).run()}const u=o.doc.resolve(n.from-1).nodeBefore;u&&u.type===t.type&&li(o.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,u))&&o.join(n.from-1)}})}let An=class Dg{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=me(Z(this,"addOptions",{name:this.name}))),this.storage=me(Z(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Dg(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>dh(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new Dg(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=me(Z(n,"addOptions",{name:n.name})),n.storage=me(Z(n,"addStorage",{name:n.name,options:n.options})),n}};function $a(t){return new Y$({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:s})=>{const i=me(t.getAttributes,void 0,r,s);if(i===!1||i===null)return null;const{tr:o}=e,a=r[r.length-1],l=r[0];let c=n.to;if(a){const u=l.search(/\S/),d=n.from+l.indexOf(a),f=d+a.length;if(m3(n.from,n.to,e.doc).filter(p=>p.mark.type.excluded.find(w=>w===t.type&&w!==p.mark.type)).filter(p=>p.to>d).length)return null;f<n.to&&o.delete(f,n.to),d>n.from&&o.delete(n.from+u,d),c=n.from+u+a.length,o.addMark(n.from+u,c,t.type.create(i||{})),o.removeStoredMark(t.type)}}})}function OF(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var y3={exports:{}},Ip={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jx;function PF(){if(Jx)return Ip;Jx=1;var t=E;function e(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,s=t.useEffect,i=t.useLayoutEffect,o=t.useDebugValue;function a(d,f){var h=f(),p=r({inst:{value:h,getSnapshot:f}}),g=p[0].inst,w=p[1];return i(function(){g.value=h,g.getSnapshot=f,l(g)&&w({inst:g})},[d,h,f]),s(function(){return l(g)&&w({inst:g}),d(function(){l(g)&&w({inst:g})})},[d]),o(h),h}function l(d){var f=d.getSnapshot;d=d.value;try{var h=f();return!n(d,h)}catch{return!0}}function c(d,f){return f()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:a;return Ip.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:u,Ip}y3.exports=PF();var Qy=y3.exports;const AF=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},RF=({contentComponent:t})=>{const e=Qy.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return E.createElement(E.Fragment,null,Object.values(e))};function IF(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,r){e={...e,[n]:qk.createPortal(r.reactElement,r.element,n)},t.forEach(s=>s())},removeRenderer(n){const r={...e};delete r[n],e=r,t.forEach(s=>s())}}}class DF extends E.Component{constructor(e){var n;super(e),this.editorContentRef=E.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((n=e.editor)===null||n===void 0)&&n.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.options.element.childNodes),e.setOptions({element:n}),e.contentComponent=IF(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;const n=document.createElement("div");n.append(...e.options.element.childNodes),e.setOptions({element:n})}render(){const{editor:e,innerRef:n,...r}=this.props;return E.createElement(E.Fragment,null,E.createElement("div",{ref:AF(n,this.editorContentRef),...r}),(e==null?void 0:e.contentComponent)&&E.createElement(RF,{contentComponent:e.contentComponent}))}}const jF=y.forwardRef((t,e)=>{const n=E.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return E.createElement(DF,{key:n,innerRef:e,...t})}),LF=E.memo(jF);var $F=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,s,i;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(s=r;s--!==0;)if(!t(e[s],n[s]))return!1;return!0}if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(s of e.entries())if(!n.has(s[0]))return!1;for(s of e.entries())if(!t(s[1],n.get(s[0])))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(s of e.entries())if(!n.has(s[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n)){if(r=e.length,r!=n.length)return!1;for(s=r;s--!==0;)if(e[s]!==n[s])return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(i=Object.keys(e),r=i.length,r!==Object.keys(n).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[s]))return!1;for(s=r;s--!==0;){var o=i[s];if(!(o==="_owner"&&e.$$typeof)&&!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n},FF=OF($F),v3={exports:{}},Dp={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qx;function zF(){if(Qx)return Dp;Qx=1;var t=E,e=Qy;function n(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var r=typeof Object.is=="function"?Object.is:n,s=e.useSyncExternalStore,i=t.useRef,o=t.useEffect,a=t.useMemo,l=t.useDebugValue;return Dp.useSyncExternalStoreWithSelector=function(c,u,d,f,h){var p=i(null);if(p.current===null){var g={hasValue:!1,value:null};p.current=g}else g=p.current;p=a(function(){function v(C){if(!x){if(x=!0,b=C,C=f(C),h!==void 0&&g.hasValue){var _=g.value;if(h(_,C))return S=_}return S=C}if(_=S,r(b,C))return _;var M=f(C);return h!==void 0&&h(_,M)?_:(b=C,S=M)}var x=!1,b,S,k=d===void 0?null:d;return[function(){return v(u())},k===null?void 0:function(){return v(k())}]},[u,d,f,h]);var w=s(c,p[0],p[1]);return o(function(){g.hasValue=!0,g.value=w},[w]),l(w),w},Dp}v3.exports=zF();var BF=v3.exports;const VF=typeof window<"u"?y.useLayoutEffect:y.useEffect;class UF{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const n=()=>{this.transactionNumber+=1,this.subscribers.forEach(s=>s())},r=this.editor;return r.on("transaction",n),()=>{r.off("transaction",n)}}}}function HF(t){var e;const[n]=y.useState(()=>new UF(t.editor)),r=BF.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!==null&&e!==void 0?e:FF);return VF(()=>n.watch(t.editor),[t.editor,n]),y.useDebugValue(r),r}const WF=!1,jg=typeof window>"u",KF=jg||!!(typeof window<"u"&&window.next);class qF{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){if(this.options.current.immediatelyRender===void 0)return jg||KF?null:this.createEditor();if(this.options.current.immediatelyRender&&jg&&WF)throw new Error("Tiptap Error: SSR has been detected, and `immediatelyRender` has been set to `true` this is an unsupported configuration that may result in errors, explicitly set `immediatelyRender` to `false` to avoid hydration mismatches.");return this.options.current.immediatelyRender?this.createEditor():null}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var s,i;return(i=(s=this.options.current).onBeforeCreate)===null||i===void 0?void 0:i.call(s,...r)},onBlur:(...r)=>{var s,i;return(i=(s=this.options.current).onBlur)===null||i===void 0?void 0:i.call(s,...r)},onCreate:(...r)=>{var s,i;return(i=(s=this.options.current).onCreate)===null||i===void 0?void 0:i.call(s,...r)},onDestroy:(...r)=>{var s,i;return(i=(s=this.options.current).onDestroy)===null||i===void 0?void 0:i.call(s,...r)},onFocus:(...r)=>{var s,i;return(i=(s=this.options.current).onFocus)===null||i===void 0?void 0:i.call(s,...r)},onSelectionUpdate:(...r)=>{var s,i;return(i=(s=this.options.current).onSelectionUpdate)===null||i===void 0?void 0:i.call(s,...r)},onTransaction:(...r)=>{var s,i;return(i=(s=this.options.current).onTransaction)===null||i===void 0?void 0:i.call(s,...r)},onUpdate:(...r)=>{var s,i;return(i=(s=this.options.current).onUpdate)===null||i===void 0?void 0:i.call(s,...r)},onContentError:(...r)=>{var s,i;return(i=(s=this.options.current).onContentError)===null||i===void 0?void 0:i.call(s,...r)},onDrop:(...r)=>{var s,i;return(i=(s=this.options.current).onDrop)===null||i===void 0?void 0:i.call(s,...r)},onPaste:(...r)=>{var s,i;return(i=(s=this.options.current).onPaste)===null||i===void 0?void 0:i.call(s,...r)}};return new MF(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,s)=>r===e[s]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}}function GF(t={},e=[]){const n=y.useRef(t);n.current=t;const[r]=y.useState(()=>new qF(n)),s=Qy.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return y.useDebugValue(s),y.useEffect(r.onRender(e)),HF({editor:s,selector:({transactionNumber:i})=>t.shouldRerenderOnTransaction===!1?null:t.immediatelyRender&&i===0?0:i+1}),s}const JF=y.createContext({editor:null});JF.Consumer;const QF=y.createContext({onDragStart:void 0}),YF=()=>y.useContext(QF);E.forwardRef((t,e)=>{const{onDragStart:n}=YF(),r=t.as||"div";return E.createElement(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});const XF=/^\s*>\s$/,ZF=An.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return["blockquote",bt(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Tc({find:XF,type:this.type})]}}),ez=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,tz=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,nz=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,rz=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,sz=Hr.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",bt(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[La({find:ez,type:this.type}),La({find:nz,type:this.type})]},addPasteRules(){return[$a({find:tz,type:this.type}),$a({find:rz,type:this.type})]}}),iz="listItem",Yx="textStyle",Xx=/^\s*([-+*])\s$/,oz=An.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",bt(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(iz,this.editor.getAttributes(Yx)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=Tc({find:Xx,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Tc({find:Xx,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(Yx),editor:this.editor})),[t]}}),az=new RegExp("(?<!`)`([^`]+)`(?!`)"),lz=new RegExp("(?<!`)`([^`]+)`(?!`)","g"),cz=Hr.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",bt(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[La({find:az,type:this.type})]},addPasteRules(){return[$a({find:lz,type:this.type})]}}),uz=/^```([a-z]+)?[\s\n]$/,dz=/^~~~([a-z]+)?[\s\n]$/,fz=An.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options,i=[...((e=t.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(o=>o.startsWith(n)).map(o=>o.replace(n,""))[0];return i||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",bt(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:s}=n;if(!s||r.parent.type!==this.type)return!1;const i=r.parentOffset===r.parent.nodeSize-2,o=r.parent.textContent.endsWith(`

`);return!i||!o?!1:t.chain().command(({tr:a})=>(a.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:s,empty:i}=n;if(!i||s.parent.type!==this.type||!(s.parentOffset===s.parent.nodeSize-2))return!1;const a=s.after();return a===void 0?!1:r.nodeAt(a)?t.commands.command(({tr:c})=>(c.setSelection(de.near(r.resolve(a))),!0)):t.commands.exitCode()}}},addInputRules(){return[Ig({find:uz,type:this.type,getAttributes:t=>({language:t[1]})}),Ig({find:dz,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new rn({key:new xr("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),s=r?JSON.parse(r):void 0,i=s==null?void 0:s.mode;if(!n||!i)return!1;const{tr:o,schema:a}=t.state,l=a.text(n.replace(/\r\n?/g,`
`));return o.replaceSelectionWith(this.type.create({language:i},l)),o.selection.$from.parent.type!==this.type&&o.setSelection(le.near(o.doc.resolve(Math.max(0,o.selection.from-2)))),o.setMeta("paste",!0),t.dispatch(o),!0}}})]}}),hz=An.create({name:"doc",topNode:!0,content:"block+"});function pz(t={}){return new rn({view(e){return new mz(e,t)}})}class mz{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(s=>{let i=o=>{this[s](o)};return e.dom.addEventListener(s,i),{name:s,handler:i}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r;if(n){let a=e.nodeBefore,l=e.nodeAfter;if(a||l){let c=this.editorView.nodeDOM(this.cursorPos-(a?a.nodeSize:0));if(c){let u=c.getBoundingClientRect(),d=a?u.bottom:u.top;a&&l&&(d=(d+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),r={left:u.left,right:u.right,top:d-this.width/2,bottom:d+this.width/2}}}}if(!r){let a=this.editorView.coordsAtPos(this.cursorPos);r={left:a.left-this.width/2,right:a.left+this.width/2,top:a.top,bottom:a.bottom}}let s=this.editorView.dom.offsetParent;this.element||(this.element=s.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let i,o;if(!s||s==document.body&&getComputedStyle(s).position=="static")i=-pageXOffset,o=-pageYOffset;else{let a=s.getBoundingClientRect();i=a.left-s.scrollLeft,o=a.top-s.scrollTop}this.element.style.left=r.left-i+"px",this.element.style.top=r.top-o+"px",this.element.style.width=r.right-r.left+"px",this.element.style.height=r.bottom-r.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),s=r&&r.type.spec.disableDropCursor,i=typeof s=="function"?s(this.editorView,n,e):s;if(n&&!i){let o=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=dT(this.editorView.state.doc,o,this.editorView.dragging.slice);a!=null&&(o=a)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const gz=Ot.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[pz(this.options)]}});class ze extends de{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return ze.valid(r)?new ze(r):de.near(r)}content(){return K.empty}eq(e){return e instanceof ze&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new ze(e.resolve(n.pos))}getBookmark(){return new Yy(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!yz(e)||!vz(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let s=n.contentMatchAt(e.index()).defaultType;return s&&s.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&ze.valid(e))return e;let s=e.pos,i=null;for(let o=e.depth;;o--){let a=e.node(o);if(n>0?e.indexAfter(o)<a.childCount:e.index(o)>0){i=a.child(n>0?e.indexAfter(o):e.index(o)-1);break}else if(o==0)return null;s+=n;let l=e.doc.resolve(s);if(ze.valid(l))return l}for(;;){let o=n>0?i.firstChild:i.lastChild;if(!o){if(i.isAtom&&!i.isText&&!re.isSelectable(i)){e=e.doc.resolve(s+i.nodeSize*n),r=!1;continue e}break}i=o,s+=n;let a=e.doc.resolve(s);if(ze.valid(a))return a}return null}}}ze.prototype.visible=!1;ze.findFrom=ze.findGapCursorFrom;de.jsonID("gapcursor",ze);class Yy{constructor(e){this.pos=e}map(e){return new Yy(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return ze.valid(n)?new ze(n):de.near(n)}}function yz(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(n-1);;s=s.lastChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function vz(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(n);;s=s.firstChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function wz(){return new rn({props:{decorations:kz,createSelectionBetween(t,e,n){return e.pos==n.pos&&ze.valid(n)?new ze(n):null},handleClick:bz,handleKeyDown:xz,handleDOMEvents:{beforeinput:Sz}}})}const xz=XT({ArrowLeft:Lu("horiz",-1),ArrowRight:Lu("horiz",1),ArrowUp:Lu("vert",-1),ArrowDown:Lu("vert",1)});function Lu(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,s,i){let o=r.selection,a=e>0?o.$to:o.$from,l=o.empty;if(o instanceof le){if(!i.endOfTextblock(n)||a.depth==0)return!1;l=!1,a=r.doc.resolve(e>0?a.after():a.before())}let c=ze.findGapCursorFrom(a,e,l);return c?(s&&s(r.tr.setSelection(new ze(c))),!0):!1}}function bz(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!ze.valid(r))return!1;let s=t.posAtCoords({left:n.clientX,top:n.clientY});return s&&s.inside>-1&&re.isSelectable(t.state.doc.nodeAt(s.inside))?!1:(t.dispatch(t.state.tr.setSelection(new ze(r))),!0)}function Sz(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof ze))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let s=$.empty;for(let o=r.length-1;o>=0;o--)s=$.from(r[o].createAndFill(null,s));let i=t.state.tr.replace(n.pos,n.pos,new K(s,0,0));return i.setSelection(le.near(i.doc.resolve(n.pos+1))),t.dispatch(i),!1}function kz(t){if(!(t.selection instanceof ze))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",tt.create(t.doc,[Cn.widget(t.selection.head,e,{key:"gapcursor"})])}const Cz=Ot.create({name:"gapCursor",addProseMirrorPlugins(){return[wz()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=me(Z(t,"allowGapCursor",n)))!==null&&e!==void 0?e:null}}}),Ez=An.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",bt(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:s,storedMarks:i}=n;if(s.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:a}=r.extensionManager,l=i||s.$to.parentOffset&&s.$from.marks();return e().insertContent({type:this.name}).command(({tr:c,dispatch:u})=>{if(u&&l&&o){const d=l.filter(f=>a.includes(f.type.name));c.ensureMarks(d)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),_z=An.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,bt(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>Ig({find:new RegExp(`^(#{1,${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}});var af=200,dt=function(){};dt.prototype.append=function(e){return e.length?(e=dt.from(e),!this.length&&e||e.length<af&&this.leafAppend(e)||this.length<af&&e.leafPrepend(this)||this.appendInner(e)):this};dt.prototype.prepend=function(e){return e.length?dt.from(e).append(this):this};dt.prototype.appendInner=function(e){return new Tz(this,e)};dt.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?dt.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};dt.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};dt.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};dt.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var s=[];return this.forEach(function(i,o){return s.push(e(i,o))},n,r),s};dt.from=function(e){return e instanceof dt?e:e&&e.length?new w3(e):dt.empty};var w3=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(s,i){return s==0&&i==this.length?this:new e(this.values.slice(s,i))},e.prototype.getInner=function(s){return this.values[s]},e.prototype.forEachInner=function(s,i,o,a){for(var l=i;l<o;l++)if(s(this.values[l],a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(s,i,o,a){for(var l=i-1;l>=o;l--)if(s(this.values[l],a+l)===!1)return!1},e.prototype.leafAppend=function(s){if(this.length+s.length<=af)return new e(this.values.concat(s.flatten()))},e.prototype.leafPrepend=function(s){if(this.length+s.length<=af)return new e(s.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(dt);dt.empty=new w3([]);var Tz=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,s,i,o){var a=this.left.length;if(s<a&&this.left.forEachInner(r,s,Math.min(i,a),o)===!1||i>a&&this.right.forEachInner(r,Math.max(s-a,0),Math.min(this.length,i)-a,o+a)===!1)return!1},e.prototype.forEachInvertedInner=function(r,s,i,o){var a=this.left.length;if(s>a&&this.right.forEachInvertedInner(r,s-a,Math.max(i,a)-a,o+a)===!1||i<a&&this.left.forEachInvertedInner(r,Math.min(s,a),i,o)===!1)return!1},e.prototype.sliceInner=function(r,s){if(r==0&&s==this.length)return this;var i=this.left.length;return s<=i?this.left.slice(r,s):r>=i?this.right.slice(r-i,s-i):this.left.slice(r,i).append(this.right.slice(0,s-i))},e.prototype.leafAppend=function(r){var s=this.right.leafAppend(r);if(s)return new e(this.left,s)},e.prototype.leafPrepend=function(r){var s=this.left.leafPrepend(r);if(s)return new e(s,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(dt);const Nz=500;class Un{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let s,i;n&&(s=this.remapping(r,this.items.length),i=s.maps.length);let o=e.tr,a,l,c=[],u=[];return this.items.forEach((d,f)=>{if(!d.step){s||(s=this.remapping(r,f+1),i=s.maps.length),i--,u.push(d);return}if(s){u.push(new tr(d.map));let h=d.step.map(s.slice(i)),p;h&&o.maybeStep(h).doc&&(p=o.mapping.maps[o.mapping.maps.length-1],c.push(new tr(p,void 0,void 0,c.length+u.length))),i--,p&&s.appendMap(p,i)}else o.maybeStep(d.step);if(d.selection)return a=s?d.selection.map(s.slice(i)):d.selection,l=new Un(this.items.slice(0,r).append(u.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:o,selection:a}}addTransform(e,n,r,s){let i=[],o=this.eventCount,a=this.items,l=!s&&a.length?a.get(a.length-1):null;for(let u=0;u<e.steps.length;u++){let d=e.steps[u].invert(e.docs[u]),f=new tr(e.mapping.maps[u],d,n),h;(h=l&&l.merge(f))&&(f=h,u?i.pop():a=a.slice(0,a.length-1)),i.push(f),n&&(o++,n=void 0),s||(l=f)}let c=o-r.depth;return c>Oz&&(a=Mz(a,c),o-=c),new Un(a.append(i),o)}remapping(e,n){let r=new na;return this.items.forEach((s,i)=>{let o=s.mirrorOffset!=null&&i-s.mirrorOffset>=e?r.maps.length-s.mirrorOffset:void 0;r.appendMap(s.map,o)},e,n),r}addMaps(e){return this.eventCount==0?this:new Un(this.items.append(e.map(n=>new tr(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],s=Math.max(0,this.items.length-n),i=e.mapping,o=e.steps.length,a=this.eventCount;this.items.forEach(f=>{f.selection&&a--},s);let l=n;this.items.forEach(f=>{let h=i.getMirror(--l);if(h==null)return;o=Math.min(o,h);let p=i.maps[h];if(f.step){let g=e.steps[h].invert(e.docs[h]),w=f.selection&&f.selection.map(i.slice(l+1,h));w&&a++,r.push(new tr(p,g,w))}else r.push(new tr(p))},s);let c=[];for(let f=n;f<o;f++)c.push(new tr(i.maps[f]));let u=this.items.slice(0,s).append(c).append(r),d=new Un(u,a);return d.emptyItemCount()>Nz&&(d=d.compress(this.items.length-r.length)),d}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,s=[],i=0;return this.items.forEach((o,a)=>{if(a>=e)s.push(o),o.selection&&i++;else if(o.step){let l=o.step.map(n.slice(r)),c=l&&l.getMap();if(r--,c&&n.appendMap(c,r),l){let u=o.selection&&o.selection.map(n.slice(r));u&&i++;let d=new tr(c.invert(),l,u),f,h=s.length-1;(f=s.length&&s[h].merge(d))?s[h]=f:s.push(d)}}else o.map&&r--},this.items.length,0),new Un(dt.from(s.reverse()),i)}}Un.empty=new Un(dt.empty,0);function Mz(t,e){let n;return t.forEach((r,s)=>{if(r.selection&&e--==0)return n=s,!1}),t.slice(n)}class tr{constructor(e,n,r,s){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=s}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new tr(n.getMap().invert(),n,this.selection)}}}class hs{constructor(e,n,r,s,i){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=s,this.prevComposition=i}}const Oz=20;function Pz(t,e,n,r){let s=n.getMeta(Hi),i;if(s)return s.historyState;n.getMeta(Iz)&&(t=new hs(t.done,t.undone,null,0,-1));let o=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(o&&o.getMeta(Hi))return o.getMeta(Hi).redo?new hs(t.done.addTransform(n,void 0,r,ld(e)),t.undone,Zx(n.mapping.maps),t.prevTime,t.prevComposition):new hs(t.done,t.undone.addTransform(n,void 0,r,ld(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let a=n.getMeta("composition"),l=t.prevTime==0||!o&&t.prevComposition!=a&&(t.prevTime<(n.time||0)-r.newGroupDelay||!Az(n,t.prevRanges)),c=o?jp(t.prevRanges,n.mapping):Zx(n.mapping.maps);return new hs(t.done.addTransform(n,l?e.selection.getBookmark():void 0,r,ld(e)),Un.empty,c,n.time,a??t.prevComposition)}else return(i=n.getMeta("rebased"))?new hs(t.done.rebased(n,i),t.undone.rebased(n,i),jp(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new hs(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),jp(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function Az(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,s)=>{for(let i=0;i<e.length;i+=2)r<=e[i+1]&&s>=e[i]&&(n=!0)}),n}function Zx(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,s,i,o)=>e.push(i,o));return e}function jp(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let s=e.map(t[r],1),i=e.map(t[r+1],-1);s<=i&&n.push(s,i)}return n}function Rz(t,e,n){let r=ld(e),s=Hi.get(e).spec.config,i=(n?t.undone:t.done).popEvent(e,r);if(!i)return null;let o=i.selection.resolve(i.transform.doc),a=(n?t.done:t.undone).addTransform(i.transform,e.selection.getBookmark(),s,r),l=new hs(n?a:i.remaining,n?i.remaining:a,null,0,-1);return i.transform.setSelection(o).setMeta(Hi,{redo:n,historyState:l})}let Lp=!1,eb=null;function ld(t){let e=t.plugins;if(eb!=e){Lp=!1,eb=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){Lp=!0;break}}return Lp}const Hi=new xr("history"),Iz=new xr("closeHistory");function Dz(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new rn({key:Hi,state:{init(){return new hs(Un.empty,Un.empty,null,0,-1)},apply(e,n,r){return Pz(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,s=r=="historyUndo"?b3:r=="historyRedo"?S3:null;return s?(n.preventDefault(),s(e.state,e.dispatch)):!1}}}})}function x3(t,e){return(n,r)=>{let s=Hi.getState(n);if(!s||(t?s.undone:s.done).eventCount==0)return!1;if(r){let i=Rz(s,n,t);i&&r(e?i.scrollIntoView():i)}return!0}}const b3=x3(!1,!0),S3=x3(!0,!0),jz=Ot.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>b3(t,e),redo:()=>({state:t,dispatch:e})=>S3(t,e)}},addProseMirrorPlugins(){return[Dz(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),Lz=An.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",bt(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{const{selection:n}=e,{$from:r,$to:s}=n,i=t();return r.parentOffset===0?i.insertContentAt({from:Math.max(r.pos-1,0),to:s.pos},{type:this.name}):Z7(n)?i.insertContentAt(s.pos,{type:this.name}):i.insertContent({type:this.name}),i.command(({tr:o,dispatch:a})=>{var l;if(a){const{$to:c}=o.selection,u=c.end();if(c.nodeAfter)c.nodeAfter.isTextblock?o.setSelection(le.create(o.doc,c.pos+1)):c.nodeAfter.isBlock?o.setSelection(re.create(o.doc,c.pos)):o.setSelection(le.create(o.doc,c.pos));else{const d=(l=c.parent.type.contentMatch.defaultType)===null||l===void 0?void 0:l.create();d&&(o.insert(u,d),o.setSelection(le.create(o.doc,u+1)))}o.scrollIntoView()}return!0}).run()}}},addInputRules(){return[g3({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),$z=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,Fz=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,zz=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,Bz=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,Vz=Hr.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",bt(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[La({find:$z,type:this.type}),La({find:zz,type:this.type})]},addPasteRules(){return[$a({find:Fz,type:this.type}),$a({find:Bz,type:this.type})]}}),Uz=An.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",bt(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Hz="listItem",tb="textStyle",nb=/^(\d+)\.\s$/,Wz=An.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:void 0,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",bt(this.options.HTMLAttributes,n),0]:["ol",bt(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Hz,this.editor.getAttributes(tb)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=Tc({find:nb,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Tc({find:nb,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(tb)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),Kz=An.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",bt(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),qz=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,Gz=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,Jz=Hr.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",bt(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[La({find:qz,type:this.type})]},addPasteRules(){return[$a({find:Gz,type:this.type})]}}),Qz=An.create({name:"text",group:"inline"}),Yz=Ot.create({name:"starterKit",addExtensions(){var t,e,n,r,s,i,o,a,l,c,u,d,f,h,p,g,w,v;const x=[];return this.options.bold!==!1&&x.push(sz.configure((t=this.options)===null||t===void 0?void 0:t.bold)),this.options.blockquote!==!1&&x.push(ZF.configure((e=this.options)===null||e===void 0?void 0:e.blockquote)),this.options.bulletList!==!1&&x.push(oz.configure((n=this.options)===null||n===void 0?void 0:n.bulletList)),this.options.code!==!1&&x.push(cz.configure((r=this.options)===null||r===void 0?void 0:r.code)),this.options.codeBlock!==!1&&x.push(fz.configure((s=this.options)===null||s===void 0?void 0:s.codeBlock)),this.options.document!==!1&&x.push(hz.configure((i=this.options)===null||i===void 0?void 0:i.document)),this.options.dropcursor!==!1&&x.push(gz.configure((o=this.options)===null||o===void 0?void 0:o.dropcursor)),this.options.gapcursor!==!1&&x.push(Cz.configure((a=this.options)===null||a===void 0?void 0:a.gapcursor)),this.options.hardBreak!==!1&&x.push(Ez.configure((l=this.options)===null||l===void 0?void 0:l.hardBreak)),this.options.heading!==!1&&x.push(_z.configure((c=this.options)===null||c===void 0?void 0:c.heading)),this.options.history!==!1&&x.push(jz.configure((u=this.options)===null||u===void 0?void 0:u.history)),this.options.horizontalRule!==!1&&x.push(Lz.configure((d=this.options)===null||d===void 0?void 0:d.horizontalRule)),this.options.italic!==!1&&x.push(Vz.configure((f=this.options)===null||f===void 0?void 0:f.italic)),this.options.listItem!==!1&&x.push(Uz.configure((h=this.options)===null||h===void 0?void 0:h.listItem)),this.options.orderedList!==!1&&x.push(Wz.configure((p=this.options)===null||p===void 0?void 0:p.orderedList)),this.options.paragraph!==!1&&x.push(Kz.configure((g=this.options)===null||g===void 0?void 0:g.paragraph)),this.options.strike!==!1&&x.push(Jz.configure((w=this.options)===null||w===void 0?void 0:w.strike)),this.options.text!==!1&&x.push(Qz.configure((v=this.options)===null||v===void 0?void 0:v.text)),x}}),Xz=Ot.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:"left"}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:t=>{const e=t.style.textAlign||this.options.defaultAlignment;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:t=>t.textAlign===this.options.defaultAlignment?{}:{style:`text-align: ${t.textAlign}`}}}}]},addCommands(){return{setTextAlign:t=>({commands:e})=>this.options.alignments.includes(t)?this.options.types.map(n=>e.updateAttributes(n,{textAlign:t})).every(n=>n):!1,unsetTextAlign:()=>({commands:t})=>this.options.types.map(e=>t.resetAttributes(e,"textAlign")).every(e=>e)}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),Zz=Hr.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",bt(this.options.HTMLAttributes,t),0]},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),eB=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,tB=An.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:t}){return["img",bt(this.options.HTMLAttributes,t)]},addCommands(){return{setImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[g3({find:eB,type:this.type,getAttributes:t=>{const[,,e,n,r]=t;return{src:n,alt:e,title:r}}})]}}),nB=["top","right","bottom","left"],ti=Math.min,ln=Math.max,lf=Math.round,$u=Math.floor,ni=t=>({x:t,y:t}),rB={left:"right",right:"left",bottom:"top",top:"bottom"},sB={start:"end",end:"start"};function Lg(t,e,n){return ln(t,ti(e,n))}function Wr(t,e){return typeof t=="function"?t(e):t}function Kr(t){return t.split("-")[0]}function Qa(t){return t.split("-")[1]}function Xy(t){return t==="x"?"y":"x"}function Zy(t){return t==="y"?"height":"width"}function ri(t){return["top","bottom"].includes(Kr(t))?"y":"x"}function ev(t){return Xy(ri(t))}function iB(t,e,n){n===void 0&&(n=!1);const r=Qa(t),s=ev(t),i=Zy(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=cf(o)),[o,cf(o)]}function oB(t){const e=cf(t);return[$g(t),e,$g(e)]}function $g(t){return t.replace(/start|end/g,e=>sB[e])}function aB(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function lB(t,e,n,r){const s=Qa(t);let i=aB(Kr(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map($g)))),i}function cf(t){return t.replace(/left|right|bottom|top/g,e=>rB[e])}function cB(t){return{top:0,right:0,bottom:0,left:0,...t}}function k3(t){return typeof t!="number"?cB(t):{top:t,right:t,bottom:t,left:t}}function uf(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function rb(t,e,n){let{reference:r,floating:s}=t;const i=ri(e),o=ev(e),a=Zy(o),l=Kr(e),c=i==="y",u=r.x+r.width/2-s.width/2,d=r.y+r.height/2-s.height/2,f=r[a]/2-s[a]/2;let h;switch(l){case"top":h={x:u,y:r.y-s.height};break;case"bottom":h={x:u,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:d};break;case"left":h={x:r.x-s.width,y:d};break;default:h={x:r.x,y:r.y}}switch(Qa(e)){case"start":h[o]-=f*(n&&c?-1:1);break;case"end":h[o]+=f*(n&&c?-1:1);break}return h}const uB=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:u,y:d}=rb(c,r,l),f=r,h={},p=0;for(let g=0;g<a.length;g++){const{name:w,fn:v}=a[g],{x,y:b,data:S,reset:k}=await v({x:u,y:d,initialPlacement:r,placement:f,strategy:s,middlewareData:h,rects:c,platform:o,elements:{reference:t,floating:e}});u=x??u,d=b??d,h={...h,[w]:{...h[w],...S}},k&&p<=50&&(p++,typeof k=="object"&&(k.placement&&(f=k.placement),k.rects&&(c=k.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):k.rects),{x:u,y:d}=rb(c,f,l)),g=-1)}return{x:u,y:d,placement:f,strategy:s,middlewareData:h}};async function Nc(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:h=0}=Wr(e,t),p=k3(h),w=a[f?d==="floating"?"reference":"floating":d],v=uf(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(w)))==null||n?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),x=d==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),S=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},k=uf(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:x,offsetParent:b,strategy:l}):x);return{top:(v.top-k.top+p.top)/S.y,bottom:(k.bottom-v.bottom+p.bottom)/S.y,left:(v.left-k.left+p.left)/S.x,right:(k.right-v.right+p.right)/S.x}}const dB=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=Wr(t,e)||{};if(c==null)return{};const d=k3(u),f={x:n,y:r},h=ev(s),p=Zy(h),g=await o.getDimensions(c),w=h==="y",v=w?"top":"left",x=w?"bottom":"right",b=w?"clientHeight":"clientWidth",S=i.reference[p]+i.reference[h]-f[h]-i.floating[p],k=f[h]-i.reference[h],C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let _=C?C[b]:0;(!_||!await(o.isElement==null?void 0:o.isElement(C)))&&(_=a.floating[b]||i.floating[p]);const M=S/2-k/2,O=_/2-g[p]/2-1,P=ti(d[v],O),L=ti(d[x],O),I=P,V=_-g[p]-L,F=_/2-g[p]/2+M,J=Lg(I,F,V),U=!l.arrow&&Qa(s)!=null&&F!==J&&i.reference[p]/2-(F<I?P:L)-g[p]/2<0,ne=U?F<I?F-I:F-V:0;return{[h]:f[h]+ne,data:{[h]:J,centerOffset:F-J-ne,...U&&{alignmentOffset:ne}},reset:U}}}),fB=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...w}=Wr(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const v=Kr(s),x=ri(a),b=Kr(a)===a,S=await(l.isRTL==null?void 0:l.isRTL(c.floating)),k=f||(b||!g?[cf(a)]:oB(a)),C=p!=="none";!f&&C&&k.push(...lB(a,g,p,S));const _=[a,...k],M=await Nc(e,w),O=[];let P=((r=i.flip)==null?void 0:r.overflows)||[];if(u&&O.push(M[v]),d){const F=iB(s,o,S);O.push(M[F[0]],M[F[1]])}if(P=[...P,{placement:s,overflows:O}],!O.every(F=>F<=0)){var L,I;const F=(((L=i.flip)==null?void 0:L.index)||0)+1,J=_[F];if(J)return{data:{index:F,overflows:P},reset:{placement:J}};let U=(I=P.filter(ne=>ne.overflows[0]<=0).sort((ne,R)=>ne.overflows[1]-R.overflows[1])[0])==null?void 0:I.placement;if(!U)switch(h){case"bestFit":{var V;const ne=(V=P.filter(R=>{if(C){const j=ri(R.placement);return j===x||j==="y"}return!0}).map(R=>[R.placement,R.overflows.filter(j=>j>0).reduce((j,W)=>j+W,0)]).sort((R,j)=>R[1]-j[1])[0])==null?void 0:V[0];ne&&(U=ne);break}case"initialPlacement":U=a;break}if(s!==U)return{reset:{placement:U}}}return{}}}};function sb(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function ib(t){return nB.some(e=>t[e]>=0)}const hB=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Wr(t,e);switch(r){case"referenceHidden":{const i=await Nc(e,{...s,elementContext:"reference"}),o=sb(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:ib(o)}}}case"escaped":{const i=await Nc(e,{...s,altBoundary:!0}),o=sb(i,n.floating);return{data:{escapedOffsets:o,escaped:ib(o)}}}default:return{}}}}};async function pB(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Kr(n),a=Qa(n),l=ri(n)==="y",c=["left","top"].includes(o)?-1:1,u=i&&l?-1:1,d=Wr(e,t);let{mainAxis:f,crossAxis:h,alignmentAxis:p}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof p=="number"&&(h=a==="end"?p*-1:p),l?{x:h*u,y:f*c}:{x:f*c,y:h*u}}const mB=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await pB(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},gB=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:w=>{let{x:v,y:x}=w;return{x:v,y:x}}},...l}=Wr(t,e),c={x:n,y:r},u=await Nc(e,l),d=ri(Kr(s)),f=Xy(d);let h=c[f],p=c[d];if(i){const w=f==="y"?"top":"left",v=f==="y"?"bottom":"right",x=h+u[w],b=h-u[v];h=Lg(x,h,b)}if(o){const w=d==="y"?"top":"left",v=d==="y"?"bottom":"right",x=p+u[w],b=p-u[v];p=Lg(x,p,b)}const g=a.fn({...e,[f]:h,[d]:p});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[f]:i,[d]:o}}}}}},yB=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Wr(t,e),u={x:n,y:r},d=ri(s),f=Xy(d);let h=u[f],p=u[d];const g=Wr(a,e),w=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const b=f==="y"?"height":"width",S=i.reference[f]-i.floating[b]+w.mainAxis,k=i.reference[f]+i.reference[b]-w.mainAxis;h<S?h=S:h>k&&(h=k)}if(c){var v,x;const b=f==="y"?"width":"height",S=["top","left"].includes(Kr(s)),k=i.reference[d]-i.floating[b]+(S&&((v=o.offset)==null?void 0:v[d])||0)+(S?0:w.crossAxis),C=i.reference[d]+i.reference[b]+(S?0:((x=o.offset)==null?void 0:x[d])||0)-(S?w.crossAxis:0);p<k?p=k:p>C&&(p=C)}return{[f]:h,[d]:p}}}},vB=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Wr(t,e),u=await Nc(e,c),d=Kr(s),f=Qa(s),h=ri(s)==="y",{width:p,height:g}=i.floating;let w,v;d==="top"||d==="bottom"?(w=d,v=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(v=d,w=f==="end"?"top":"bottom");const x=g-u.top-u.bottom,b=p-u.left-u.right,S=ti(g-u[w],x),k=ti(p-u[v],b),C=!e.middlewareData.shift;let _=S,M=k;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(M=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(_=x),C&&!f){const P=ln(u.left,0),L=ln(u.right,0),I=ln(u.top,0),V=ln(u.bottom,0);h?M=p-2*(P!==0||L!==0?P+L:ln(u.left,u.right)):_=g-2*(I!==0||V!==0?I+V:ln(u.top,u.bottom))}await l({...e,availableWidth:M,availableHeight:_});const O=await o.getDimensions(a.floating);return p!==O.width||g!==O.height?{reset:{rects:!0}}:{}}}};function hh(){return typeof window<"u"}function Ya(t){return C3(t)?(t.nodeName||"").toLowerCase():"#document"}function fn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function br(t){var e;return(e=(C3(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function C3(t){return hh()?t instanceof Node||t instanceof fn(t).Node:!1}function Jn(t){return hh()?t instanceof Element||t instanceof fn(t).Element:!1}function yr(t){return hh()?t instanceof HTMLElement||t instanceof fn(t).HTMLElement:!1}function ob(t){return!hh()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof fn(t).ShadowRoot}function Yc(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Qn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function wB(t){return["table","td","th"].includes(Ya(t))}function ph(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function tv(t){const e=nv(),n=Jn(t)?Qn(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function xB(t){let e=si(t);for(;yr(e)&&!Fa(e);){if(tv(e))return e;if(ph(e))return null;e=si(e)}return null}function nv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Fa(t){return["html","body","#document"].includes(Ya(t))}function Qn(t){return fn(t).getComputedStyle(t)}function mh(t){return Jn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function si(t){if(Ya(t)==="html")return t;const e=t.assignedSlot||t.parentNode||ob(t)&&t.host||br(t);return ob(e)?e.host:e}function E3(t){const e=si(t);return Fa(e)?t.ownerDocument?t.ownerDocument.body:t.body:yr(e)&&Yc(e)?e:E3(e)}function Mc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=E3(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=fn(s);if(i){const a=Fg(o);return e.concat(o,o.visualViewport||[],Yc(s)?s:[],a&&n?Mc(a):[])}return e.concat(s,Mc(s,[],n))}function Fg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function _3(t){const e=Qn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=yr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=lf(n)!==i||lf(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function rv(t){return Jn(t)?t:t.contextElement}function oa(t){const e=rv(t);if(!yr(e))return ni(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=_3(e);let o=(i?lf(n.width):n.width)/r,a=(i?lf(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const bB=ni(0);function T3(t){const e=fn(t);return!nv()||!e.visualViewport?bB:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function SB(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==fn(t)?!1:e}function io(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=rv(t);let o=ni(1);e&&(r?Jn(r)&&(o=oa(r)):o=oa(t));const a=SB(i,n,r)?T3(i):ni(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,u=s.width/o.x,d=s.height/o.y;if(i){const f=fn(i),h=r&&Jn(r)?fn(r):r;let p=f,g=Fg(p);for(;g&&r&&h!==p;){const w=oa(g),v=g.getBoundingClientRect(),x=Qn(g),b=v.left+(g.clientLeft+parseFloat(x.paddingLeft))*w.x,S=v.top+(g.clientTop+parseFloat(x.paddingTop))*w.y;l*=w.x,c*=w.y,u*=w.x,d*=w.y,l+=b,c+=S,p=fn(g),g=Fg(p)}}return uf({width:u,height:d,x:l,y:c})}function kB(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=br(r),a=e?ph(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=ni(1);const u=ni(0),d=yr(r);if((d||!d&&!i)&&((Ya(r)!=="body"||Yc(o))&&(l=mh(r)),yr(r))){const f=io(r);c=oa(r),u.x=f.x+r.clientLeft,u.y=f.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x,y:n.y*c.y-l.scrollTop*c.y+u.y}}function CB(t){return Array.from(t.getClientRects())}function zg(t,e){const n=mh(t).scrollLeft;return e?e.left+n:io(br(t)).left+n}function EB(t){const e=br(t),n=mh(t),r=t.ownerDocument.body,s=ln(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=ln(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+zg(t);const a=-n.scrollTop;return Qn(r).direction==="rtl"&&(o+=ln(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function _B(t,e){const n=fn(t),r=br(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=nv();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function TB(t,e){const n=io(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=yr(t)?oa(t):ni(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function ab(t,e,n){let r;if(e==="viewport")r=_B(t,n);else if(e==="document")r=EB(br(t));else if(Jn(e))r=TB(e,n);else{const s=T3(t);r={...e,x:e.x-s.x,y:e.y-s.y}}return uf(r)}function N3(t,e){const n=si(t);return n===e||!Jn(n)||Fa(n)?!1:Qn(n).position==="fixed"||N3(n,e)}function NB(t,e){const n=e.get(t);if(n)return n;let r=Mc(t,[],!1).filter(a=>Jn(a)&&Ya(a)!=="body"),s=null;const i=Qn(t).position==="fixed";let o=i?si(t):t;for(;Jn(o)&&!Fa(o);){const a=Qn(o),l=tv(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Yc(o)&&!l&&N3(t,o))?r=r.filter(u=>u!==o):s=a,o=si(o)}return e.set(t,r),r}function MB(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?ph(e)?[]:NB(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,u)=>{const d=ab(e,u,s);return c.top=ln(d.top,c.top),c.right=ti(d.right,c.right),c.bottom=ti(d.bottom,c.bottom),c.left=ln(d.left,c.left),c},ab(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function OB(t){const{width:e,height:n}=_3(t);return{width:e,height:n}}function PB(t,e,n){const r=yr(e),s=br(e),i=n==="fixed",o=io(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=ni(0);if(r||!r&&!i)if((Ya(e)!=="body"||Yc(s))&&(a=mh(e)),r){const h=io(e,!0,i,e);l.x=h.x+e.clientLeft,l.y=h.y+e.clientTop}else s&&(l.x=zg(s));let c=0,u=0;if(s&&!r&&!i){const h=s.getBoundingClientRect();u=h.top+a.scrollTop,c=h.left+a.scrollLeft-zg(s,h)}const d=o.left+a.scrollLeft-l.x-c,f=o.top+a.scrollTop-l.y-u;return{x:d,y:f,width:o.width,height:o.height}}function $p(t){return Qn(t).position==="static"}function lb(t,e){if(!yr(t)||Qn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return br(t)===n&&(n=n.ownerDocument.body),n}function M3(t,e){const n=fn(t);if(ph(t))return n;if(!yr(t)){let s=si(t);for(;s&&!Fa(s);){if(Jn(s)&&!$p(s))return s;s=si(s)}return n}let r=lb(t,e);for(;r&&wB(r)&&$p(r);)r=lb(r,e);return r&&Fa(r)&&$p(r)&&!tv(r)?n:r||xB(t)||n}const AB=async function(t){const e=this.getOffsetParent||M3,n=this.getDimensions,r=await n(t.floating);return{reference:PB(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function RB(t){return Qn(t).direction==="rtl"}const IB={convertOffsetParentRelativeRectToViewportRelativeRect:kB,getDocumentElement:br,getClippingRect:MB,getOffsetParent:M3,getElementRects:AB,getClientRects:CB,getDimensions:OB,getScale:oa,isElement:Jn,isRTL:RB};function DB(t,e){let n=null,r;const s=br(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const{left:c,top:u,width:d,height:f}=t.getBoundingClientRect();if(a||e(),!d||!f)return;const h=$u(u),p=$u(s.clientWidth-(c+d)),g=$u(s.clientHeight-(u+f)),w=$u(c),x={rootMargin:-h+"px "+-p+"px "+-g+"px "+-w+"px",threshold:ln(0,ti(1,l))||1};let b=!0;function S(k){const C=k[0].intersectionRatio;if(C!==l){if(!b)return o();C?o(!1,C):r=setTimeout(()=>{o(!1,1e-7)},1e3)}b=!1}try{n=new IntersectionObserver(S,{...x,root:s.ownerDocument})}catch{n=new IntersectionObserver(S,x)}n.observe(t)}return o(!0),i}function jB(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=rv(t),u=s||i?[...c?Mc(c):[],...Mc(e)]:[];u.forEach(v=>{s&&v.addEventListener("scroll",n,{passive:!0}),i&&v.addEventListener("resize",n)});const d=c&&a?DB(c,n):null;let f=-1,h=null;o&&(h=new ResizeObserver(v=>{let[x]=v;x&&x.target===c&&h&&(h.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var b;(b=h)==null||b.observe(e)})),n()}),c&&!l&&h.observe(c),h.observe(e));let p,g=l?io(t):null;l&&w();function w(){const v=io(t);g&&(v.x!==g.x||v.y!==g.y||v.width!==g.width||v.height!==g.height)&&n(),g=v,p=requestAnimationFrame(w)}return n(),()=>{var v;u.forEach(x=>{s&&x.removeEventListener("scroll",n),i&&x.removeEventListener("resize",n)}),d==null||d(),(v=h)==null||v.disconnect(),h=null,l&&cancelAnimationFrame(p)}}const LB=mB,$B=gB,FB=fB,zB=vB,BB=hB,cb=dB,VB=yB,UB=(t,e,n)=>{const r=new Map,s={platform:IB,...n},i={...s.platform,_c:r};return uB(t,e,{...s,platform:i})};var cd=typeof document<"u"?y.useLayoutEffect:y.useEffect;function df(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!df(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!df(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function O3(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function ub(t,e){const n=O3(t);return Math.round(e*n)/n}function Fp(t){const e=y.useRef(t);return cd(()=>{e.current=t}),e}function HB(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,d]=y.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,h]=y.useState(r);df(f,r)||h(r);const[p,g]=y.useState(null),[w,v]=y.useState(null),x=y.useCallback(R=>{R!==C.current&&(C.current=R,g(R))},[]),b=y.useCallback(R=>{R!==_.current&&(_.current=R,v(R))},[]),S=i||p,k=o||w,C=y.useRef(null),_=y.useRef(null),M=y.useRef(u),O=l!=null,P=Fp(l),L=Fp(s),I=Fp(c),V=y.useCallback(()=>{if(!C.current||!_.current)return;const R={placement:e,strategy:n,middleware:f};L.current&&(R.platform=L.current),UB(C.current,_.current,R).then(j=>{const W={...j,isPositioned:I.current!==!1};F.current&&!df(M.current,W)&&(M.current=W,Bc.flushSync(()=>{d(W)}))})},[f,e,n,L,I]);cd(()=>{c===!1&&M.current.isPositioned&&(M.current.isPositioned=!1,d(R=>({...R,isPositioned:!1})))},[c]);const F=y.useRef(!1);cd(()=>(F.current=!0,()=>{F.current=!1}),[]),cd(()=>{if(S&&(C.current=S),k&&(_.current=k),S&&k){if(P.current)return P.current(S,k,V);V()}},[S,k,V,P,O]);const J=y.useMemo(()=>({reference:C,floating:_,setReference:x,setFloating:b}),[x,b]),U=y.useMemo(()=>({reference:S,floating:k}),[S,k]),ne=y.useMemo(()=>{const R={position:n,left:0,top:0};if(!U.floating)return R;const j=ub(U.floating,u.x),W=ub(U.floating,u.y);return a?{...R,transform:"translate("+j+"px, "+W+"px)",...O3(U.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:j,top:W}},[n,a,U.floating,u.x,u.y]);return y.useMemo(()=>({...u,update:V,refs:J,elements:U,floatingStyles:ne}),[u,V,J,U,ne])}const WB=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?cb({element:r.current,padding:s}).fn(n):{}:r?cb({element:r,padding:s}).fn(n):{}}}},KB=(t,e)=>({...LB(t),options:[t,e]}),qB=(t,e)=>({...$B(t),options:[t,e]}),GB=(t,e)=>({...VB(t),options:[t,e]}),JB=(t,e)=>({...FB(t),options:[t,e]}),QB=(t,e)=>({...zB(t),options:[t,e]}),YB=(t,e)=>({...BB(t),options:[t,e]}),XB=(t,e)=>({...WB(t),options:[t,e]});var ZB="Arrow",P3=y.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return m.jsx(ae.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:m.jsx("polygon",{points:"0,0 30,0 15,10"})})});P3.displayName=ZB;var eV=P3;function tV(t,e=[]){let n=[];function r(i,o){const a=y.createContext(o),l=n.length;n=[...n,o];function c(d){const{scope:f,children:h,...p}=d,g=(f==null?void 0:f[t][l])||a,w=y.useMemo(()=>p,Object.values(p));return m.jsx(g.Provider,{value:w,children:h})}function u(d,f){const h=(f==null?void 0:f[t][l])||a,p=y.useContext(h);if(p)return p;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,u]}const s=()=>{const i=n.map(o=>y.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,nV(s,...e)]}function nV(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(i)[`__scope${c}`];return{...a,...d}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var sv="Popper",[A3,R3]=tV(sv),[rV,I3]=A3(sv),D3=t=>{const{__scopePopper:e,children:n}=t,[r,s]=y.useState(null);return m.jsx(rV,{scope:e,anchor:r,onAnchorChange:s,children:n})};D3.displayName=sv;var j3="PopperAnchor",L3=y.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=I3(j3,n),o=y.useRef(null),a=_e(e,o);return y.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:m.jsx(ae.div,{...s,ref:a})});L3.displayName=j3;var iv="PopperContent",[sV,iV]=A3(iv),$3=y.forwardRef((t,e)=>{var pt,Sr,Rt,di,el,tu;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:f=!1,updatePositionStrategy:h="optimized",onPlaced:p,...g}=t,w=I3(iv,n),[v,x]=y.useState(null),b=_e(e,Zr=>x(Zr)),[S,k]=y.useState(null),C=G2(S),_=(C==null?void 0:C.width)??0,M=(C==null?void 0:C.height)??0,O=r+(i!=="center"?"-"+i:""),P=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},L=Array.isArray(c)?c:[c],I=L.length>0,V={padding:P,boundary:L.filter(aV),altBoundary:I},{refs:F,floatingStyles:J,placement:U,isPositioned:ne,middlewareData:R}=HB({strategy:"fixed",placement:O,whileElementsMounted:(...Zr)=>jB(...Zr,{animationFrame:h==="always"}),elements:{reference:w.anchor},middleware:[KB({mainAxis:s+M,alignmentAxis:o}),l&&qB({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?GB():void 0,...V}),l&&JB({...V}),QB({...V,apply:({elements:Zr,rects:tl,availableWidth:mv,availableHeight:gv})=>{const{width:yv,height:N}=tl.reference,A=Zr.floating.style;A.setProperty("--radix-popper-available-width",`${mv}px`),A.setProperty("--radix-popper-available-height",`${gv}px`),A.setProperty("--radix-popper-anchor-width",`${yv}px`),A.setProperty("--radix-popper-anchor-height",`${N}px`)}}),S&&XB({element:S,padding:a}),lV({arrowWidth:_,arrowHeight:M}),f&&YB({strategy:"referenceHidden",...V})]}),[j,W]=B3(U),te=Be(p);pr(()=>{ne&&(te==null||te())},[ne,te]);const pe=(pt=R.arrow)==null?void 0:pt.x,ht=(Sr=R.arrow)==null?void 0:Sr.y,Ye=((Rt=R.arrow)==null?void 0:Rt.centerOffset)!==0,[Xn,Xe]=y.useState();return pr(()=>{v&&Xe(window.getComputedStyle(v).zIndex)},[v]),m.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:ne?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Xn,"--radix-popper-transform-origin":[(di=R.transformOrigin)==null?void 0:di.x,(el=R.transformOrigin)==null?void 0:el.y].join(" "),...((tu=R.hide)==null?void 0:tu.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:m.jsx(sV,{scope:n,placedSide:j,onArrowChange:k,arrowX:pe,arrowY:ht,shouldHideArrow:Ye,children:m.jsx(ae.div,{"data-side":j,"data-align":W,...g,ref:b,style:{...g.style,animation:ne?void 0:"none"}})})})});$3.displayName=iv;var F3="PopperArrow",oV={top:"bottom",right:"left",bottom:"top",left:"right"},z3=y.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=iV(F3,r),o=oV[i.placedSide];return m.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:m.jsx(eV,{...s,ref:n,style:{...s.style,display:"block"}})})});z3.displayName=F3;function aV(t){return t!==null}var lV=t=>({name:"transformOrigin",options:t,fn(e){var w,v,x;const{placement:n,rects:r,middlewareData:s}=e,o=((w=s.arrow)==null?void 0:w.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,u]=B3(n),d={start:"0%",center:"50%",end:"100%"}[u],f=(((v=s.arrow)==null?void 0:v.x)??0)+a/2,h=(((x=s.arrow)==null?void 0:x.y)??0)+l/2;let p="",g="";return c==="bottom"?(p=o?d:`${f}px`,g=`${-l}px`):c==="top"?(p=o?d:`${f}px`,g=`${r.floating.height+l}px`):c==="right"?(p=`${-l}px`,g=o?d:`${h}px`):c==="left"&&(p=`${r.floating.width+l}px`,g=o?d:`${h}px`),{data:{x:p,y:g}}}});function B3(t){const[e,n="center"]=t.split("-");return[e,n]}var cV=D3,uV=L3,dV=$3,fV=z3,Bg=["Enter"," "],hV=["ArrowDown","PageUp","Home"],V3=["ArrowUp","PageDown","End"],pV=[...hV,...V3],mV={ltr:[...Bg,"ArrowRight"],rtl:[...Bg,"ArrowLeft"]},gV={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Xc="Menu",[Oc,yV,vV]=Af(Xc),[po,U3]=Jr(Xc,[vV,R3,Yf]),gh=R3(),H3=Yf(),[wV,mo]=po(Xc),[xV,Zc]=po(Xc),W3=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=t,a=gh(e),[l,c]=y.useState(null),u=y.useRef(!1),d=Be(i),f=Kc(s);return y.useEffect(()=>{const h=()=>{u.current=!0,document.addEventListener("pointerdown",p,{capture:!0,once:!0}),document.addEventListener("pointermove",p,{capture:!0,once:!0})},p=()=>u.current=!1;return document.addEventListener("keydown",h,{capture:!0}),()=>{document.removeEventListener("keydown",h,{capture:!0}),document.removeEventListener("pointerdown",p,{capture:!0}),document.removeEventListener("pointermove",p,{capture:!0})}},[]),m.jsx(cV,{...a,children:m.jsx(wV,{scope:e,open:n,onOpenChange:d,content:l,onContentChange:c,children:m.jsx(xV,{scope:e,onClose:y.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:u,dir:f,modal:o,children:r})})})};W3.displayName=Xc;var bV="MenuAnchor",ov=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=gh(n);return m.jsx(uV,{...s,...r,ref:e})});ov.displayName=bV;var av="MenuPortal",[SV,K3]=po(av,{forceMount:void 0}),q3=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=mo(av,e);return m.jsx(SV,{scope:e,forceMount:n,children:m.jsx(Pt,{present:n||i.open,children:m.jsx(If,{asChild:!0,container:s,children:r})})})};q3.displayName=av;var Tn="MenuContent",[kV,lv]=po(Tn),G3=y.forwardRef((t,e)=>{const n=K3(Tn,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=mo(Tn,t.__scopeMenu),o=Zc(Tn,t.__scopeMenu);return m.jsx(Oc.Provider,{scope:t.__scopeMenu,children:m.jsx(Pt,{present:r||i.open,children:m.jsx(Oc.Slot,{scope:t.__scopeMenu,children:o.modal?m.jsx(CV,{...s,ref:e}):m.jsx(EV,{...s,ref:e})})})})}),CV=y.forwardRef((t,e)=>{const n=mo(Tn,t.__scopeMenu),r=y.useRef(null),s=_e(e,r);return y.useEffect(()=>{const i=r.current;if(i)return _E(i)},[]),m.jsx(cv,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ee(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),EV=y.forwardRef((t,e)=>{const n=mo(Tn,t.__scopeMenu);return m.jsx(cv,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),cv=y.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:f,onDismiss:h,disableOutsideScroll:p,...g}=t,w=mo(Tn,n),v=Zc(Tn,n),x=gh(n),b=H3(n),S=yV(n),[k,C]=y.useState(null),_=y.useRef(null),M=_e(e,_,w.onContentChange),O=y.useRef(0),P=y.useRef(""),L=y.useRef(0),I=y.useRef(null),V=y.useRef("right"),F=y.useRef(0),J=p?py:y.Fragment,U=p?{as:Yi,allowPinchZoom:!0}:void 0,ne=j=>{var pt,Sr;const W=P.current+j,te=S().filter(Rt=>!Rt.disabled),pe=document.activeElement,ht=(pt=te.find(Rt=>Rt.ref.current===pe))==null?void 0:pt.textValue,Ye=te.map(Rt=>Rt.textValue),Xn=LV(Ye,W,ht),Xe=(Sr=te.find(Rt=>Rt.textValue===Xn))==null?void 0:Sr.ref.current;(function Rt(di){P.current=di,window.clearTimeout(O.current),di!==""&&(O.current=window.setTimeout(()=>Rt(""),1e3))})(W),Xe&&setTimeout(()=>Xe.focus())};y.useEffect(()=>()=>window.clearTimeout(O.current),[]),yE();const R=y.useCallback(j=>{var te,pe;return V.current===((te=I.current)==null?void 0:te.side)&&FV(j,(pe=I.current)==null?void 0:pe.area)},[]);return m.jsx(kV,{scope:n,searchRef:P,onItemEnter:y.useCallback(j=>{R(j)&&j.preventDefault()},[R]),onItemLeave:y.useCallback(j=>{var W;R(j)||((W=_.current)==null||W.focus(),C(null))},[R]),onTriggerLeave:y.useCallback(j=>{R(j)&&j.preventDefault()},[R]),pointerGraceTimerRef:L,onPointerGraceIntentChange:y.useCallback(j=>{I.current=j},[]),children:m.jsx(J,{...U,children:m.jsx(hy,{asChild:!0,trapped:s,onMountAutoFocus:ee(i,j=>{var W;j.preventDefault(),(W=_.current)==null||W.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:m.jsx(Rf,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:f,onDismiss:h,children:m.jsx(l_,{asChild:!0,...b,dir:v.dir,orientation:"vertical",loop:r,currentTabStopId:k,onCurrentTabStopIdChange:C,onEntryFocus:ee(l,j=>{v.isUsingKeyboardRef.current||j.preventDefault()}),preventScrollOnEntryFocus:!0,children:m.jsx(dV,{role:"menu","aria-orientation":"vertical","data-state":uN(w.open),"data-radix-menu-content":"",dir:v.dir,...x,...g,ref:M,style:{outline:"none",...g.style},onKeyDown:ee(g.onKeyDown,j=>{const te=j.target.closest("[data-radix-menu-content]")===j.currentTarget,pe=j.ctrlKey||j.altKey||j.metaKey,ht=j.key.length===1;te&&(j.key==="Tab"&&j.preventDefault(),!pe&&ht&&ne(j.key));const Ye=_.current;if(j.target!==Ye||!pV.includes(j.key))return;j.preventDefault();const Xe=S().filter(pt=>!pt.disabled).map(pt=>pt.ref.current);V3.includes(j.key)&&Xe.reverse(),DV(Xe)}),onBlur:ee(t.onBlur,j=>{j.currentTarget.contains(j.target)||(window.clearTimeout(O.current),P.current="")}),onPointerMove:ee(t.onPointerMove,Pc(j=>{const W=j.target,te=F.current!==j.clientX;if(j.currentTarget.contains(W)&&te){const pe=j.clientX>F.current?"right":"left";V.current=pe,F.current=j.clientX}}))})})})})})})});G3.displayName=Tn;var _V="MenuGroup",uv=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return m.jsx(ae.div,{role:"group",...r,ref:e})});uv.displayName=_V;var TV="MenuLabel",J3=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return m.jsx(ae.div,{...r,ref:e})});J3.displayName=TV;var ff="MenuItem",db="menu.itemSelect",yh=y.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=y.useRef(null),o=Zc(ff,t.__scopeMenu),a=lv(ff,t.__scopeMenu),l=_e(e,i),c=y.useRef(!1),u=()=>{const d=i.current;if(!n&&d){const f=new CustomEvent(db,{bubbles:!0,cancelable:!0});d.addEventListener(db,h=>r==null?void 0:r(h),{once:!0}),B0(d,f),f.defaultPrevented?c.current=!1:o.onClose()}};return m.jsx(Q3,{...s,ref:l,disabled:n,onClick:ee(t.onClick,u),onPointerDown:d=>{var f;(f=t.onPointerDown)==null||f.call(t,d),c.current=!0},onPointerUp:ee(t.onPointerUp,d=>{var f;c.current||(f=d.currentTarget)==null||f.click()}),onKeyDown:ee(t.onKeyDown,d=>{const f=a.searchRef.current!=="";n||f&&d.key===" "||Bg.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});yh.displayName=ff;var Q3=y.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,o=lv(ff,n),a=H3(n),l=y.useRef(null),c=_e(e,l),[u,d]=y.useState(!1),[f,h]=y.useState("");return y.useEffect(()=>{const p=l.current;p&&h((p.textContent??"").trim())},[i.children]),m.jsx(Oc.ItemSlot,{scope:n,disabled:r,textValue:s??f,children:m.jsx(c_,{asChild:!0,...a,focusable:!r,children:m.jsx(ae.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:c,onPointerMove:ee(t.onPointerMove,Pc(p=>{r?o.onItemLeave(p):(o.onItemEnter(p),p.defaultPrevented||p.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ee(t.onPointerLeave,Pc(p=>o.onItemLeave(p))),onFocus:ee(t.onFocus,()=>d(!0)),onBlur:ee(t.onBlur,()=>d(!1))})})})}),NV="MenuCheckboxItem",Y3=y.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return m.jsx(nN,{scope:t.__scopeMenu,checked:n,children:m.jsx(yh,{role:"menuitemcheckbox","aria-checked":hf(n)?"mixed":n,...s,ref:e,"data-state":fv(n),onSelect:ee(s.onSelect,()=>r==null?void 0:r(hf(n)?!0:!n),{checkForDefaultPrevented:!1})})})});Y3.displayName=NV;var X3="MenuRadioGroup",[MV,OV]=po(X3,{value:void 0,onValueChange:()=>{}}),Z3=y.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=Be(r);return m.jsx(MV,{scope:t.__scopeMenu,value:n,onValueChange:i,children:m.jsx(uv,{...s,ref:e})})});Z3.displayName=X3;var eN="MenuRadioItem",tN=y.forwardRef((t,e)=>{const{value:n,...r}=t,s=OV(eN,t.__scopeMenu),i=n===s.value;return m.jsx(nN,{scope:t.__scopeMenu,checked:i,children:m.jsx(yh,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":fv(i),onSelect:ee(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});tN.displayName=eN;var dv="MenuItemIndicator",[nN,PV]=po(dv,{checked:!1}),rN=y.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=PV(dv,n);return m.jsx(Pt,{present:r||hf(i.checked)||i.checked===!0,children:m.jsx(ae.span,{...s,ref:e,"data-state":fv(i.checked)})})});rN.displayName=dv;var AV="MenuSeparator",sN=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return m.jsx(ae.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});sN.displayName=AV;var RV="MenuArrow",iN=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=gh(n);return m.jsx(fV,{...s,...r,ref:e})});iN.displayName=RV;var IV="MenuSub",[wW,oN]=po(IV),Tl="MenuSubTrigger",aN=y.forwardRef((t,e)=>{const n=mo(Tl,t.__scopeMenu),r=Zc(Tl,t.__scopeMenu),s=oN(Tl,t.__scopeMenu),i=lv(Tl,t.__scopeMenu),o=y.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=i,c={__scopeMenu:t.__scopeMenu},u=y.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return y.useEffect(()=>u,[u]),y.useEffect(()=>{const d=a.current;return()=>{window.clearTimeout(d),l(null)}},[a,l]),m.jsx(ov,{asChild:!0,...c,children:m.jsx(Q3,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":uN(n.open),...t,ref:Pf(e,s.onTriggerChange),onClick:d=>{var f;(f=t.onClick)==null||f.call(t,d),!(t.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ee(t.onPointerMove,Pc(d=>{i.onItemEnter(d),!d.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:ee(t.onPointerLeave,Pc(d=>{var h,p;u();const f=(h=n.content)==null?void 0:h.getBoundingClientRect();if(f){const g=(p=n.content)==null?void 0:p.dataset.side,w=g==="right",v=w?-5:5,x=f[w?"left":"right"],b=f[w?"right":"left"];i.onPointerGraceIntentChange({area:[{x:d.clientX+v,y:d.clientY},{x,y:f.top},{x:b,y:f.top},{x:b,y:f.bottom},{x,y:f.bottom}],side:g}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(d),d.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:ee(t.onKeyDown,d=>{var h;const f=i.searchRef.current!=="";t.disabled||f&&d.key===" "||mV[r.dir].includes(d.key)&&(n.onOpenChange(!0),(h=n.content)==null||h.focus(),d.preventDefault())})})})});aN.displayName=Tl;var lN="MenuSubContent",cN=y.forwardRef((t,e)=>{const n=K3(Tn,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=mo(Tn,t.__scopeMenu),o=Zc(Tn,t.__scopeMenu),a=oN(lN,t.__scopeMenu),l=y.useRef(null),c=_e(e,l);return m.jsx(Oc.Provider,{scope:t.__scopeMenu,children:m.jsx(Pt,{present:r||i.open,children:m.jsx(Oc.Slot,{scope:t.__scopeMenu,children:m.jsx(cv,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:c,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var d;o.isUsingKeyboardRef.current&&((d=l.current)==null||d.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:ee(t.onFocusOutside,u=>{u.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:ee(t.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:ee(t.onKeyDown,u=>{var h;const d=u.currentTarget.contains(u.target),f=gV[o.dir].includes(u.key);d&&f&&(i.onOpenChange(!1),(h=a.trigger)==null||h.focus(),u.preventDefault())})})})})})});cN.displayName=lN;function uN(t){return t?"open":"closed"}function hf(t){return t==="indeterminate"}function fv(t){return hf(t)?"indeterminate":t?"checked":"unchecked"}function DV(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function jV(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function LV(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=jV(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function $V(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,c=e[o].x,u=e[o].y;l>r!=u>r&&n<(c-a)*(r-l)/(u-l)+a&&(s=!s)}return s}function FV(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return $V(n,e)}function Pc(t){return e=>e.pointerType==="mouse"?t(e):void 0}var zV=W3,BV=ov,VV=q3,UV=G3,HV=uv,WV=J3,KV=yh,qV=Y3,GV=Z3,JV=tN,QV=rN,YV=sN,XV=iN,ZV=aN,eU=cN,hv="DropdownMenu",[tU,xW]=Jr(hv,[U3]),Wt=U3(),[nU,dN]=tU(hv),fN=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:o,modal:a=!0}=t,l=Wt(e),c=y.useRef(null),[u=!1,d]=Qr({prop:s,defaultProp:i,onChange:o});return m.jsx(nU,{scope:e,triggerId:Lr(),triggerRef:c,contentId:Lr(),open:u,onOpenChange:d,onOpenToggle:y.useCallback(()=>d(f=>!f),[d]),modal:a,children:m.jsx(zV,{...l,open:u,onOpenChange:d,dir:r,modal:a,children:n})})};fN.displayName=hv;var hN="DropdownMenuTrigger",pN=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=dN(hN,n),o=Wt(n);return m.jsx(BV,{asChild:!0,...o,children:m.jsx(ae.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Pf(e,i.triggerRef),onPointerDown:ee(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(i.onOpenToggle(),i.open||a.preventDefault())}),onKeyDown:ee(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&i.onOpenToggle(),a.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});pN.displayName=hN;var rU="DropdownMenuPortal",mN=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Wt(e);return m.jsx(VV,{...r,...n})};mN.displayName=rU;var gN="DropdownMenuContent",yN=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=dN(gN,n),i=Wt(n),o=y.useRef(!1);return m.jsx(UV,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:ee(t.onCloseAutoFocus,a=>{var l;o.current||(l=s.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:ee(t.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;(!s.modal||u)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});yN.displayName=gN;var sU="DropdownMenuGroup",iU=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Wt(n);return m.jsx(HV,{...s,...r,ref:e})});iU.displayName=sU;var oU="DropdownMenuLabel",vN=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Wt(n);return m.jsx(WV,{...s,...r,ref:e})});vN.displayName=oU;var aU="DropdownMenuItem",wN=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Wt(n);return m.jsx(KV,{...s,...r,ref:e})});wN.displayName=aU;var lU="DropdownMenuCheckboxItem",xN=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Wt(n);return m.jsx(qV,{...s,...r,ref:e})});xN.displayName=lU;var cU="DropdownMenuRadioGroup",uU=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Wt(n);return m.jsx(GV,{...s,...r,ref:e})});uU.displayName=cU;var dU="DropdownMenuRadioItem",bN=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Wt(n);return m.jsx(JV,{...s,...r,ref:e})});bN.displayName=dU;var fU="DropdownMenuItemIndicator",SN=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Wt(n);return m.jsx(QV,{...s,...r,ref:e})});SN.displayName=fU;var hU="DropdownMenuSeparator",kN=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Wt(n);return m.jsx(YV,{...s,...r,ref:e})});kN.displayName=hU;var pU="DropdownMenuArrow",mU=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Wt(n);return m.jsx(XV,{...s,...r,ref:e})});mU.displayName=pU;var gU="DropdownMenuSubTrigger",CN=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Wt(n);return m.jsx(ZV,{...s,...r,ref:e})});CN.displayName=gU;var yU="DropdownMenuSubContent",EN=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Wt(n);return m.jsx(eU,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});EN.displayName=yU;var vU=fN,wU=pN,xU=mN,_N=yN,TN=vN,NN=wN,MN=xN,ON=bN,PN=SN,AN=kN,RN=CN,IN=EN;const bU=vU,SU=wU,kU=y.forwardRef(({className:t,inset:e,children:n,...r},s)=>m.jsxs(RN,{ref:s,className:ce("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,m.jsx(gA,{className:"ml-auto h-4 w-4"})]}));kU.displayName=RN.displayName;const CU=y.forwardRef(({className:t,...e},n)=>m.jsx(IN,{ref:n,className:ce("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));CU.displayName=IN.displayName;const DN=y.forwardRef(({className:t,sideOffset:e=4,...n},r)=>m.jsx(xU,{children:m.jsx(_N,{ref:r,sideOffset:e,className:ce("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));DN.displayName=_N.displayName;const jN=y.forwardRef(({className:t,inset:e,...n},r)=>m.jsx(NN,{ref:r,className:ce("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));jN.displayName=NN.displayName;const EU=y.forwardRef(({className:t,children:e,checked:n,...r},s)=>m.jsxs(MN,{ref:s,className:ce("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[m.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:m.jsx(PN,{children:m.jsx(AC,{className:"h-4 w-4"})})}),e]}));EU.displayName=MN.displayName;const _U=y.forwardRef(({className:t,children:e,...n},r)=>m.jsxs(ON,{ref:r,className:ce("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[m.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:m.jsx(PN,{children:m.jsx(wA,{className:"h-2 w-2 fill-current"})})}),e]}));_U.displayName=ON.displayName;const TU=y.forwardRef(({className:t,inset:e,...n},r)=>m.jsx(TN,{ref:r,className:ce("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));TU.displayName=TN.displayName;const NU=y.forwardRef(({className:t,...e},n)=>m.jsx(AN,{ref:n,className:ce("-mx-1 my-1 h-px bg-muted",t),...e}));NU.displayName=AN.displayName;const fb=({content:t,onChange:e,onClear:n})=>{const r=GF({extensions:[Yz,Xz.configure({types:["heading","paragraph"],defaultAlignment:"right"}),Zz,tB.configure({HTMLAttributes:{class:"max-w-full rounded-lg"}})],content:t,onUpdate:({editor:i})=>{e(i.getHTML())},onCreate:({editor:i})=>{t||i.commands.setContent("")},editorProps:{attributes:{class:"prose prose-lg rtl w-full min-h-[200px] overflow-y-auto p-4",dir:"rtl"}}});E.useEffect(()=>{r&&!t&&r.commands.setContent("")},[r,t]);const s=()=>{const i=window.prompt("הכנס את כתובת התמונה:");i&&r&&r.chain().focus().setImage({src:i}).run()};return r?m.jsxs("div",{className:"border rounded-lg w-full",children:[m.jsxs("div",{className:"flex items-center gap-2 border-b p-3 bg-gray-50/80 flex-wrap",children:[m.jsxs(bU,{children:[m.jsx(SU,{asChild:!0,children:m.jsxs(oe,{variant:"ghost",size:"sm",className:"gap-1 text-right px-3 font-normal",children:["טקסט רגיל",m.jsx(RC,{className:"h-4 w-4 opacity-50"})]})}),m.jsx(DN,{align:"end",className:"min-w-[120px]",children:[{label:"טקסט רגיל",command:()=>r.chain().focus().setParagraph().run()},{label:"כותרת",command:()=>r.chain().focus().toggleHeading({level:1}).run()},{label:"כותרת משנית",command:()=>r.chain().focus().toggleHeading({level:2}).run()},{label:"תת-כותרת",command:()=>r.chain().focus().toggleHeading({level:3}).run()}].map(i=>m.jsx(jN,{onClick:i.command,className:"text-right px-3 py-2",children:i.label},i.label))})]}),m.jsx("div",{className:"h-4 w-[1px] bg-gray-200 mx-1"}),m.jsxs("div",{className:"flex items-center gap-0.5",children:[m.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>r.chain().focus().toggleBold().run(),className:`px-2 ${r.isActive("bold")?"bg-gray-100":""}`,children:m.jsx(fA,{className:"h-4 w-4"})}),m.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>r.chain().focus().toggleItalic().run(),className:`px-2 ${r.isActive("italic")?"bg-gray-100":""}`,children:m.jsx(bA,{className:"h-4 w-4"})}),m.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>r.chain().focus().toggleUnderline().run(),className:`px-2 ${r.isActive("underline")?"bg-gray-100":""}`,children:m.jsx(OA,{className:"h-4 w-4"})})]}),m.jsx("div",{className:"h-4 w-[1px] bg-gray-200 mx-1"}),m.jsxs("div",{className:"flex items-center gap-0.5",children:[m.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>r.chain().focus().toggleOrderedList().run(),className:`px-2 ${r.isActive("orderedList")?"bg-gray-100":""}`,children:m.jsx(kA,{className:"h-4 w-4"})}),m.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>r.chain().focus().toggleBulletList().run(),className:`px-2 ${r.isActive("bulletList")?"bg-gray-100":""}`,children:m.jsx(CA,{className:"h-4 w-4"})})]}),m.jsx("div",{className:"h-4 w-[1px] bg-gray-200 mx-1"}),m.jsx(oe,{variant:"ghost",size:"sm",onClick:s,className:"px-2",children:m.jsx(IC,{className:"h-4 w-4"})})]}),m.jsx("div",{className:"w-full max-h-[60vh] overflow-y-auto",children:m.jsx(LF,{editor:r,className:"prose prose-lg max-w-none w-full"})})]}):null};function MU(){const[t,e]=y.useState([]),[n,r]=y.useState(""),[s,i]=y.useState(null),[o,a]=y.useState(!1),[l,c]=y.useState(!0);y.useEffect(()=>{u()},[]);const u=async()=>{var p,g;try{const{data:w}=await ye.auth.getSession();if(!((g=(p=w==null?void 0:w.session)==null?void 0:p.user)!=null&&g.id)){Ke.error("יש להתחבר כדי לצפות ביומן");return}const{data:v,error:x}=await ye.from("learning_journal").select("*").order("created_at",{ascending:!1});if(x)throw x;e(v||[])}catch(w){console.error("Error loading entries:",w),Ke.error("שגיאה בטעינת היומן")}finally{c(!1)}},d=async(p=!1)=>{var g,w;if(!n.trim()){Ke.error("אנא הכנס תוכן ליומן");return}try{const{data:v}=await ye.auth.getSession();if(!((w=(g=v==null?void 0:v.session)==null?void 0:g.user)!=null&&w.id)){Ke.error("יש להתחבר כדי להוסיף רשומה");return}const{data:x,error:b}=await ye.from("learning_journal").insert([{content:n,is_important:p,user_id:v.session.user.id}]).select().single();if(b)throw b;x&&(e([x,...t]),r(""),Ke.success("הרשומה נוספה בהצלחה!"))}catch(v){console.error("Error adding entry:",v),Ke.error("שגיאה בהוספת רשומה")}},f=async p=>{try{const{error:g}=await ye.from("learning_journal").delete().eq("id",p);if(g)throw g;e(t.filter(w=>w.id!==p)),Ke.success("הרשומה נמחקה בהצלחה!")}catch(g){console.error("Error deleting entry:",g),Ke.error("שגיאה במחיקת רשומה")}},h=async()=>{if(s)try{const{error:p}=await ye.from("learning_journal").update({content:s.content}).eq("id",s.id);if(p)throw p;e(t.map(g=>g.id===s.id?s:g)),a(!1),i(null),Ke.success("הרשומה עודכנה בהצלחה!")}catch(p){console.error("Error updating entry:",p),Ke.error("שגיאה בעדכון רשומה")}};return l?m.jsx("div",{children:"טוען..."}):m.jsxs(Ge,{className:"p-6 w-full",children:[m.jsx("h2",{className:"text-2xl font-bold mb-4",children:"יומן למידה"}),m.jsxs("div",{className:"space-y-4 w-full",children:[m.jsxs("div",{className:"space-y-2 w-full",children:[m.jsx("h3",{className:"text-lg",children:"מה למדת היום?"}),m.jsx(fb,{content:n,onChange:r})]}),m.jsxs("div",{className:"flex space-x-2",children:[m.jsx(oe,{onClick:()=>d(!1),className:"flex-1",children:"הוסף רשומה"}),m.jsx(oe,{onClick:()=>d(!0),variant:"secondary",className:"flex-1",children:"הוסף כהערה חשובה"})]})]}),m.jsx("div",{className:"mt-6 space-y-4",children:t.map(p=>m.jsxs(Ge,{className:`p-4 ${p.is_important?"border-2 border-yellow-500":""}`,children:[m.jsxs("div",{className:"flex justify-between items-start mb-2",children:[m.jsx("div",{className:"flex items-center space-x-2",children:p.is_important&&m.jsx(pc,{variant:"secondary",children:"חשוב"})}),m.jsxs("div",{className:"flex space-x-2",children:[m.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>{i(p),a(!0)},children:m.jsx(NA,{className:"h-4 w-4"})}),m.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>f(p.id),children:m.jsx(dc,{className:"h-4 w-4"})})]})]}),m.jsx("div",{className:"prose prose-sm rtl",dangerouslySetInnerHTML:{__html:p.content}}),m.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:[new Date(p.created_at).toLocaleDateString()," ",new Date(p.created_at).toLocaleTimeString()]})]},p.id))}),m.jsx(Ma,{open:o,onOpenChange:a,children:m.jsxs(to,{className:"w-full max-w-4xl",children:[m.jsx(Oa,{children:m.jsx(Pa,{children:"ערוך רשומה"})}),m.jsx("div",{className:"w-full max-h-[60vh] overflow-y-auto",children:m.jsx(fb,{content:(s==null?void 0:s.content)||"",onChange:p=>i(s?{...s,content:p}:null)})}),m.jsxs("div",{className:"flex justify-end space-x-2 mt-4",children:[m.jsx(oe,{onClick:h,children:"שמור שינויים"}),m.jsx(oe,{variant:"outline",onClick:()=>{a(!1),i(null)},children:"ביטול"})]})]})})]})}const hb=t=>{let e;const n=new Set,r=(c,u)=>{const d=typeof c=="function"?c(e):c;if(!Object.is(d,e)){const f=e;e=u??(typeof d!="object"||d===null)?d:Object.assign({},e,d),n.forEach(h=>h(e,f))}},s=()=>e,a={setState:r,getState:s,getInitialState:()=>l,subscribe:c=>(n.add(c),()=>n.delete(c))},l=e=t(r,s,a);return a},OU=t=>t?hb(t):hb,PU=t=>t;function AU(t,e=PU){const n=E.useSyncExternalStore(t.subscribe,()=>e(t.getState()),()=>e(t.getInitialState()));return E.useDebugValue(n),n}const pb=t=>{const e=OU(t),n=r=>AU(e,r);return Object.assign(n,e),n},RU=t=>t?pb(t):pb;function IU(t){const e=[/(?:youtube\.com\/watch\?v=|youtu.be\/)([^&\n?#]+)/];for(const n of e){const r=t.match(n);if(r&&r[1])return r[1]}return null}async function DU(t){var r;const n=await(await fetch(`https://www.googleapis.com/youtube/v3/videos?id=${t}&part=snippet&key=AIzaSyB2J0ZTnh5216Dueqe7ZIBSWQKaRz_cqOA`)).json();if(!((r=n.items)!=null&&r[0]))throw new Error("Video not found");return{title:n.items[0].snippet.title,thumbnail:n.items[0].snippet.thumbnails.high.url}}const LN=RU((t,e)=>({videos:[],isLoading:!1,error:null,fetchVideos:async()=>{t({isLoading:!0,error:null});try{const{data:n,error:r}=await ye.from("youtube_videos").select("*").order("created_at",{ascending:!1});if(r){t({error:r.message,isLoading:!1,videos:[]});return}t({videos:n||[],isLoading:!1,error:null})}catch(n){const r=n instanceof Error?n.message:"Failed to fetch videos";t({error:r,isLoading:!1,videos:[]})}},addVideo:async n=>{t({isLoading:!0,error:null});try{const r=IU(n);if(!r)throw new Error("Invalid YouTube URL");const s=await DU(r),{error:i}=await ye.from("youtube_videos").insert({url:n,video_id:r,title:s.title,thumbnail_url:s.thumbnail});if(i)throw t({error:i.message,isLoading:!1}),i;await e().fetchVideos()}catch(r){const s=r instanceof Error?r.message:"Failed to add video";throw t({error:s,isLoading:!1}),r}},deleteVideo:async n=>{t({isLoading:!0,error:null});try{const{error:r}=await ye.from("youtube_videos").delete().eq("id",n);if(r)throw t({error:r.message,isLoading:!1}),r;await e().fetchVideos()}catch(r){const s=r instanceof Error?r.message:"Failed to delete video";throw t({error:s,isLoading:!1}),r}}}));function jU({videoId:t,onClose:e}){return m.jsx(Ma,{open:!0,onOpenChange:e,children:m.jsxs(to,{className:"max-w-4xl w-full p-0",children:[m.jsx(GE,{className:"sr-only",children:"YouTube video player"}),m.jsx("div",{className:"relative aspect-video",children:m.jsx("iframe",{src:`https://www.youtube.com/embed/${t}`,className:"w-full h-full",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})]})})}const LU=Lf("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),$N=y.forwardRef(({className:t,variant:e,...n},r)=>m.jsx("div",{ref:r,role:"alert",className:ce(LU({variant:e}),t),...n}));$N.displayName="Alert";const $U=y.forwardRef(({className:t,...e},n)=>m.jsx("h5",{ref:n,className:ce("mb-1 font-medium leading-none tracking-tight",t),...e}));$U.displayName="AlertTitle";const FN=y.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:ce("text-sm [&_p]:leading-relaxed",t),...e}));FN.displayName="AlertDescription";function FU({isOpen:t,onClose:e}){const{addVideo:n,error:r,isLoading:s}=LN(c=>({addVideo:c.addVideo,error:c.error,isLoading:c.isLoading})),[i,o]=y.useState(""),a=async c=>{c.preventDefault();try{await n(i),o(""),e()}catch{}},l=c=>c.includes("API key")?"מפתח ה-API של YouTube לא מוגדר":c.includes("Invalid YouTube URL")?"פורמט כתובת URL לא חוקי של YouTube":"שגיאה בהוספת הסרטון";return m.jsx(Ma,{open:t,onOpenChange:e,children:m.jsxs(to,{children:[m.jsx(Oa,{children:m.jsx(Pa,{children:"הוסף סרטון YouTube"})}),m.jsxs("form",{onSubmit:a,className:"space-y-4",children:[m.jsx(Hs,{value:i,onChange:c=>o(c.target.value),placeholder:"הכנס קישור YouTube",className:"w-full",disabled:s}),r&&m.jsx($N,{variant:"destructive",children:m.jsx(FN,{children:l(r)})}),m.jsx(oe,{type:"submit",className:"w-full",disabled:s,children:s?m.jsxs(m.Fragment,{children:[m.jsx(DC,{className:"mr-2 h-4 w-4 animate-spin"}),"טוען..."]}):"הוסף"})]})]})})}function zN(){const{videos:t,isLoading:e,fetchVideos:n}=LN(),[r,s]=y.useState(null),[i,o]=y.useState(!1);return y.useEffect(()=>{n()},[n]),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h2",{className:"text-2xl font-bold",children:"ספריית סרטוני YouTube"}),m.jsx(oe,{onClick:()=>o(!0),children:"הוסף סרטון"})]}),m.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:t.map(a=>m.jsxs(Ge,{className:"p-4",children:[m.jsxs("div",{className:"relative aspect-video cursor-pointer",onClick:()=>s(a.video_id),children:[m.jsx("img",{src:a.thumbnail_url,alt:a.title,className:"w-full h-full object-cover"}),m.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/30 hover:bg-black/50",children:m.jsx(LC,{className:"w-12 h-12 text-white"})})]}),m.jsx("h3",{className:"mt-2 font-medium",children:a.title})]},a.id))}),r&&m.jsx(jU,{videoId:r,onClose:()=>s(null)}),m.jsx(FU,{isOpen:i,onClose:()=>o(!1)})]})}function zU(){return m.jsxs("div",{className:"container py-6 space-y-6 text-right",dir:"rtl",children:[m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[m.jsx(DI,{}),m.jsx(C9,{})]}),m.jsxs("div",{className:"space-y-6",children:[m.jsx(jI,{}),m.jsx(DD,{}),m.jsx(A9,{}),m.jsx(K6,{}),m.jsx(zN,{}),m.jsx(l9,{}),m.jsx(MU,{})]})]})}var mb,Ee="colors",It="sizes",Y="space",BU={gap:Y,gridGap:Y,columnGap:Y,gridColumnGap:Y,rowGap:Y,gridRowGap:Y,inset:Y,insetBlock:Y,insetBlockEnd:Y,insetBlockStart:Y,insetInline:Y,insetInlineEnd:Y,insetInlineStart:Y,margin:Y,marginTop:Y,marginRight:Y,marginBottom:Y,marginLeft:Y,marginBlock:Y,marginBlockEnd:Y,marginBlockStart:Y,marginInline:Y,marginInlineEnd:Y,marginInlineStart:Y,padding:Y,paddingTop:Y,paddingRight:Y,paddingBottom:Y,paddingLeft:Y,paddingBlock:Y,paddingBlockEnd:Y,paddingBlockStart:Y,paddingInline:Y,paddingInlineEnd:Y,paddingInlineStart:Y,top:Y,right:Y,bottom:Y,left:Y,scrollMargin:Y,scrollMarginTop:Y,scrollMarginRight:Y,scrollMarginBottom:Y,scrollMarginLeft:Y,scrollMarginX:Y,scrollMarginY:Y,scrollMarginBlock:Y,scrollMarginBlockEnd:Y,scrollMarginBlockStart:Y,scrollMarginInline:Y,scrollMarginInlineEnd:Y,scrollMarginInlineStart:Y,scrollPadding:Y,scrollPaddingTop:Y,scrollPaddingRight:Y,scrollPaddingBottom:Y,scrollPaddingLeft:Y,scrollPaddingX:Y,scrollPaddingY:Y,scrollPaddingBlock:Y,scrollPaddingBlockEnd:Y,scrollPaddingBlockStart:Y,scrollPaddingInline:Y,scrollPaddingInlineEnd:Y,scrollPaddingInlineStart:Y,fontSize:"fontSizes",background:Ee,backgroundColor:Ee,backgroundImage:Ee,borderImage:Ee,border:Ee,borderBlock:Ee,borderBlockEnd:Ee,borderBlockStart:Ee,borderBottom:Ee,borderBottomColor:Ee,borderColor:Ee,borderInline:Ee,borderInlineEnd:Ee,borderInlineStart:Ee,borderLeft:Ee,borderLeftColor:Ee,borderRight:Ee,borderRightColor:Ee,borderTop:Ee,borderTopColor:Ee,caretColor:Ee,color:Ee,columnRuleColor:Ee,fill:Ee,outline:Ee,outlineColor:Ee,stroke:Ee,textDecorationColor:Ee,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:It,minBlockSize:It,maxBlockSize:It,inlineSize:It,minInlineSize:It,maxInlineSize:It,width:It,minWidth:It,maxWidth:It,height:It,minHeight:It,maxHeight:It,flexBasis:It,gridTemplateColumns:It,gridTemplateRows:It,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},VU=(t,e)=>typeof e=="function"?{"()":Function.prototype.toString.call(e)}:e,eu=()=>{const t=Object.create(null);return(e,n,...r)=>{const s=(i=>JSON.stringify(i,VU))(e);return s in t?t[s]:t[s]=n(e,...r)}},ud=Symbol.for("sxs.internal"),pv=(t,e)=>Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)),gb=t=>{for(const e in t)return!0;return!1},{hasOwnProperty:UU}=Object.prototype,Vg=t=>t.includes("-")?t:t.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),HU=/\s+(?![^()]*\))/,To=t=>e=>t(...typeof e=="string"?String(e).split(HU):[e]),yb={appearance:t=>({WebkitAppearance:t,appearance:t}),backfaceVisibility:t=>({WebkitBackfaceVisibility:t,backfaceVisibility:t}),backdropFilter:t=>({WebkitBackdropFilter:t,backdropFilter:t}),backgroundClip:t=>({WebkitBackgroundClip:t,backgroundClip:t}),boxDecorationBreak:t=>({WebkitBoxDecorationBreak:t,boxDecorationBreak:t}),clipPath:t=>({WebkitClipPath:t,clipPath:t}),content:t=>({content:t.includes('"')||t.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(t)?t:`"${t}"`}),hyphens:t=>({WebkitHyphens:t,hyphens:t}),maskImage:t=>({WebkitMaskImage:t,maskImage:t}),maskSize:t=>({WebkitMaskSize:t,maskSize:t}),tabSize:t=>({MozTabSize:t,tabSize:t}),textSizeAdjust:t=>({WebkitTextSizeAdjust:t,textSizeAdjust:t}),userSelect:t=>({WebkitUserSelect:t,userSelect:t}),marginBlock:To((t,e)=>({marginBlockStart:t,marginBlockEnd:e||t})),marginInline:To((t,e)=>({marginInlineStart:t,marginInlineEnd:e||t})),maxSize:To((t,e)=>({maxBlockSize:t,maxInlineSize:e||t})),minSize:To((t,e)=>({minBlockSize:t,minInlineSize:e||t})),paddingBlock:To((t,e)=>({paddingBlockStart:t,paddingBlockEnd:e||t})),paddingInline:To((t,e)=>({paddingInlineStart:t,paddingInlineEnd:e||t}))},zp=/([\d.]+)([^]*)/,WU=(t,e)=>t.length?t.reduce((n,r)=>(n.push(...e.map(s=>s.includes("&")?s.replace(/&/g,/[ +>|~]/.test(r)&&/&.*&/.test(s)?`:is(${r})`:r):r+" "+s)),n),[]):e,KU=(t,e)=>t in qU&&typeof e=="string"?e.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(n,r,s,i)=>r+(s==="stretch"?`-moz-available${i};${Vg(t)}:${r}-webkit-fill-available`:`-moz-fit-content${i};${Vg(t)}:${r}fit-content`)+i):String(e),qU={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},qr=t=>t?t+"-":"",BN=(t,e,n)=>t.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(r,s,i,o,a)=>o=="$"==!!i?r:(s||o=="--"?"calc(":"")+"var(--"+(o==="$"?qr(e)+(a.includes("$")?"":qr(n))+a.replace(/\$/g,"-"):a)+")"+(s||o=="--"?"*"+(s||"")+(i||"1")+")":"")),GU=/\s*,\s*(?![^()]*\))/,JU=Object.prototype.toString,Wo=(t,e,n,r,s)=>{let i,o,a;const l=(c,u,d)=>{let f,h;const p=g=>{for(f in g){const x=f.charCodeAt(0)===64,b=x&&Array.isArray(g[f])?g[f]:[g[f]];for(h of b){const S=/[A-Z]/.test(v=f)?v:v.replace(/-[^]/g,C=>C[1].toUpperCase()),k=typeof h=="object"&&h&&h.toString===JU&&(!r.utils[S]||!u.length);if(S in r.utils&&!k){const C=r.utils[S];if(C!==o){o=C,p(C(h)),o=null;continue}}else if(S in yb){const C=yb[S];if(C!==a){a=C,p(C(h)),a=null;continue}}if(x&&(w=f.slice(1)in r.media?"@media "+r.media[f.slice(1)]:f,f=w.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(C,_,M,O,P,L)=>{const I=zp.test(_),V=.0625*(I?-1:1),[F,J]=I?[O,_]:[_,O];return"("+(M[0]==="="?"":M[0]===">"===I?"max-":"min-")+F+":"+(M[0]!=="="&&M.length===1?J.replace(zp,(U,ne,R)=>Number(ne)+V*(M===">"?1:-1)+R):J)+(P?") and ("+(P[0]===">"?"min-":"max-")+F+":"+(P.length===1?L.replace(zp,(U,ne,R)=>Number(ne)+V*(P===">"?-1:1)+R):L):"")+")"})),k){const C=x?d.concat(f):[...d],_=x?[...u]:WU(u,f.split(GU));i!==void 0&&s(vb(...i)),i=void 0,l(h,_,C)}else i===void 0&&(i=[[],u,d]),f=x||f.charCodeAt(0)!==36?f:`--${qr(r.prefix)}${f.slice(1).replace(/\$/g,"-")}`,h=k?h:typeof h=="number"?h&&S in QU?String(h)+"px":String(h):BN(KU(S,h??""),r.prefix,r.themeMap[S]),i[0].push(`${x?`${f} `:`${Vg(f)}:`}${h}`)}}var w,v};p(c),i!==void 0&&s(vb(...i)),i=void 0};l(t,e,n)},vb=(t,e,n)=>`${n.map(r=>`${r}{`).join("")}${e.length?`${e.join(",")}{`:""}${t.join(";")}${e.length?"}":""}${Array(n.length?n.length+1:0).join("}")}`,QU={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},wb=t=>String.fromCharCode(t+(t>25?39:97)),Wi=t=>(e=>{let n,r="";for(n=Math.abs(e);n>52;n=n/52|0)r=wb(n%52)+r;return wb(n%52)+r})(((e,n)=>{let r=n.length;for(;r;)e=33*e^n.charCodeAt(--r);return e})(5381,JSON.stringify(t))>>>0),Nl=["themed","global","styled","onevar","resonevar","allvar","inline"],YU=t=>{if(t.href&&!t.href.startsWith(location.origin))return!1;try{return!!t.cssRules}catch{return!1}},XU=t=>{let e;const n=()=>{const{cssRules:s}=e.sheet;return[].map.call(s,(i,o)=>{const{cssText:a}=i;let l="";if(a.startsWith("--sxs"))return"";if(s[o-1]&&(l=s[o-1].cssText).startsWith("--sxs")){if(!i.cssRules.length)return"";for(const c in e.rules)if(e.rules[c].group===i)return`--sxs{--sxs:${[...e.rules[c].cache].join(" ")}}${a}`;return i.cssRules.length?`${l}${a}`:""}return a}).join("")},r=()=>{if(e){const{rules:a,sheet:l}=e;if(!l.deleteRule){for(;Object(Object(l.cssRules)[0]).type===3;)l.cssRules.splice(0,1);l.cssRules=[]}for(const c in a)delete a[c]}const s=Object(t).styleSheets||[];for(const a of s)if(YU(a)){for(let l=0,c=a.cssRules;c[l];++l){const u=Object(c[l]);if(u.type!==1)continue;const d=Object(c[l+1]);if(d.type!==4)continue;++l;const{cssText:f}=u;if(!f.startsWith("--sxs"))continue;const h=f.slice(14,-3).trim().split(/\s+/),p=Nl[h[0]];p&&(e||(e={sheet:a,reset:r,rules:{},toString:n}),e.rules[p]={group:d,index:l,cache:new Set(h)})}if(e)break}if(!e){const a=(l,c)=>({type:c,cssRules:[],insertRule(u,d){this.cssRules.splice(d,0,a(u,{import:3,undefined:1}[(u.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return l==="@media{}"?`@media{${[].map.call(this.cssRules,u=>u.cssText).join("")}}`:l}});e={sheet:t?(t.head||t).appendChild(document.createElement("style")).sheet:a("","text/css"),rules:{},reset:r,toString:n}}const{sheet:i,rules:o}=e;for(let a=Nl.length-1;a>=0;--a){const l=Nl[a];if(!o[l]){const c=Nl[a+1],u=o[c]?o[c].index:i.cssRules.length;i.insertRule("@media{}",u),i.insertRule(`--sxs{--sxs:${a}}`,u),o[l]={group:i.cssRules[u+1],index:u,cache:new Set([a])}}ZU(o[l])}};return r(),e},ZU=t=>{const e=t.group;let n=e.cssRules.length;t.apply=r=>{try{e.insertRule(r,n),++n}catch{}}},yl=Symbol(),eH=eu(),tH=(t,e)=>eH(t,()=>(...n)=>{let r={type:null,composers:new Set};for(const s of n)if(s!=null)if(s[ud]){r.type==null&&(r.type=s[ud].type);for(const i of s[ud].composers)r.composers.add(i)}else s.constructor!==Object||s.$$typeof?r.type==null&&(r.type=s):r.composers.add(nH(s,t));return r.type==null&&(r.type="span"),r.composers.size||r.composers.add(["PJLV",{},[],[],{},[]]),rH(t,r,e)}),nH=({variants:t,compoundVariants:e,defaultVariants:n,...r},s)=>{const i=`${qr(s.prefix)}c-${Wi(r)}`,o=[],a=[],l=Object.create(null),c=[];for(const f in n)l[f]=String(n[f]);if(typeof t=="object"&&t)for(const f in t){u=l,d=f,UU.call(u,d)||(l[f]="undefined");const h=t[f];for(const p in h){const g={[f]:String(p)};String(p)==="undefined"&&c.push(f);const w=h[p],v=[g,w,!gb(w)];o.push(v)}}var u,d;if(typeof e=="object"&&e)for(const f of e){let{css:h,...p}=f;h=typeof h=="object"&&h||{};for(const w in p)p[w]=String(p[w]);const g=[p,h,!gb(h)];a.push(g)}return[i,r,o,a,l,c]},rH=(t,e,n)=>{const[r,s,i,o]=sH(e.composers),a=typeof e.type=="function"||e.type.$$typeof?(d=>{function f(){for(let h=0;h<f[yl].length;h++){const[p,g]=f[yl][h];d.rules[p].apply(g)}return f[yl]=[],null}return f[yl]=[],f.rules={},Nl.forEach(h=>f.rules[h]={apply:p=>f[yl].push([h,p])}),f})(n):null,l=(a||n).rules,c=`.${r}${s.length>1?`:where(.${s.slice(1).join(".")})`:""}`,u=d=>{d=typeof d=="object"&&d||iH;const{css:f,...h}=d,p={};for(const v in i)if(delete h[v],v in d){let x=d[v];typeof x=="object"&&x?p[v]={"@initial":i[v],...x}:(x=String(x),p[v]=x!=="undefined"||o.has(v)?x:i[v])}else p[v]=i[v];const g=new Set([...s]);for(const[v,x,b,S]of e.composers){n.rules.styled.cache.has(v)||(n.rules.styled.cache.add(v),Wo(x,[`.${v}`],[],t,_=>{l.styled.apply(_)}));const k=xb(b,p,t.media),C=xb(S,p,t.media,!0);for(const _ of k)if(_!==void 0)for(const[M,O,P]of _){const L=`${v}-${Wi(O)}-${M}`;g.add(L);const I=(P?n.rules.resonevar:n.rules.onevar).cache,V=P?l.resonevar:l.onevar;I.has(L)||(I.add(L),Wo(O,[`.${L}`],[],t,F=>{V.apply(F)}))}for(const _ of C)if(_!==void 0)for(const[M,O]of _){const P=`${v}-${Wi(O)}-${M}`;g.add(P),n.rules.allvar.cache.has(P)||(n.rules.allvar.cache.add(P),Wo(O,[`.${P}`],[],t,L=>{l.allvar.apply(L)}))}}if(typeof f=="object"&&f){const v=`${r}-i${Wi(f)}-css`;g.add(v),n.rules.inline.cache.has(v)||(n.rules.inline.cache.add(v),Wo(f,[`.${v}`],[],t,x=>{l.inline.apply(x)}))}for(const v of String(d.className||"").trim().split(/\s+/))v&&g.add(v);const w=h.className=[...g].join(" ");return{type:e.type,className:w,selector:c,props:h,toString:()=>w,deferredInjector:a}};return pv(u,{className:r,selector:c,[ud]:e,toString:()=>(n.rules.styled.cache.has(r)||u(),r)})},sH=t=>{let e="";const n=[],r={},s=[];for(const[i,,,,o,a]of t){e===""&&(e=i),n.push(i),s.push(...a);for(const l in o){const c=o[l];(r[l]===void 0||c!=="undefined"||a.includes(c))&&(r[l]=c)}}return[e,n,r,new Set(s)]},xb=(t,e,n,r)=>{const s=[];e:for(let[i,o,a]of t){if(a)continue;let l,c=0,u=!1;for(l in i){const d=i[l];let f=e[l];if(f!==d){if(typeof f!="object"||!f)continue e;{let h,p,g=0;for(const w in f){if(d===String(f[w])){if(w!=="@initial"){const v=w.slice(1);(p=p||[]).push(v in n?n[v]:w.replace(/^@media ?/,"")),u=!0}c+=g,h=!0}++g}if(p&&p.length&&(o={["@media "+p.join(", ")]:o}),!h)continue e}}}(s[c]=s[c]||[]).push([r?"cv":`${l}-${i[l]}`,o,u])}return s},iH={},oH=eu(),aH=(t,e)=>oH(t,()=>(...n)=>{const r=()=>{for(let s of n){s=typeof s=="object"&&s||{};let i=Wi(s);if(!e.rules.global.cache.has(i)){if(e.rules.global.cache.add(i),"@import"in s){let o=[].indexOf.call(e.sheet.cssRules,e.rules.themed.group)-1;for(let a of[].concat(s["@import"]))a=a.includes('"')||a.includes("'")?a:`"${a}"`,e.sheet.insertRule(`@import ${a};`,o++);delete s["@import"]}Wo(s,[],[],t,o=>{e.rules.global.apply(o)})}}return""};return pv(r,{toString:r})}),lH=eu(),cH=(t,e)=>lH(t,()=>n=>{const r=`${qr(t.prefix)}k-${Wi(n)}`,s=()=>{if(!e.rules.global.cache.has(r)){e.rules.global.cache.add(r);const i=[];Wo(n,[],[],t,a=>i.push(a));const o=`@keyframes ${r}{${i.join("")}}`;e.rules.global.apply(o)}return r};return pv(s,{get name(){return s()},toString:s})}),uH=class{constructor(e,n,r,s){this.token=e==null?"":String(e),this.value=n==null?"":String(n),this.scale=r==null?"":String(r),this.prefix=s==null?"":String(s)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+qr(this.prefix)+qr(this.scale)+this.token}toString(){return this.computedValue}},dH=eu(),fH=(t,e)=>dH(t,()=>(n,r)=>{r=typeof n=="object"&&n||Object(r);const s=`.${n=(n=typeof n=="string"?n:"")||`${qr(t.prefix)}t-${Wi(r)}`}`,i={},o=[];for(const l in r){i[l]={};for(const c in r[l]){const u=`--${qr(t.prefix)}${l}-${c}`,d=BN(String(r[l][c]),t.prefix,l);i[l][c]=new uH(c,d,l,t.prefix),o.push(`${u}:${d}`)}}const a=()=>{if(o.length&&!e.rules.themed.cache.has(n)){e.rules.themed.cache.add(n);const l=`${r===t.theme?":root,":""}.${n}{${o.join(";")}}`;e.rules.themed.apply(l)}return n};return{...i,get className(){return a()},selector:s,toString:a}}),hH=eu(),VN=t=>{let e=!1;const n=hH(t,r=>{e=!0;const s="prefix"in(r=typeof r=="object"&&r||{})?String(r.prefix):"",i=typeof r.media=="object"&&r.media||{},o=typeof r.root=="object"?r.root||null:globalThis.document||null,a=typeof r.theme=="object"&&r.theme||{},l={prefix:s,media:i,theme:a,themeMap:typeof r.themeMap=="object"&&r.themeMap||{...BU},utils:typeof r.utils=="object"&&r.utils||{}},c=XU(o),u={css:tH(l,c),globalCss:aH(l,c),keyframes:cH(l,c),createTheme:fH(l,c),reset(){c.reset(),u.theme.toString()},theme:{},sheet:c,config:l,prefix:s,getCssText:c.toString,toString:c.toString};return String(u.theme=u.createTheme(a)),u});return e||n.reset(),n},UN=()=>mb||(mb=VN()),pH=(...t)=>UN().createTheme(...t),Xr=(...t)=>UN().css(...t),mH={default:{colors:{brand:"hsl(153 60.0% 53.0%)",brandAccent:"hsl(154 54.8% 45.1%)",brandButtonText:"white",defaultButtonBackground:"white",defaultButtonBackgroundHover:"#eaeaea",defaultButtonBorder:"lightgray",defaultButtonText:"gray",dividerBackground:"#eaeaea",inputBackground:"transparent",inputBorder:"lightgray",inputBorderHover:"gray",inputBorderFocus:"gray",inputText:"black",inputLabelText:"gray",inputPlaceholder:"darkgray",messageText:"#2b805a",messageBackground:"#e7fcf1",messageBorder:"#d0f3e1",messageTextDanger:"#ff6369",messageBackgroundDanger:"#fff8f8",messageBorderDanger:"#822025",anchorTextColor:"gray",anchorTextHoverColor:"darkgray"},space:{spaceSmall:"4px",spaceMedium:"8px",spaceLarge:"16px",labelBottomMargin:"8px",anchorBottomMargin:"4px",emailInputSpacing:"4px",socialAuthSpacing:"4px",buttonPadding:"10px 15px",inputPadding:"10px 15px"},fontSizes:{baseBodySize:"13px",baseInputSize:"14px",baseLabelSize:"14px",baseButtonSize:"14px"},fonts:{bodyFontFamily:"ui-sans-serif, sans-serif",buttonFontFamily:"ui-sans-serif, sans-serif",inputFontFamily:"ui-sans-serif, sans-serif",labelFontFamily:"ui-sans-serif, sans-serif"},borderWidths:{buttonBorderWidth:"1px",inputBorderWidth:"1px"},radii:{borderRadiusButton:"4px",buttonBorderRadius:"4px",inputBorderRadius:"4px"}},dark:{colors:{brandButtonText:"white",defaultButtonBackground:"#2e2e2e",defaultButtonBackgroundHover:"#3e3e3e",defaultButtonBorder:"#3e3e3e",defaultButtonText:"white",dividerBackground:"#2e2e2e",inputBackground:"#1e1e1e",inputBorder:"#3e3e3e",inputBorderHover:"gray",inputBorderFocus:"gray",inputText:"white",inputPlaceholder:"darkgray",messageText:"#85e0b7",messageBackground:"#072719",messageBorder:"#2b805a",messageBackgroundDanger:"#1f1315"}}},Ue={SIGN_IN:"sign_in",SIGN_UP:"sign_up",FORGOTTEN_PASSWORD:"forgotten_password",MAGIC_LINK:"magic_link",UPDATE_PASSWORD:"update_password",VERIFY_OTP:"verify_otp"},gH="supabase-auth-ui",yH={ROOT:"root",SIGN_IN:Ue.SIGN_IN,SIGN_UP:Ue.SIGN_UP,FORGOTTEN_PASSWORD:Ue.FORGOTTEN_PASSWORD,MAGIC_LINK:Ue.MAGIC_LINK,UPDATE_PASSWORD:Ue.UPDATE_PASSWORD,anchor:"ui-anchor",button:"ui-button",container:"ui-container",divider:"ui-divider",input:"ui-input",label:"ui-label",loader:"ui-loader",message:"ui-message"};function go(t,e,n){var r,s;const i=[],o=yH[t];return i.push(n!=null&&n.prependedClassName?(n==null?void 0:n.prependedClassName)+"_"+o:gH+"_"+o),(r=n==null?void 0:n.className)!=null&&r[t]&&i.push((s=n==null?void 0:n.className)==null?void 0:s[t]),((n==null?void 0:n.extend)===void 0||(n==null?void 0:n.extend)===!0)&&i.push(e),i}function Ug(t,e){let n;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(Array.isArray(e))for(n=0;n<e.length;n++)t[n]=Ug(t[n],e[n]);else for(n in e)t[n]=Ug(t[n],e[n]);return t}return e}function Bp(t,...e){let n=e.length;for(let r=0;r<n;r++)t=Ug(t,e[r]);return t}function vH(t,e){return t.replace(/{{(\w+)}}/g,(n,r)=>e.hasOwnProperty(r)?e[r]:n)}var wH={sign_up:{email_label:"Email address",password_label:"Create a Password",email_input_placeholder:"Your email address",password_input_placeholder:"Your password",button_label:"Sign up",loading_button_label:"Signing up ...",social_provider_text:"Sign in with {{provider}}",link_text:"Don't have an account? Sign up",confirmation_text:"Check your email for the confirmation link"},sign_in:{email_label:"Email address",password_label:"Your Password",email_input_placeholder:"Your email address",password_input_placeholder:"Your password",button_label:"Sign in",loading_button_label:"Signing in ...",social_provider_text:"Sign in with {{provider}}",link_text:"Already have an account? Sign in"},magic_link:{email_input_label:"Email address",email_input_placeholder:"Your email address",button_label:"Send Magic Link",loading_button_label:"Sending Magic Link ...",link_text:"Send a magic link email",confirmation_text:"Check your email for the magic link"},forgotten_password:{email_label:"Email address",password_label:"Your Password",email_input_placeholder:"Your email address",button_label:"Send reset password instructions",loading_button_label:"Sending reset instructions ...",link_text:"Forgot your password?",confirmation_text:"Check your email for the password reset link"},update_password:{password_label:"New password",password_input_placeholder:"Your new password",button_label:"Update password",loading_button_label:"Updating password ...",confirmation_text:"Your password has been updated"},verify_otp:{email_input_label:"Email address",email_input_placeholder:"Your email address",phone_input_label:"Phone number",phone_input_placeholder:"Your phone number",token_input_label:"Token",token_input_placeholder:"Your Otp token",button_label:"Verify token",loading_button_label:"Signing in ..."}};const xH=Xr({fontFamily:"$bodyFontFamily",fontSize:"$baseBodySize",marginBottom:"$anchorBottomMargin",color:"$anchorTextColor",display:"block",textAlign:"center",textDecoration:"underline","&:hover":{color:"$anchorTextHoverColor"}}),Mi=({children:t,appearance:e,...n})=>{var r;const s=go("anchor",xH(),e);return E.createElement("a",{...n,style:(r=e==null?void 0:e.style)==null?void 0:r.anchor,className:s.join(" ")},t)},bH=Xr({fontFamily:"$buttonFontFamily",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",borderRadius:"$borderRadiusButton",fontSize:"$baseButtonSize",padding:"$buttonPadding",cursor:"pointer",borderWidth:"$buttonBorderWidth",borderStyle:"solid",width:"100%",transitionProperty:"background-color",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"100ms","&:disabled":{opacity:.7,cursor:"unset"},variants:{color:{default:{backgroundColor:"$defaultButtonBackground",color:"$defaultButtonText",borderColor:"$defaultButtonBorder","&:hover:not(:disabled)":{backgroundColor:"$defaultButtonBackgroundHover"}},primary:{backgroundColor:"$brand",color:"$brandButtonText",borderColor:"$brandAccent","&:hover:not(:disabled)":{backgroundColor:"$brandAccent"}}}}}),Xa=({children:t,color:e="default",appearance:n,icon:r,loading:s=!1,...i})=>{var o;const a=go("button",bH({color:e}),n);return E.createElement("button",{...i,style:(o=n==null?void 0:n.style)==null?void 0:o.button,className:a.join(" "),disabled:s},r,t)},SH=Xr({display:"flex",gap:"4px",variants:{direction:{horizontal:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(48px, 1fr))"},vertical:{flexDirection:"column",margin:"8px 0"}},gap:{small:{gap:"4px"},medium:{gap:"8px"},large:{gap:"16px"}}}}),hr=({children:t,appearance:e,...n})=>{var r;const s=go("container",SH({direction:n.direction,gap:n.gap}),e);return E.createElement("div",{...n,style:(r=e==null?void 0:e.style)==null?void 0:r.container,className:s.join(" ")},t)},kH=Xr({background:"$dividerBackground",display:"block",margin:"16px 0",height:"1px",width:"100%"}),CH=({children:t,appearance:e,...n})=>{var r;const s=go("divider",kH(),e);return E.createElement("div",{...n,style:(r=e==null?void 0:e.style)==null?void 0:r.divider,className:s.join(" ")})},EH=Xr({fontFamily:"$inputFontFamily",background:"$inputBackground",borderRadius:"$inputBorderRadius",padding:"$inputPadding",cursor:"text",borderWidth:"$inputBorderWidth",borderColor:"$inputBorder",borderStyle:"solid",fontSize:"$baseInputSize",width:"100%",color:"$inputText",boxSizing:"border-box","&:hover":{borderColor:"$inputBorderHover",outline:"none"},"&:focus":{borderColor:"$inputBorderFocus",outline:"none"},"&::placeholder":{color:"$inputPlaceholder",letterSpacing:"initial"},transitionProperty:"background-color, border",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"100ms",variants:{type:{default:{letterSpacing:"0px"},password:{letterSpacing:"0px"}}}}),Qs=({children:t,appearance:e,...n})=>{var r;const s=go("input",EH({type:n.type==="password"?"password":"default"}),e);return E.createElement("input",{...n,style:(r=e==null?void 0:e.style)==null?void 0:r.input,className:s.join(" ")},t)},_H=Xr({fontFamily:"$labelFontFamily",fontSize:"$baseLabelSize",marginBottom:"$labelBottomMargin",color:"$inputLabelText",display:"block"}),Ys=({children:t,appearance:e,...n})=>{var r;const s=go("label",_H(),e);return E.createElement("label",{...n,style:(r=e==null?void 0:e.style)==null?void 0:r.label,className:s.join(" ")},t)},TH=Xr({fontFamily:"$bodyFontFamily",fontSize:"$baseInputSize",marginBottom:"$labelBottomMargin",display:"block",textAlign:"center",borderRadius:"0.375rem",padding:"1.5rem 1rem",lineHeight:"1rem",color:"$messageText",backgroundColor:"$messageBackground",border:"1px solid $messageBorder",variants:{color:{danger:{color:"$messageTextDanger",backgroundColor:"$messageBackgroundDanger",border:"1px solid $messageBorderDanger"}}}}),vr=({children:t,appearance:e,...n})=>{var r;const s=go("message",TH({color:n.color}),e);return E.createElement("span",{...n,style:(r=e==null?void 0:e.style)==null?void 0:r.message,className:s.join(" ")},t)};function HN({setAuthView:t=()=>{},supabaseClient:e,redirectTo:n,i18n:r,appearance:s,showLinks:i=!1}){var o;const[a,l]=y.useState(""),[c,u]=y.useState(""),[d,f]=y.useState(""),[h,p]=y.useState(!1),g=async v=>{var x,b;if(v.preventDefault(),u(""),f(""),p(!0),a.length===0){u((x=r==null?void 0:r.magic_link)==null?void 0:x.empty_email_address),p(!1);return}const{error:S}=await e.auth.signInWithOtp({email:a,options:{emailRedirectTo:n}});S?u(S.message):f((b=r==null?void 0:r.magic_link)==null?void 0:b.confirmation_text),p(!1)},w=r==null?void 0:r.magic_link;return E.createElement("form",{id:"auth-magic-link",onSubmit:g},E.createElement(hr,{gap:"large",direction:"vertical",appearance:s},E.createElement("div",null,E.createElement(Ys,{htmlFor:"email",appearance:s},w==null?void 0:w.email_input_label),E.createElement(Qs,{id:"email",name:"email",type:"email",autoFocus:!0,placeholder:w==null?void 0:w.email_input_placeholder,onChange:v=>{u&&u(""),l(v.target.value)},appearance:s})),E.createElement(Xa,{color:"primary",type:"submit",loading:h,appearance:s},h?w==null?void 0:w.loading_button_label:w==null?void 0:w.button_label),i&&E.createElement(Mi,{href:"#auth-sign-in",onClick:v=>{v.preventDefault(),t(Ue.SIGN_IN)},appearance:s},(o=r==null?void 0:r.sign_in)==null?void 0:o.link_text),d&&E.createElement(vr,{appearance:s},d),c&&E.createElement(vr,{color:"danger",appearance:s},c)))}const St=Xr({width:"21px",height:"21px"}),NH=({provider:t})=>t=="google"?MH():t=="facebook"?OH():t=="twitter"?PH():t=="apple"?AH():t=="github"?RH():t=="gitlab"?IH():t=="bitbucket"?DH():t=="discord"?jH():t=="azure"?LH():t=="keycloak"?$H():t=="linkedin"?FH():t=="notion"?zH():t=="slack"?BH():t=="spotify"?VH():t=="twitch"?UH():t=="workos"?HH():t=="kakao"?WH():null,MH=()=>E.createElement("svg",{className:St(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},E.createElement("path",{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),E.createElement("path",{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),E.createElement("path",{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"}),E.createElement("path",{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"})),OH=()=>E.createElement("svg",{className:St(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},E.createElement("path",{fill:"#039be5",d:"M24 5A19 19 0 1 0 24 43A19 19 0 1 0 24 5Z"}),E.createElement("path",{fill:"#fff",d:"M26.572,29.036h4.917l0.772-4.995h-5.69v-2.73c0-2.075,0.678-3.915,2.619-3.915h3.119v-4.359c-0.548-0.074-1.707-0.236-3.897-0.236c-4.573,0-7.254,2.415-7.254,7.917v3.323h-4.701v4.995h4.701v13.729C22.089,42.905,23.032,43,24,43c0.875,0,1.729-0.08,2.572-0.194V29.036z"})),PH=()=>E.createElement("svg",{className:St(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},E.createElement("path",{fill:"#03A9F4",d:"M42,12.429c-1.323,0.586-2.746,0.977-4.247,1.162c1.526-0.906,2.7-2.351,3.251-4.058c-1.428,0.837-3.01,1.452-4.693,1.776C34.967,9.884,33.05,9,30.926,9c-4.08,0-7.387,3.278-7.387,7.32c0,0.572,0.067,1.129,0.193,1.67c-6.138-0.308-11.582-3.226-15.224-7.654c-0.64,1.082-1,2.349-1,3.686c0,2.541,1.301,4.778,3.285,6.096c-1.211-0.037-2.351-0.374-3.349-0.914c0,0.022,0,0.055,0,0.086c0,3.551,2.547,6.508,5.923,7.181c-0.617,0.169-1.269,0.263-1.941,0.263c-0.477,0-0.942-0.054-1.392-0.135c0.94,2.902,3.667,5.023,6.898,5.086c-2.528,1.96-5.712,3.134-9.174,3.134c-0.598,0-1.183-0.034-1.761-0.104C9.268,36.786,13.152,38,17.321,38c13.585,0,21.017-11.156,21.017-20.834c0-0.317-0.01-0.633-0.025-0.945C39.763,15.197,41.013,13.905,42,12.429"})),AH=()=>E.createElement("svg",{className:St(),fill:"gray",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"21px",height:"21px"}," ",E.createElement("path",{d:"M 15.904297 1.078125 C 15.843359 1.06875 15.774219 1.0746094 15.699219 1.0996094 C 14.699219 1.2996094 13.600391 1.8996094 12.900391 2.5996094 C 12.300391 3.1996094 11.800781 4.1996094 11.800781 5.0996094 C 11.800781 5.2996094 11.999219 5.5 12.199219 5.5 C 13.299219 5.4 14.399609 4.7996094 15.099609 4.0996094 C 15.699609 3.2996094 16.199219 2.4 16.199219 1.5 C 16.199219 1.275 16.087109 1.10625 15.904297 1.078125 z M 16.199219 5.4003906 C 14.399219 5.4003906 13.600391 6.5 12.400391 6.5 C 11.100391 6.5 9.9003906 5.5 8.4003906 5.5 C 6.3003906 5.5 3.0996094 7.4996094 3.0996094 12.099609 C 2.9996094 16.299609 6.8 21 9 21 C 10.3 21 10.600391 20.199219 12.400391 20.199219 C 14.200391 20.199219 14.600391 21 15.900391 21 C 17.400391 21 18.500391 19.399609 19.400391 18.099609 C 19.800391 17.399609 20.100391 17.000391 20.400391 16.400391 C 20.600391 16.000391 20.4 15.600391 20 15.400391 C 17.4 14.100391 16.900781 9.9003906 19.800781 8.4003906 C 20.300781 8.1003906 20.4 7.4992188 20 7.1992188 C 18.9 6.1992187 17.299219 5.4003906 16.199219 5.4003906 z"})),RH=()=>E.createElement("svg",{className:St(),fill:"gray",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30",width:"21px",height:"21px"}," ",E.createElement("path",{d:"M15,3C8.373,3,3,8.373,3,15c0,5.623,3.872,10.328,9.092,11.63C12.036,26.468,12,26.28,12,26.047v-2.051 c-0.487,0-1.303,0-1.508,0c-0.821,0-1.551-0.353-1.905-1.009c-0.393-0.729-0.461-1.844-1.435-2.526 c-0.289-0.227-0.069-0.486,0.264-0.451c0.615,0.174,1.125,0.596,1.605,1.222c0.478,0.627,0.703,0.769,1.596,0.769 c0.433,0,1.081-0.025,1.691-0.121c0.328-0.833,0.895-1.6,1.588-1.962c-3.996-0.411-5.903-2.399-5.903-5.098 c0-1.162,0.495-2.286,1.336-3.233C9.053,10.647,8.706,8.73,9.435,8c1.798,0,2.885,1.166,3.146,1.481C13.477,9.174,14.461,9,15.495,9 c1.036,0,2.024,0.174,2.922,0.483C18.675,9.17,19.763,8,21.565,8c0.732,0.731,0.381,2.656,0.102,3.594 c0.836,0.945,1.328,2.066,1.328,3.226c0,2.697-1.904,4.684-5.894,5.097C18.199,20.49,19,22.1,19,23.313v2.734 c0,0.104-0.023,0.179-0.035,0.268C23.641,24.676,27,20.236,27,15C27,8.373,21.627,3,15,3z"})),IH=()=>E.createElement("svg",{className:St(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},E.createElement("path",{fill:"#e53935",d:"M24 43L16 20 32 20z"}),E.createElement("path",{fill:"#ff7043",d:"M24 43L42 20 32 20z"}),E.createElement("path",{fill:"#e53935",d:"M37 5L42 20 32 20z"}),E.createElement("path",{fill:"#ffa726",d:"M24 43L42 20 45 28z"}),E.createElement("path",{fill:"#ff7043",d:"M24 43L6 20 16 20z"}),E.createElement("path",{fill:"#e53935",d:"M11 5L6 20 16 20z"}),E.createElement("path",{fill:"#ffa726",d:"M24 43L6 20 3 28z"})),DH=()=>E.createElement("svg",{className:St(),xmlns:"http://www.w3.org/2000/svg",width:"512",height:"512",viewBox:"0 0 62.42 62.42"},E.createElement("defs",null,E.createElement("linearGradient",{id:"New_Gradient_Swatch_1",x1:"64.01",y1:"30.27",x2:"32.99",y2:"54.48",gradientUnits:"userSpaceOnUse"},E.createElement("stop",{offset:"0.18",stopColor:"#0052cc"}),E.createElement("stop",{offset:"1",stopColor:"#2684ff"}))),E.createElement("title",null,"Bitbucket-blue"),E.createElement("g",{id:"Layer_2","data-name":"Layer 2"},E.createElement("g",{id:"Blue",transform:"translate(0 -3.13)"},E.createElement("path",{d:"M2,6.26A2,2,0,0,0,0,8.58L8.49,60.12a2.72,2.72,0,0,0,2.66,2.27H51.88a2,2,0,0,0,2-1.68L62.37,8.59a2,2,0,0,0-2-2.32ZM37.75,43.51h-13L21.23,25.12H40.9Z",fill:"#2684ff"}),E.createElement("path",{d:"M59.67,25.12H40.9L37.75,43.51h-13L9.4,61.73a2.71,2.71,0,0,0,1.75.66H51.89a2,2,0,0,0,2-1.68Z",fill:"url(#New_Gradient_Swatch_1)"})))),jH=()=>E.createElement("svg",{className:St(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},E.createElement("path",{fill:"#536dfe",d:"M39.248,10.177c-2.804-1.287-5.812-2.235-8.956-2.778c-0.057-0.01-0.114,0.016-0.144,0.068	c-0.387,0.688-0.815,1.585-1.115,2.291c-3.382-0.506-6.747-0.506-10.059,0c-0.3-0.721-0.744-1.603-1.133-2.291	c-0.03-0.051-0.087-0.077-0.144-0.068c-3.143,0.541-6.15,1.489-8.956,2.778c-0.024,0.01-0.045,0.028-0.059,0.051	c-5.704,8.522-7.267,16.835-6.5,25.044c0.003,0.04,0.026,0.079,0.057,0.103c3.763,2.764,7.409,4.442,10.987,5.554	c0.057,0.017,0.118-0.003,0.154-0.051c0.846-1.156,1.601-2.374,2.248-3.656c0.038-0.075,0.002-0.164-0.076-0.194	c-1.197-0.454-2.336-1.007-3.432-1.636c-0.087-0.051-0.094-0.175-0.014-0.234c0.231-0.173,0.461-0.353,0.682-0.534	c0.04-0.033,0.095-0.04,0.142-0.019c7.201,3.288,14.997,3.288,22.113,0c0.047-0.023,0.102-0.016,0.144,0.017	c0.22,0.182,0.451,0.363,0.683,0.536c0.08,0.059,0.075,0.183-0.012,0.234c-1.096,0.641-2.236,1.182-3.434,1.634	c-0.078,0.03-0.113,0.12-0.075,0.196c0.661,1.28,1.415,2.498,2.246,3.654c0.035,0.049,0.097,0.07,0.154,0.052	c3.595-1.112,7.241-2.79,11.004-5.554c0.033-0.024,0.054-0.061,0.057-0.101c0.917-9.491-1.537-17.735-6.505-25.044	C39.293,10.205,39.272,10.187,39.248,10.177z M16.703,30.273c-2.168,0-3.954-1.99-3.954-4.435s1.752-4.435,3.954-4.435	c2.22,0,3.989,2.008,3.954,4.435C20.658,28.282,18.906,30.273,16.703,30.273z M31.324,30.273c-2.168,0-3.954-1.99-3.954-4.435	s1.752-4.435,3.954-4.435c2.22,0,3.989,2.008,3.954,4.435C35.278,28.282,33.544,30.273,31.324,30.273z"})),LH=()=>E.createElement("svg",{className:St(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},E.createElement("linearGradient",{id:"k8yl7~hDat~FaoWq8WjN6a",x1:"-1254.397",x2:"-1261.911",y1:"877.268",y2:"899.466",gradientTransform:"translate(1981.75 -1362.063) scale(1.5625)",gradientUnits:"userSpaceOnUse"},E.createElement("stop",{offset:"0",stopColor:"#114a8b"}),E.createElement("stop",{offset:"1",stopColor:"#0669bc"})),E.createElement("path",{fill:"url(#k8yl7~hDat~FaoWq8WjN6a)",d:"M17.634,6h11.305L17.203,40.773c-0.247,0.733-0.934,1.226-1.708,1.226H6.697 c-0.994,0-1.8-0.806-1.8-1.8c0-0.196,0.032-0.39,0.094-0.576L15.926,7.227C16.173,6.494,16.86,6,17.634,6L17.634,6z"}),E.createElement("path",{fill:"#0078d4",d:"M34.062,29.324H16.135c-0.458-0.001-0.83,0.371-0.831,0.829c0,0.231,0.095,0.451,0.264,0.608 l11.52,10.752C27.423,41.826,27.865,42,28.324,42h10.151L34.062,29.324z"}),E.createElement("linearGradient",{id:"k8yl7~hDat~FaoWq8WjN6b",x1:"-1252.05",x2:"-1253.788",y1:"887.612",y2:"888.2",gradientTransform:"translate(1981.75 -1362.063) scale(1.5625)",gradientUnits:"userSpaceOnUse"},E.createElement("stop",{offset:"0",stopOpacity:".3"}),E.createElement("stop",{offset:".071",stopOpacity:".2"}),E.createElement("stop",{offset:".321",stopOpacity:".1"}),E.createElement("stop",{offset:".623",stopOpacity:".05"}),E.createElement("stop",{offset:"1",stopOpacity:"0"})),E.createElement("path",{fill:"url(#k8yl7~hDat~FaoWq8WjN6b)",d:"M17.634,6c-0.783-0.003-1.476,0.504-1.712,1.25L5.005,39.595 c-0.335,0.934,0.151,1.964,1.085,2.299C6.286,41.964,6.493,42,6.702,42h9.026c0.684-0.122,1.25-0.603,1.481-1.259l2.177-6.416 l7.776,7.253c0.326,0.27,0.735,0.419,1.158,0.422h10.114l-4.436-12.676l-12.931,0.003L28.98,6H17.634z"}),E.createElement("linearGradient",{id:"k8yl7~hDat~FaoWq8WjN6c",x1:"-1252.952",x2:"-1244.704",y1:"876.6",y2:"898.575",gradientTransform:"translate(1981.75 -1362.063) scale(1.5625)",gradientUnits:"userSpaceOnUse"},E.createElement("stop",{offset:"0",stopColor:"#3ccbf4"}),E.createElement("stop",{offset:"1",stopColor:"#2892df"})),E.createElement("path",{fill:"url(#k8yl7~hDat~FaoWq8WjN6c)",d:"M32.074,7.225C31.827,6.493,31.141,6,30.368,6h-12.6c0.772,0,1.459,0.493,1.705,1.224 l10.935,32.399c0.318,0.942-0.188,1.963-1.13,2.281C29.093,41.968,28.899,42,28.703,42h12.6c0.994,0,1.8-0.806,1.8-1.801 c0-0.196-0.032-0.39-0.095-0.575L32.074,7.225z"})),$H=()=>E.createElement("svg",{className:St(),width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},E.createElement("path",{d:"M472.136 163.959H408.584C407.401 163.959 406.218 163.327 405.666 162.3L354.651 73.6591C354.02 72.632 352.916 72 351.654 72H143.492C142.309 72 141.126 72.632 140.574 73.6591L87.5084 165.618L36.414 254.259C35.862 255.286 35.862 256.55 36.414 257.656L87.5084 346.297L140.495 438.335C141.047 439.362 142.23 440.073 143.413 439.994H351.654C352.837 439.994 354.02 439.362 354.651 438.335L405.745 349.694C406.297 348.667 407.48 347.956 408.663 348.035H472.215C474.344 348.035 476 346.297 476 344.243V167.83C475.921 165.697 474.186 163.959 472.136 163.959ZM228.728 349.694L212.721 377.345C212.485 377.74 212.091 378.135 211.696 378.372C211.223 378.609 210.75 378.767 210.198 378.767H178.422C177.318 378.767 176.293 378.214 175.82 377.187L128.431 294.787L123.779 286.65L106.748 257.498C106.511 257.103 106.353 256.629 106.432 256.076C106.432 255.602 106.59 255.049 106.827 254.654L123.937 224.949L175.899 134.886C176.451 133.938 177.476 133.306 178.501 133.306H210.198C210.75 133.306 211.302 133.464 211.854 133.701C212.248 133.938 212.643 134.254 212.879 134.728L228.886 162.537C229.359 163.485 229.28 164.67 228.728 165.539L177.397 254.654C177.16 255.049 177.081 255.523 177.081 255.918C177.081 256.392 177.239 256.787 177.397 257.182L228.728 346.218C229.438 347.403 229.359 348.667 228.728 349.694V349.694ZM388.083 257.498L371.051 286.65L366.399 294.787L319.011 377.187C318.459 378.135 317.512 378.767 316.409 378.767H284.632C284.08 378.767 283.607 378.609 283.134 378.372C282.74 378.135 282.346 377.819 282.109 377.345L266.103 349.694C265.393 348.667 265.393 347.403 266.024 346.376L317.355 257.34C317.591 256.945 317.67 256.471 317.67 256.076C317.67 255.602 317.513 255.207 317.355 254.812L266.024 165.697C265.472 164.749 265.393 163.643 265.866 162.695L281.873 134.886C282.109 134.491 282.503 134.096 282.898 133.859C283.371 133.543 283.923 133.464 284.553 133.464H316.409C317.512 133.464 318.538 134.017 319.011 135.044L370.972 225.107L388.083 254.812C388.319 255.286 388.477 255.76 388.477 256.234C388.477 256.55 388.319 257.024 388.083 257.498V257.498Z",fill:"#008AAA"})),FH=()=>E.createElement("svg",{className:St(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},E.createElement("path",{fill:"#0288D1",d:"M42,37c0,2.762-2.238,5-5,5H11c-2.761,0-5-2.238-5-5V11c0-2.762,2.239-5,5-5h26c2.762,0,5,2.238,5,5V37z"}),E.createElement("path",{fill:"#FFF",d:"M12 19H17V36H12zM14.485 17h-.028C12.965 17 12 15.888 12 14.499 12 13.08 12.995 12 14.514 12c1.521 0 2.458 1.08 2.486 2.499C17 15.887 16.035 17 14.485 17zM36 36h-5v-9.099c0-2.198-1.225-3.698-3.192-3.698-1.501 0-2.313 1.012-2.707 1.99C24.957 25.543 25 26.511 25 27v9h-5V19h5v2.616C25.721 20.5 26.85 19 29.738 19c3.578 0 6.261 2.25 6.261 7.274L36 36 36 36z"})),zH=()=>E.createElement("svg",{className:St(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px",fillRule:"evenodd",clipRule:"evenodd"},E.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M11.553,11.099c1.232,1.001,1.694,0.925,4.008,0.77 l21.812-1.31c0.463,0,0.078-0.461-0.076-0.538l-3.622-2.619c-0.694-0.539-1.619-1.156-3.391-1.002l-21.12,1.54 c-0.77,0.076-0.924,0.461-0.617,0.77L11.553,11.099z",clipRule:"evenodd"}),E.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M12.862,16.182v22.95c0,1.233,0.616,1.695,2.004,1.619 l23.971-1.387c1.388-0.076,1.543-0.925,1.543-1.927V14.641c0-1-0.385-1.54-1.234-1.463l-25.05,1.463 C13.171,14.718,12.862,15.181,12.862,16.182L12.862,16.182z",clipRule:"evenodd"}),E.createElement("path",{fill:"#424242",fillRule:"evenodd",d:"M11.553,11.099c1.232,1.001,1.694,0.925,4.008,0.77 l21.812-1.31c0.463,0,0.078-0.461-0.076-0.538l-3.622-2.619c-0.694-0.539-1.619-1.156-3.391-1.002l-21.12,1.54 c-0.77,0.076-0.924,0.461-0.617,0.77L11.553,11.099z M12.862,16.182v22.95c0,1.233,0.616,1.695,2.004,1.619l23.971-1.387 c1.388-0.076,1.543-0.925,1.543-1.927V14.641c0-1-0.385-1.54-1.234-1.463l-25.05,1.463C13.171,14.718,12.862,15.181,12.862,16.182 L12.862,16.182z M36.526,17.413c0.154,0.694,0,1.387-0.695,1.465l-1.155,0.23v16.943c-1.003,0.539-1.928,0.847-2.698,0.847 c-1.234,0-1.543-0.385-2.467-1.54l-7.555-11.86v11.475l2.391,0.539c0,0,0,1.386-1.929,1.386l-5.317,0.308 c-0.154-0.308,0-1.078,0.539-1.232l1.388-0.385V20.418l-1.927-0.154c-0.155-0.694,0.23-1.694,1.31-1.772l5.704-0.385l7.862,12.015 V19.493l-2.005-0.23c-0.154-0.848,0.462-1.464,1.233-1.54L36.526,17.413z M7.389,5.862l21.968-1.618 c2.698-0.231,3.392-0.076,5.087,1.155l7.013,4.929C42.614,11.176,43,11.407,43,12.33v27.032c0,1.694-0.617,2.696-2.775,2.849 l-25.512,1.541c-1.62,0.077-2.391-0.154-3.239-1.232l-5.164-6.7C5.385,34.587,5,33.664,5,32.585V8.556 C5,7.171,5.617,6.015,7.389,5.862z",clipRule:"evenodd"})),BH=()=>E.createElement("svg",{className:St(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},E.createElement("path",{fill:"#33d375",d:"M33,8c0-2.209-1.791-4-4-4s-4,1.791-4,4c0,1.254,0,9.741,0,11c0,2.209,1.791,4,4,4s4-1.791,4-4	C33,17.741,33,9.254,33,8z"}),E.createElement("path",{fill:"#33d375",d:"M43,19c0,2.209-1.791,4-4,4c-1.195,0-4,0-4,0s0-2.986,0-4c0-2.209,1.791-4,4-4S43,16.791,43,19z"}),E.createElement("path",{fill:"#40c4ff",d:"M8,14c-2.209,0-4,1.791-4,4s1.791,4,4,4c1.254,0,9.741,0,11,0c2.209,0,4-1.791,4-4s-1.791-4-4-4	C17.741,14,9.254,14,8,14z"}),E.createElement("path",{fill:"#40c4ff",d:"M19,4c2.209,0,4,1.791,4,4c0,1.195,0,4,0,4s-2.986,0-4,0c-2.209,0-4-1.791-4-4S16.791,4,19,4z"}),E.createElement("path",{fill:"#e91e63",d:"M14,39.006C14,41.212,15.791,43,18,43s4-1.788,4-3.994c0-1.252,0-9.727,0-10.984	c0-2.206-1.791-3.994-4-3.994s-4,1.788-4,3.994C14,29.279,14,37.754,14,39.006z"}),E.createElement("path",{fill:"#e91e63",d:"M4,28.022c0-2.206,1.791-3.994,4-3.994c1.195,0,4,0,4,0s0,2.981,0,3.994c0,2.206-1.791,3.994-4,3.994	S4,30.228,4,28.022z"}),E.createElement("path",{fill:"#ffc107",d:"M39,33c2.209,0,4-1.791,4-4s-1.791-4-4-4c-1.254,0-9.741,0-11,0c-2.209,0-4,1.791-4,4s1.791,4,4,4	C29.258,33,37.746,33,39,33z"}),E.createElement("path",{fill:"#ffc107",d:"M28,43c-2.209,0-4-1.791-4-4c0-1.195,0-4,0-4s2.986,0,4,0c2.209,0,4,1.791,4,4S30.209,43,28,43z"})),VH=()=>E.createElement("svg",{className:St(),width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},E.createElement("path",{d:"M255.498 31.0034C131.513 31.0034 31 131.515 31 255.502C31 379.492 131.513 480 255.498 480C379.497 480 480 379.495 480 255.502C480 131.522 379.497 31.0135 255.495 31.0135L255.498 31V31.0034ZM358.453 354.798C354.432 361.391 345.801 363.486 339.204 359.435C286.496 327.237 220.139 319.947 141.993 337.801C134.463 339.516 126.957 334.798 125.24 327.264C123.516 319.731 128.217 312.225 135.767 310.511C221.284 290.972 294.639 299.384 353.816 335.549C360.413 339.596 362.504 348.2 358.453 354.798ZM385.932 293.67C380.864 301.903 370.088 304.503 361.858 299.438C301.512 262.345 209.528 251.602 138.151 273.272C128.893 276.067 119.118 270.851 116.309 261.61C113.521 252.353 118.74 242.597 127.981 239.782C209.512 215.044 310.87 227.026 380.17 269.612C388.4 274.68 391 285.456 385.935 293.676V293.673L385.932 293.67ZM388.293 230.016C315.935 187.039 196.56 183.089 127.479 204.055C116.387 207.42 104.654 201.159 101.293 190.063C97.9326 178.964 104.189 167.241 115.289 163.87C194.59 139.796 326.418 144.446 409.723 193.902C419.722 199.826 422.995 212.71 417.068 222.675C411.168 232.653 398.247 235.943 388.303 230.016H388.293V230.016Z",fill:"#1ED760"})),UH=()=>E.createElement("svg",{className:St(),width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},E.createElement("path",{d:"M416 240L352 304H288L232 360V304H160V64H416V240Z",fill:"white"}),E.createElement("path",{d:"M144 32L64 112V400H160V480L240 400H304L448 256V32H144ZM416 240L352 304H288L232 360V304H160V64H416V240Z",fill:"#9146FF"}),E.createElement("path",{d:"M368 120H336V216H368V120Z",fill:"#9146FF"}),E.createElement("path",{d:"M280 120H248V216H280V120Z",fill:"#9146FF"})),HH=()=>E.createElement("svg",{className:St(),width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},E.createElement("path",{d:"M33 256.043C33 264.556 35.3159 273.069 39.4845 280.202L117.993 415.493C126.098 429.298 138.373 440.572 153.657 445.634C183.764 455.528 214.797 442.873 229.618 417.333L248.609 384.661L173.806 256.043L252.777 119.831L271.768 87.1591C277.557 77.2654 284.968 69.4424 294 63H285.894H172.185C150.878 63 131.193 74.2742 120.54 92.6812L39.7161 231.884C35.3159 239.016 33 247.53 33 256.043Z",fill:"#6363F1"}),E.createElement("path",{d:"M480 256.058C480 247.539 477.684 239.021 473.516 231.883L393.849 94.6596C379.028 69.3331 347.995 56.4396 317.888 66.34C302.603 71.4053 290.329 82.6871 282.224 96.5015L264.391 127.354L339.194 256.058L260.223 392.131L241.232 424.825C235.443 434.495 228.032 442.553 219 449H227.106H340.815C362.122 449 381.807 437.718 392.46 419.299L473.284 280.003C477.684 272.866 480 264.577 480 256.058Z",fill:"#6363F1"})),WH=()=>E.createElement("svg",{className:St(),xmlns:"http://www.w3.org/2000/svg",width:"2500",height:"2500",viewBox:"0 0 256 256"},E.createElement("path",{fill:"#FFE812",d:"M256 236c0 11.046-8.954 20-20 20H20c-11.046 0-20-8.954-20-20V20C0 8.954 8.954 0 20 0h216c11.046 0 20 8.954 20 20v216z"}),E.createElement("path",{d:"M128 36C70.562 36 24 72.713 24 118c0 29.279 19.466 54.97 48.748 69.477-1.593 5.494-10.237 35.344-10.581 37.689 0 0-.207 1.762.934 2.434s2.483.15 2.483.15c3.272-.457 37.943-24.811 43.944-29.04 5.995.849 12.168 1.29 18.472 1.29 57.438 0 104-36.712 104-82 0-45.287-46.562-82-104-82z"}),E.createElement("path",{fill:"#FFE812",d:"M70.5 146.625c-3.309 0-6-2.57-6-5.73V105.25h-9.362c-3.247 0-5.888-2.636-5.888-5.875s2.642-5.875 5.888-5.875h30.724c3.247 0 5.888 2.636 5.888 5.875s-2.642 5.875-5.888 5.875H76.5v35.645c0 3.16-2.691 5.73-6 5.73zM123.112 146.547c-2.502 0-4.416-1.016-4.993-2.65l-2.971-7.778-18.296-.001-2.973 7.783c-.575 1.631-2.488 2.646-4.99 2.646a9.155 9.155 0 0 1-3.814-.828c-1.654-.763-3.244-2.861-1.422-8.52l14.352-37.776c1.011-2.873 4.082-5.833 7.99-5.922 3.919.088 6.99 3.049 8.003 5.928l14.346 37.759c1.826 5.672.236 7.771-1.418 8.532a9.176 9.176 0 0 1-3.814.827c-.001 0 0 0 0 0zm-11.119-21.056L106 108.466l-5.993 17.025h11.986zM138 145.75c-3.171 0-5.75-2.468-5.75-5.5V99.5c0-3.309 2.748-6 6.125-6s6.125 2.691 6.125 6v35.25h12.75c3.171 0 5.75 2.468 5.75 5.5s-2.579 5.5-5.75 5.5H138zM171.334 146.547c-3.309 0-6-2.691-6-6V99.5c0-3.309 2.691-6 6-6s6 2.691 6 6v12.896l16.74-16.74c.861-.861 2.044-1.335 3.328-1.335 1.498 0 3.002.646 4.129 1.772 1.051 1.05 1.678 2.401 1.764 3.804.087 1.415-.384 2.712-1.324 3.653l-13.673 13.671 14.769 19.566a5.951 5.951 0 0 1 1.152 4.445 5.956 5.956 0 0 1-2.328 3.957 5.94 5.94 0 0 1-3.609 1.211 5.953 5.953 0 0 1-4.793-2.385l-14.071-18.644-2.082 2.082v13.091a6.01 6.01 0 0 1-6.002 6.003z"}));function KH({supabaseClient:t,socialLayout:e="vertical",providers:n=["github","google","azure"],providerScopes:r,queryParams:s,redirectTo:i,onlyThirdPartyProviders:o=!0,view:a="sign_in",i18n:l,appearance:c}){const[u,d]=y.useState(!1),[f,h]=y.useState(""),p=e==="vertical",g=a==="magic_link"?"sign_in":a,w=async x=>{d(!0);const{error:b}=await t.auth.signInWithOAuth({provider:x,options:{redirectTo:i,scopes:r==null?void 0:r[x],queryParams:s}});b&&h(b.message),d(!1)};function v(x){const b=x.toLowerCase();return x.charAt(0).toUpperCase()+b.slice(1)}return E.createElement(E.Fragment,null,n&&n.length>0&&E.createElement(E.Fragment,null,E.createElement(hr,{gap:"large",direction:"vertical",appearance:c},E.createElement(hr,{direction:p?"vertical":"horizontal",gap:p?"small":"medium",appearance:c},n.map(x=>{var b;return E.createElement(Xa,{key:x,color:"default",loading:u,onClick:()=>w(x),appearance:c},E.createElement(NH,{provider:x}),p&&vH((b=l==null?void 0:l[g])==null?void 0:b.social_provider_text,{provider:v(x)}))}))),!o&&E.createElement(CH,{appearance:c})))}function bb({authView:t="sign_in",defaultEmail:e="",defaultPassword:n="",setAuthView:r=()=>{},setDefaultEmail:s=p=>{},setDefaultPassword:i=p=>{},supabaseClient:o,showLinks:a=!1,redirectTo:l,additionalData:c,magicLink:u,i18n:d,appearance:f,children:h}){var p,g,w,v;const x=y.useRef(!0),[b,S]=y.useState(e),[k,C]=y.useState(n),[_,M]=y.useState(""),[O,P]=y.useState(!1),[L,I]=y.useState("");y.useEffect(()=>(x.current=!0,S(e),C(n),()=>{x.current=!1}),[t]);const V=async U=>{var ne;switch(U.preventDefault(),M(""),P(!0),t){case"sign_in":const{error:R}=await o.auth.signInWithPassword({email:b,password:k});R&&M(R.message);break;case"sign_up":let j={emailRedirectTo:l};c&&(j.data=c);const{data:{user:W,session:te},error:pe}=await o.auth.signUp({email:b,password:k,options:j});pe?M(pe.message):W&&!te&&I((ne=d==null?void 0:d.sign_up)==null?void 0:ne.confirmation_text);break}x.current&&P(!1)},F=U=>{s(b),i(k),r(U)},J=d==null?void 0:d[t];return E.createElement("form",{id:t==="sign_in"?"auth-sign-in":"auth-sign-up",onSubmit:V,autoComplete:"on",style:{width:"100%"}},E.createElement(hr,{direction:"vertical",gap:"large",appearance:f},E.createElement(hr,{direction:"vertical",gap:"large",appearance:f},E.createElement("div",null,E.createElement(Ys,{htmlFor:"email",appearance:f},J==null?void 0:J.email_label),E.createElement(Qs,{id:"email",type:"email",name:"email",placeholder:J==null?void 0:J.email_input_placeholder,defaultValue:b,onChange:U=>S(U.target.value),autoComplete:"email",appearance:f})),E.createElement("div",null,E.createElement(Ys,{htmlFor:"password",appearance:f},J==null?void 0:J.password_label),E.createElement(Qs,{id:"password",type:"password",name:"password",placeholder:J==null?void 0:J.password_input_placeholder,defaultValue:k,onChange:U=>C(U.target.value),autoComplete:t==="sign_in"?"current-password":"new-password",appearance:f})),h),E.createElement(Xa,{type:"submit",color:"primary",loading:O,appearance:f},O?J==null?void 0:J.loading_button_label:J==null?void 0:J.button_label),a&&E.createElement(hr,{direction:"vertical",gap:"small",appearance:f},t===Ue.SIGN_IN&&u&&E.createElement(Mi,{href:"#auth-magic-link",onClick:U=>{U.preventDefault(),r(Ue.MAGIC_LINK)},appearance:f},(p=d==null?void 0:d.magic_link)==null?void 0:p.link_text),t===Ue.SIGN_IN&&E.createElement(Mi,{href:"#auth-forgot-password",onClick:U=>{U.preventDefault(),r(Ue.FORGOTTEN_PASSWORD)},appearance:f},(g=d==null?void 0:d.forgotten_password)==null?void 0:g.link_text),t===Ue.SIGN_IN?E.createElement(Mi,{href:"#auth-sign-up",onClick:U=>{U.preventDefault(),F(Ue.SIGN_UP)},appearance:f},(w=d==null?void 0:d.sign_up)==null?void 0:w.link_text):E.createElement(Mi,{href:"#auth-sign-in",onClick:U=>{U.preventDefault(),F(Ue.SIGN_IN)},appearance:f},(v=d==null?void 0:d.sign_in)==null?void 0:v.link_text))),L&&E.createElement(vr,{appearance:f},L),_&&E.createElement(vr,{color:"danger",appearance:f},_))}function WN({setAuthView:t=()=>{},supabaseClient:e,redirectTo:n,i18n:r,appearance:s,showLinks:i=!1}){var o;const[a,l]=y.useState(""),[c,u]=y.useState(""),[d,f]=y.useState(""),[h,p]=y.useState(!1),g=async v=>{var x;v.preventDefault(),u(""),f(""),p(!0);const{error:b}=await e.auth.resetPasswordForEmail(a,{redirectTo:n});b?u(b.message):f((x=r==null?void 0:r.forgotten_password)==null?void 0:x.confirmation_text),p(!1)},w=r==null?void 0:r.forgotten_password;return E.createElement("form",{id:"auth-forgot-password",onSubmit:g},E.createElement(hr,{direction:"vertical",gap:"large",appearance:s},E.createElement(hr,{gap:"large",direction:"vertical",appearance:s},E.createElement("div",null,E.createElement(Ys,{htmlFor:"email",appearance:s},w==null?void 0:w.email_label),E.createElement(Qs,{id:"email",name:"email",type:"email",autoFocus:!0,placeholder:w==null?void 0:w.email_input_placeholder,onChange:v=>l(v.target.value),appearance:s})),E.createElement(Xa,{type:"submit",color:"primary",loading:h,appearance:s},h?w==null?void 0:w.loading_button_label:w==null?void 0:w.button_label),i&&E.createElement(Mi,{href:"#auth-sign-in",onClick:v=>{v.preventDefault(),t(Ue.SIGN_IN)},appearance:s},(o=r==null?void 0:r.sign_in)==null?void 0:o.link_text),d&&E.createElement(vr,{appearance:s},d),c&&E.createElement(vr,{color:"danger",appearance:s},c))))}function KN({supabaseClient:t,i18n:e,appearance:n}){const[r,s]=y.useState(""),[i,o]=y.useState(""),[a,l]=y.useState(""),[c,u]=y.useState(!1),d=async h=>{var p;h.preventDefault(),o(""),l(""),u(!0);const{error:g}=await t.auth.updateUser({password:r});g?o(g.message):l((p=e==null?void 0:e.update_password)==null?void 0:p.confirmation_text),u(!1)},f=e==null?void 0:e.update_password;return E.createElement("form",{id:"auth-update-password",onSubmit:d},E.createElement(hr,{gap:"large",direction:"vertical",appearance:n},E.createElement("div",null,E.createElement(Ys,{htmlFor:"password",appearance:n},f==null?void 0:f.password_label),E.createElement(Qs,{id:"password",name:"password",placeholder:f==null?void 0:f.password_input_placeholder,type:"password",autoFocus:!0,onChange:h=>s(h.target.value),appearance:n})),E.createElement(Xa,{type:"submit",color:"primary",loading:c,appearance:n},c?f==null?void 0:f.loading_button_label:f==null?void 0:f.button_label),a&&E.createElement(vr,{appearance:n},a),i&&E.createElement(vr,{color:"danger",appearance:n},i)))}function qH({setAuthView:t=()=>{},supabaseClient:e,otpType:n="email",i18n:r,appearance:s,showLinks:i=!1}){var o;const[a,l]=y.useState(""),[c,u]=y.useState(""),[d,f]=y.useState(""),[h,p]=y.useState(""),[g,w]=y.useState(""),[v,x]=y.useState(!1),b=async k=>{k.preventDefault(),p(""),w(""),x(!0);let C={email:a,token:d,type:n};["sms","phone_change"].includes(n)&&(C={phone:c,token:d,type:n});const{error:_}=await e.auth.verifyOtp(C);_&&p(_.message),x(!1)},S=r==null?void 0:r.verify_otp;return E.createElement("form",{id:"auth-magic-link",onSubmit:b},E.createElement(hr,{gap:"large",direction:"vertical",appearance:s},["sms","phone_change"].includes(n)?E.createElement("div",null,E.createElement(Ys,{htmlFor:"phone",appearance:s},S==null?void 0:S.phone_input_label),E.createElement(Qs,{id:"phone",name:"phone",type:"text",autoFocus:!0,placeholder:S==null?void 0:S.phone_input_placeholder,onChange:k=>u(k.target.value),appearance:s})):E.createElement("div",null,E.createElement(Ys,{htmlFor:"email",appearance:s},S==null?void 0:S.email_input_label),E.createElement(Qs,{id:"email",name:"email",type:"email",autoFocus:!0,placeholder:S==null?void 0:S.email_input_placeholder,onChange:k=>l(k.target.value),appearance:s})),E.createElement("div",null,E.createElement(Ys,{htmlFor:"token",appearance:s},S==null?void 0:S.token_input_label),E.createElement(Qs,{id:"token",name:"token",type:"text",placeholder:S==null?void 0:S.token_input_placeholder,onChange:k=>f(k.target.value),appearance:s})),E.createElement(Xa,{color:"primary",type:"submit",loading:v,appearance:s},v?S==null?void 0:S.loading_button_label:S==null?void 0:S.button_label),i&&E.createElement(Mi,{href:"#auth-sign-in",onClick:k=>{k.preventDefault(),t(Ue.SIGN_IN)},appearance:s},(o=r==null?void 0:r.sign_in)==null?void 0:o.link_text),g&&E.createElement(vr,{appearance:s},g),h&&E.createElement(vr,{color:"danger",appearance:s},h)))}const qN=y.createContext({user:null,session:null}),GH=t=>{const{supabaseClient:e}=t,[n,r]=y.useState(null),[s,i]=y.useState((n==null?void 0:n.user)??null);y.useEffect(()=>{(async()=>{var l;const{data:c}=await e.auth.getSession();r(c.session),i(((l=c.session)==null?void 0:l.user)??null)})();const{data:a}=e.auth.onAuthStateChange(async(l,c)=>{r(c),i((c==null?void 0:c.user)??null)});return()=>{a==null||a.subscription.unsubscribe()}},[]);const o={session:n,user:s};return E.createElement(qN.Provider,{value:o,...t})},JH=()=>{const t=y.useContext(qN);if(t===void 0)throw new Error("useUser must be used within a UserContextProvider.");return t};function Za({supabaseClient:t,socialLayout:e="vertical",providers:n,providerScopes:r,queryParams:s,view:i="sign_in",redirectTo:o,onlyThirdPartyProviders:a=!1,magicLink:l=!1,showLinks:c=!0,appearance:u,theme:d="default",localization:f={variables:{}},otpType:h="email",additionalData:p,children:g}){const w=Bp(wH,f.variables??{}),[v,x]=y.useState(i),[b,S]=y.useState(""),[k,C]=y.useState(""),_=v==="sign_in"||v==="sign_up"||v==="magic_link";y.useEffect(()=>{var P,L;VN({theme:Bp(((P=u==null?void 0:u.theme)==null?void 0:P.default)??{},((L=u==null?void 0:u.variables)==null?void 0:L.default)??{})})},[u]);const M=({children:P})=>{var L;return E.createElement("div",{className:d!=="default"?pH(Bp(u==null?void 0:u.theme[d],((L=u==null?void 0:u.variables)==null?void 0:L[d])??{})):""},_&&E.createElement(KH,{appearance:u,supabaseClient:t,providers:n,providerScopes:r,queryParams:s,socialLayout:e,redirectTo:o,onlyThirdPartyProviders:a,i18n:w,view:v}),!a&&P)};y.useEffect(()=>{const{data:P}=t.auth.onAuthStateChange(L=>{L==="PASSWORD_RECOVERY"?x("update_password"):L==="USER_UPDATED"&&x("sign_in")});return x(i),()=>P.subscription.unsubscribe()},[i]);const O={supabaseClient:t,setAuthView:x,defaultEmail:b,defaultPassword:k,setDefaultEmail:S,setDefaultPassword:C,redirectTo:o,magicLink:l,showLinks:c,i18n:w,appearance:u};switch(v){case Ue.SIGN_IN:return E.createElement(M,null,E.createElement(bb,{...O,authView:"sign_in"}));case Ue.SIGN_UP:return E.createElement(M,null,E.createElement(bb,{appearance:u,supabaseClient:t,authView:"sign_up",setAuthView:x,defaultEmail:b,defaultPassword:k,setDefaultEmail:S,setDefaultPassword:C,redirectTo:o,magicLink:l,showLinks:c,i18n:w,additionalData:p,children:g}));case Ue.FORGOTTEN_PASSWORD:return E.createElement(M,null,E.createElement(WN,{appearance:u,supabaseClient:t,setAuthView:x,redirectTo:o,showLinks:c,i18n:w}));case Ue.MAGIC_LINK:return E.createElement(M,null,E.createElement(HN,{appearance:u,supabaseClient:t,setAuthView:x,redirectTo:o,showLinks:c,i18n:w}));case Ue.UPDATE_PASSWORD:return E.createElement(KN,{appearance:u,supabaseClient:t,i18n:w});case Ue.VERIFY_OTP:return E.createElement(qH,{appearance:u,supabaseClient:t,otpType:h,i18n:w});default:return null}}Za.ForgottenPassword=WN;Za.UpdatePassword=KN;Za.MagicLink=HN;Za.UserContextProvider=GH;Za.useUser=JH;Xr({borderRadius:"12px",boxShadow:"rgba(100, 100, 111, 0.2) 0px 7px 29px 0px",width:"360px",padding:"28px 32px"});function QH(){const t=z0();return y.useEffect(()=>{ye.auth.onAuthStateChange((e,n)=>{n&&t("/")})},[t]),m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",dir:"rtl",children:m.jsxs(Ge,{className:"w-full max-w-md space-y-8 p-8",children:[m.jsx("div",{children:m.jsx("h2",{className:"text-center text-3xl font-bold tracking-tight text-gray-900",children:"התחברות לקורס קריפטו"})}),m.jsx(Za,{supabaseClient:ye,appearance:{theme:mH},providers:["google"],localization:{variables:{sign_in:{email_label:"אימייל",password_label:"סיסמה",button_label:"התחבר"}}}})]})})}function YH(){return m.jsx(QH,{})}const XH=new QD;function Sb({children:t}){const{session:e,loading:n}=qa();return n?m.jsx("div",{children:"טוען..."}):e?m.jsx(m.Fragment,{children:t}):m.jsx(cP,{to:"/login"})}function ZH(){return m.jsx(tj,{client:XH,children:m.jsx(pP,{children:m.jsxs(SI,{children:[m.jsxs(dP,{children:[m.jsx(Yu,{path:"/login",element:m.jsx(YH,{})}),m.jsx(Yu,{path:"/",element:m.jsx(Sb,{children:m.jsx(zU,{})})}),m.jsx(Yu,{path:"/youtube-library",element:m.jsx(Sb,{children:m.jsx(zN,{})})})]}),m.jsx(hR,{})]})})})}Gk(document.getElementById("root")).render(m.jsx(ZH,{}));export{Rb as g};
